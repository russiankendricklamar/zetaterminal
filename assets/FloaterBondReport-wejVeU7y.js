import{d as e,v as a,u as l,r as s,o as t,R as i,c as n,e as u,t as o,j as r,x as c,y as d,n as p,I as v,f as _,F as g,i as y,p as m,q as b}from"./vendor-DLyKmMu8.js";import{C as h}from"./auto-DlDBEVoY.js";import{u as f,w as k}from"./xlsx-Dmkey_AY.js";import{b as x,a as F}from"./bondReportService-4QMyUOg1.js";import{_ as S}from"./index-BaahR4yN.js";import"./apiHeaders-DCeXWvJ_.js";const C={class:"page-container"},I={class:"section-header"},w={class:"header-left"},M={key:0,class:"section-title"},R={key:1,class:"section-title"},U={key:2,class:"section-subtitle"},$={class:"text-accent"},V={key:3,class:"section-subtitle"},D={class:"text-accent"},z={class:"header-actions"},N={class:"glass-pill"},A=["disabled"],P={class:"glass-pill"},T=["disabled"],W={key:0,class:"state-section"},E={class:"glass-card"},Y={key:1,class:"state-section"},q={class:"glass-card error"},G={key:2,class:"state-section"},O={key:3,class:"report-content"},Q={class:"grid-2"},j={class:"glass-card"},B={class:"info-table"},X={class:"value"},H={key:1},J={class:"value mono"},L={class:"value"},K={key:1},Z={class:"value"},ee={key:1},ae={class:"value"},le={key:1},se={class:"value mono"},te={key:1},ie={class:"value"},ne={class:"value"},ue={class:"glass-card"},oe={class:"info-table"},re={class:"value mono"},ce={key:1},de={class:"value mono"},pe={key:1},ve={class:"value mono"},_e={key:1},ge={class:"value accent"},ye={key:1},me={class:"value"},be={key:0,class:"accent"},he={key:0},fe={key:1},ke={class:"value accent"},xe={key:1},Fe={class:"value mono"},Se={key:1},Ce={class:"value mono"},Ie={key:1},we={class:"value"},Me={key:0,class:"accent"},Re={key:1},Ue={class:"value mono"},$e={key:1},Ve={class:"grid-3"},De={class:"glass-card"},ze={key:0,class:"ratings-list"},Ne={class:"agency"},Ae={class:"grade"},Pe={class:"date mono"},Te={key:1,class:"muted"},We={class:"glass-card"},Ee={key:0,class:"ratings-list"},Ye={class:"agency"},qe={class:"rating-info"},Ge={class:"grade"},Oe={key:0,class:"outlook"},Qe={class:"date mono"},je={key:1,class:"muted"},Be={class:"glass-card"},Xe={key:0,class:"ratings-list"},He={class:"agency"},Je={class:"grade"},Le={class:"date mono"},Ke={key:1,class:"muted"},Ze={class:"grid-3"},ea={class:"glass-card"},aa={class:"card-header"},la={key:0,class:"status-badge fulfilled"},sa={key:1,class:"status-badge inactive"},ta={class:"metric-list"},ia={class:"metric"},na={class:"val"},ua={class:"metric"},oa={class:"val"},ra={class:"metric"},ca={class:"val"},da={class:"metric"},pa={class:"val"},va={key:0,class:"status-badge fulfilled"},_a={key:1},ga={class:"glass-card"},ya={class:"metric-list"},ma={class:"metric"},ba={class:"val accent"},ha={key:1},fa={class:"metric"},ka={class:"val accent"},xa={key:1},Fa={class:"metric"},Sa={class:"val accent"},Ca={class:"metric"},Ia={class:"val mono"},wa={class:"metric"},Ma={class:"val mono"},Ra={key:1},Ua={key:0},$a={class:"metric"},Va={class:"val mono"},Da={key:1},za={class:"metric"},Na={class:"val mono"},Aa={class:"glass-card"},Pa={class:"metric-list"},Ta={class:"metric"},Wa={class:"val"},Ea={key:1},Ya={class:"metric"},qa={class:"val"},Ga={key:1},Oa={class:"metric"},Qa={class:"val"},ja={key:1},Ba={class:"metric"},Xa={class:"val"},Ha={key:1},Ja={class:"glass-card full-width"},La={class:"chart-header"},Ka={class:"chart-container tall"},Za={class:"glass-card full-width"},el={class:"chart-header"},al={class:"chart-container tall"},ll={class:"glass-card full-width"},sl={class:"comparison-section"},tl={class:"comparison-table"},il={class:"mono"},nl={class:"mono"},ul={class:"mono"},ol={class:"highlight-row"},rl={class:"mono accent"},cl={class:"mono"},dl={class:"mono"},pl={class:"chart-container indices-chart"},vl={class:"glass-card full-width"},_l={class:"analogous-input-section"},gl={class:"glass-pill"},yl=["disabled"],ml={key:0,class:"analogs-list"},bl={class:"analog-isin mono"},hl={class:"analog-name"},fl=["onClick"],kl={class:"chart-container tall"},xl={key:0,class:"note-text"},Fl={key:0,class:"glass-card full-width"},Sl={class:"card-header"},Cl={class:"muted"},Il={class:"schedule-table-wrap"},wl={class:"schedule-table"},Ml={class:"mono"},Rl={class:"mono"},Ul={class:"mono"},$l={key:1,class:"glass-card full-width"},Vl={class:"card-header"},Dl={class:"muted"},zl={class:"schedule-table-wrap"},Nl={class:"schedule-table"},Al={class:"mono"},Pl={class:"mono"},Tl={class:"mono"},Wl={class:"glass-card full-width"},El={key:0,class:"events-list"},Yl={class:"event-date mono"},ql={class:"event-description"},Gl={key:1,class:"muted"},Ol=S(e({__name:"FloaterBondReport",setup(e){const S=l(),Ol=m(),Ql=a(()=>S.params.isin||""),jl=s(Ql.value),Bl=a(()=>{if(!Ll.value?.indices)return null;const e=Ll.value.indices;return e.gov_less_1y??e.gov_1_3y??e.gov_3_5y??e.gov_5plus??null}),Xl=s(!1),Hl=s("–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö..."),Jl=s(null),Ll=s(null),Kl=s((new Date).toISOString().split("T")[0]),Zl=s(!1),es=s(null),as=s(""),ls=s(!1),ss=s([]),ts=s(!1),is=s(null),ns=s(null),us=s(null),os=s(null);let rs=null,cs=null,ds=null,ps=null;const vs=async e=>{if(e){Xl.value=!0,Hl.value="–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ñ–ª–æ–∞—Ç–µ—Ä–∞ —Å MOEX ISS...",Jl.value=null,Ll.value=null;try{Hl.value="–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å MOEX ISS, ZCYC –∏ RuData...";const a=await x(e,Kl.value);Ll.value=a,setTimeout(()=>fs(),100)}catch(a){Jl.value=a.message||"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö",console.error("Floater bond report error:",a)}finally{Xl.value=!1}}},_s=()=>{jl.value?.trim()&&(Ol.push(`/floater-bond-report/${jl.value}`),vs(jl.value))},gs=()=>{Ll.value?.isin&&vs(Ll.value.isin)},ys=()=>{Zl.value=!Zl.value,Zl.value&&Ll.value?(es.value=JSON.parse(JSON.stringify(Ll.value)),es.value&&!es.value.issue_info&&(es.value.issue_info={issue_date:null,maturity_date:null,coupon_rate:null,coupon_per_year:null}),es.value&&!es.value.pricing&&(es.value.pricing={clean_price_pct:0,ytm:0,ytm_pct:0,g_spread_bps:0,g_curve_yield:0,g_curve_pct:0,yield_type:"YTM"}),es.value&&!es.value.risk_indicators&&(es.value.risk_indicators={duration:0,mod_duration:0,convexity:0,dv01:0})):!Zl.value&&es.value&&(Ll.value=JSON.parse(JSON.stringify(es.value)))},ms=()=>{const e=Zl.value&&es.value?es.value:Ll.value;if(e)try{const a=[];if(a.push(["–û—Ç—á–µ—Ç –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏–∏ —Å –ø–ª–∞–≤–∞—é—â–∏–º –∫—É–ø–æ–Ω–æ–º"]),a.push(["–î–∞—Ç–∞ –æ—Ü–µ–Ω–∫–∏:",Kl.value]),a.push(["ISIN:",e.isin]),a.push([]),a.push(["–û–ë–©–ò–ï –°–í–ï–î–ï–ù–ò–Ø"]),a.push(["–≠–º–∏—Ç–µ–Ω—Ç",e.issuer||""]),a.push(["ISIN",e.isin]),a.push(["–°—Ç—Ä–∞–Ω–∞ —Ä–∏—Å–∫–∞",e.risk_country||""]),a.push(["–°–µ–∫—Ç–æ—Ä",e.sector||""]),a.push(["–û—Ç—Ä–∞—Å–ª—å",e.industry||""]),a.push(["–ö–æ–ª-–≤–æ –≤—ã–ø—É—Å–∫–æ–≤ –≤ –æ–±—Ä–∞—â–µ–Ω–∏–∏",e.issues_count||""]),a.push([]),a.push(["–ò–ù–§–û–†–ú–ê–¶–ò–Ø –ü–û –í–´–ü–£–°–ö–£"]),a.push(["–î–∞—Ç–∞ –≤—ã–ø—É—Å–∫–∞",e.issue_info?.issue_date||""]),a.push(["–û–±—ä–µ–º –≤ –æ–±—Ä–∞—â–µ–Ω–∏–∏",e.outstanding_amount||""]),a.push(["–î–∞—Ç–∞ –ø–æ–≥–∞—à–µ–Ω–∏—è",e.issue_info?.maturity_date||""]),a.push(["–ö—É–ø–æ–Ω",e.issue_info?.coupon_formula||""]),a.push(["–°–ª–µ–¥—É—é—â–∏–π –∫—É–ø–æ–Ω",e.issue_info?.next_coupon?(100*e.issue_info.next_coupon).toFixed(2)+"%":""]),a.push(["–ù–æ–º–∏–Ω–∞–ª",e.issue_info?.nominal||""]),a.push(["–ö—É–ø–æ–Ω–æ–≤ –≤ –≥–æ–¥",e.issue_info?.coupon_per_year||""]),a.push(["–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã–π –ø–µ—Ä–∏–æ–¥",e.analysis_period||""]),a.push([]),a.push(["–ö–û–¢–ò–†–û–í–ö–ê –ò –î–û–•–û–î–ù–û–°–¢–¨"]),a.push(["–ß–∏—Å—Ç–∞—è —Ü–µ–Ω–∞",e.pricing?.clean_price_pct?e.pricing.clean_price_pct.toFixed(2)+"%":""]),a.push([e.pricing?.yield_type||"YTM",e.pricing?.ytm_pct?e.pricing.ytm_pct.toFixed(2)+"%":e.pricing?.ytm?(100*e.pricing.ytm).toFixed(2)+"%":""]),a.push(["DM (Discount Margin)",null!=e.dm_bps?e.dm_bps.toFixed(2)+" –±.–ø.":""]),a.push(["QM (Quoted Margin)",null!=e.qm_bps?e.qm_bps.toFixed(2)+" –±.–ø.":""]),a.push(["G-spread",e.pricing?.g_spread_bps?e.pricing.g_spread_bps+" bps":""]),a.push(["G-curve",e.pricing?.g_curve_pct?e.pricing.g_curve_pct.toFixed(2)+"%":e.pricing?.g_curve_yield?(100*e.pricing.g_curve_yield).toFixed(2)+"%":""]),a.push(["–ù–ö–î",null!=e.nkd?e.nkd.toFixed(2):""]),e.base_rate_name&&a.push(["–ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞",`${e.base_rate_name}${null!=e.base_rate_value?" ("+e.base_rate_value.toFixed(2)+"%)":""}`]),a.push([]),a.push(["–†–ò–°–ö-–ú–ï–¢–†–ò–ö–ò"]),a.push(["–ú–æ–¥. –¥—é—Ä–∞—Ü–∏—è",e.risk_indicators?.mod_duration?.toFixed(4)||""]),a.push(["–î—é—Ä–∞—Ü–∏—è",e.risk_indicators?.duration?.toFixed(4)||""]),a.push(["–í—ã–ø—É–∫–ª–æ—Å—Ç—å",e.risk_indicators?.convexity?.toFixed(2)||""]),a.push(["DV01",e.risk_indicators?.dv01||""]),a.push([]),e.indices){a.push(["–°–†–ê–í–ù–ï–ù–ò–ï –° –ò–ù–î–ï–ö–°–ê–ú–ò"]);const l=e.indices.gov_less_1y??e.indices.gov_1_3y??e.indices.gov_3_5y??e.indices.gov_5plus;l&&a.push(["–ò–Ω–¥–µ–∫—Å –≥–æ—Å. –æ–±–ª–∏–≥–∞—Ü–∏–π",(100*l).toFixed(2)+"%"]),e.indices.corp_aaa&&a.push(["–ò–Ω–¥–µ–∫—Å –∫–æ—Ä–ø. –æ–±–ª–∏–≥–∞—Ü–∏–π (–ê–ê–ê)",(100*e.indices.corp_aaa).toFixed(2)+"%"]),e.indices.corp_aa&&a.push(["–ò–Ω–¥–µ–∫—Å –∫–æ—Ä–ø. –æ–±–ª–∏–≥–∞—Ü–∏–π (–ê–ê)",(100*e.indices.corp_aa).toFixed(2)+"%"]),a.push([`–û—Ü–µ–Ω–∏–≤–∞–µ–º–∞—è –æ–±–ª–∏–≥–∞—Ü–∏—è (${e.pricing?.yield_type||"YTM"})`,e.pricing?.ytm_pct?e.pricing.ytm_pct.toFixed(2)+"%":e.pricing?.ytm?(100*e.pricing.ytm).toFixed(2)+"%":""]),e.indices.corp_a&&a.push(["–ò–Ω–¥–µ–∫—Å –∫–æ—Ä–ø. –æ–±–ª–∏–≥–∞—Ü–∏–π (–ê)",(100*e.indices.corp_a).toFixed(2)+"%"]),e.indices.corp_bbb&&a.push(["–ò–Ω–¥–µ–∫—Å –∫–æ—Ä–ø. –æ–±–ª–∏–≥–∞—Ü–∏–π (–í–í–í)",(100*e.indices.corp_bbb).toFixed(2)+"%"]),a.push([])}e.ratings?.issue?.length&&(a.push(["–†–ï–ô–¢–ò–ù–ì –≠–ú–ò–°–°–ò–ò"]),a.push(["–ê–≥–µ–Ω—Ç—Å—Ç–≤–æ","–†–µ–π—Ç–∏–Ω–≥","–î–∞—Ç–∞"]),e.ratings.issue.forEach(e=>a.push([e.agency,e.rating,e.date||""])),a.push([])),e.ratings?.issuer?.length&&(a.push(["–†–ï–ô–¢–ò–ù–ì –≠–ú–ò–¢–ï–ù–¢–ê"]),a.push(["–ê–≥–µ–Ω—Ç—Å—Ç–≤–æ","–†–µ–π—Ç–∏–Ω–≥","–ü—Ä–æ–≥–Ω–æ–∑","–î–∞—Ç–∞"]),e.ratings.issuer.forEach(e=>a.push([e.agency,e.rating,e.outlook||"",e.date||""])),a.push([])),e.margin_history?.length&&(a.push(["–î–ò–ù–ê–ú–ò–ö–ê DM/QM"]),a.push(["–î–∞—Ç–∞","DM (–±.–ø.)","QM (–±.–ø.)"]),e.margin_history.forEach(e=>a.push([e.date,e.dm?.toFixed(2)||"",e.qm?.toFixed(2)||""])),a.push([])),e.coupon_schedule?.length&&(a.push(["–ö–£–ü–û–ù–ù–û–ï –†–ê–°–ü–ò–°–ê–ù–ò–ï"]),a.push(["–î–∞—Ç–∞","–°—Ç–∞–≤–∫–∞, %","–°—É–º–º–∞, —Ä—É–±."]),e.coupon_schedule.forEach(e=>a.push([e.date||"",e.valueprc?.toFixed(2)||"",e.value?.toFixed(2)||""])),a.push([])),e.amortization_schedule?.length&&(a.push(["–ì–†–ê–§–ò–ö –ê–ú–û–†–¢–ò–ó–ê–¶–ò–ò"]),a.push(["–î–∞—Ç–∞","% –æ—Ç –Ω–æ–º–∏–Ω–∞–ª–∞","–°—É–º–º–∞, —Ä—É–±."]),e.amortization_schedule.forEach(e=>a.push([e.date||"",e.valueprc?.toFixed(2)||"",e.value?.toFixed(2)||""])),a.push([])),e.corporate_events?.length&&(a.push(["–ö–û–†–ü–û–†–ê–¢–ò–í–ù–´–ï –°–û–ë–´–¢–ò–Ø"]),a.push(["–î–∞—Ç–∞","–û–ø–∏—Å–∞–Ω–∏–µ"]),e.corporate_events.forEach(e=>a.push([e.date||"",e.description])));const l=f.aoa_to_sheet(a),s=f.book_new();f.book_append_sheet(s,l,"–û—Ç—á–µ—Ç"),l["!cols"]=[{wch:45},{wch:30}];const t=`Floater_Bond_Report_${e.isin}_${Kl.value}.xlsx`;k(s,t)}catch(a){console.error("Export error:",a),alert(`–û—à–∏–±–∫–∞ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ: ${a.message}`)}},bs=e=>{if(!e)return"‚Äî";try{const a=new Date(e),l=String(a.getDate()).padStart(2,"0"),s=String(a.getMonth()+1).padStart(2,"0");return`${l}.${s}.${a.getFullYear()}`}catch{return e}},hs=e=>null==e?"‚Äî":new Intl.NumberFormat("ru-RU").format(e),fs=()=>{if(rs&&rs.destroy(),cs&&cs.destroy(),ds&&ds.destroy(),ps&&ps.destroy(),is.value?.getContext("2d")&&Ll.value?.price_history?.length){const e=Ll.value.price_history,a=e.map(e=>{const a=new Date(e.date);return`${String(a.getDate()).padStart(2,"0")}.${String(a.getMonth()+1).padStart(2,"0")}.${a.getFullYear()}`}),l=e.map(e=>e.price);rs=new h(is.value.getContext("2d"),{type:"line",data:{labels:a,datasets:[{label:"–¶–µ–Ω–∞, %",data:l,borderColor:"#60a5fa",backgroundColor:"rgba(96, 165, 250, 0.08)",fill:!0,tension:.4,pointRadius:0,borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},filler:{propagate:!0}},scales:{x:{grid:{display:!1},ticks:{color:"rgba(255,255,255,0.3)",font:{size:11},maxTicksLimit:12}},y:{grid:{color:"rgba(255,255,255,0.05)"},ticks:{color:"rgba(255,255,255,0.3)",font:{size:11}},title:{display:!0,text:"–¶–µ–Ω–∞, %",color:"rgba(255,255,255,0.5)",font:{size:11}}}}}})}if(ns.value?.getContext("2d")&&Ll.value?.margin_history?.length){const e=Ll.value.margin_history,a=e.map(e=>{const a=new Date(e.date);return`${String(a.getDate()).padStart(2,"0")}.${String(a.getMonth()+1).padStart(2,"0")}.${a.getFullYear()}`}),l=e.map(e=>e.dm),s=e.map(e=>e.qm);cs=new h(ns.value.getContext("2d"),{type:"line",data:{labels:a,datasets:[{label:"DM (–¥–∏—Å–∫–æ–Ω—Ç–Ω–∞—è –º–∞—Ä–∂–∞)",data:l,borderColor:"#60a5fa",backgroundColor:"rgba(96, 165, 250, 0.08)",fill:!0,tension:.4,pointRadius:0,borderWidth:2},{label:"QM (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–∞—Ä–∂–∞)",data:s,borderColor:"#f59e0b",backgroundColor:"transparent",fill:!1,tension:.4,pointRadius:0,borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,labels:{color:"rgba(255,255,255,0.6)",font:{size:11},usePointStyle:!0},position:"top"}},scales:{x:{grid:{display:!1},ticks:{color:"rgba(255,255,255,0.3)",font:{size:11},maxTicksLimit:12}},y:{grid:{color:"rgba(255,255,255,0.05)"},ticks:{color:"rgba(255,255,255,0.3)",font:{size:11}},title:{display:!0,text:"–±.–ø.",color:"rgba(255,255,255,0.5)",font:{size:11}}}}}})}if(us.value?.getContext("2d")&&Ll.value?.indices&&Ll.value?.pricing){const e=Ll.value.indices,a=Ll.value.pricing.ytm_pct??100*(Ll.value.pricing.ytm||0),l=100*(e.gov_less_1y??e.gov_1_3y??e.gov_3_5y??e.gov_5plus??0),s=`–û—Ü–µ–Ω–∏–≤–∞–µ–º–∞—è –æ–±–ª–∏–≥–∞—Ü–∏—è (${Ll.value.pricing.yield_type||"YTM"})`,t=[{label:"–ò–Ω–¥–µ–∫—Å –≥–æ—Å. –æ–±–ª–∏–≥–∞—Ü–∏–π",value:l,color:"#9ca3af"},{label:"–ò–Ω–¥–µ–∫—Å –∫–æ—Ä–ø. –æ–±–ª–∏–≥–∞—Ü–∏–π (–ê–ê–ê)",value:100*(e.corp_aaa||0),color:"#9ca3af"},{label:"–ò–Ω–¥–µ–∫—Å –∫–æ—Ä–ø. –æ–±–ª–∏–≥–∞—Ü–∏–π (–ê–ê)",value:100*(e.corp_aa||0),color:"#9ca3af"},{label:s,value:a,color:"#ef4444"},{label:"–ò–Ω–¥–µ–∫—Å –∫–æ—Ä–ø. –æ–±–ª–∏–≥–∞—Ü–∏–π (–ê)",value:100*(e.corp_a||0),color:"#9ca3af"},{label:"–ò–Ω–¥–µ–∫—Å –∫–æ—Ä–ø. –æ–±–ª–∏–≥–∞—Ü–∏–π (–í–í–í)",value:100*(e.corp_bbb||0),color:"#9ca3af"}].filter(e=>e.value>0);ds=new h(us.value.getContext("2d"),{type:"scatter",data:{datasets:t.map(e=>({label:e.label,data:[{x:e.value,y:0}],backgroundColor:e.label.startsWith("–û—Ü–µ–Ω–∏–≤–∞–µ–º–∞—è –æ–±–ª–∏–≥–∞—Ü–∏—è")?"rgba(239, 68, 68, 0)":e.color,borderColor:e.label.startsWith("–û—Ü–µ–Ω–∏–≤–∞–µ–º–∞—è –æ–±–ª–∏–≥–∞—Ü–∏—è")?"rgba(239, 68, 68, 0)":e.color,pointRadius:e.label.startsWith("–û—Ü–µ–Ω–∏–≤–∞–µ–º–∞—è –æ–±–ª–∏–≥–∞—Ü–∏—è")?1:10,pointHoverRadius:e.label.startsWith("–û—Ü–µ–Ω–∏–≤–∞–µ–º–∞—è –æ–±–ª–∏–≥–∞—Ü–∏—è")?14:12,showLine:!1}))},options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:0},plugins:{legend:{display:!1},tooltip:{enabled:!0,displayColors:!1,backgroundColor:"rgba(0, 0, 0, 0.9)",titleColor:"rgba(255, 255, 255, 1)",bodyColor:"rgba(255, 255, 255, 0.9)",borderColor:"rgba(255, 255, 255, 0.3)",borderWidth:1,padding:14,titleFont:{size:13,weight:"bold"},bodyFont:{size:12},cornerRadius:8,callbacks:{title:e=>t[e[0].datasetIndex]?.label||"",label:e=>`–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å: ${t[e.datasetIndex]?.value.toFixed(2)}%`}}},scales:{x:{type:"linear",position:"bottom",grid:{color:"rgba(255,255,255,0.05)",display:!0},ticks:{color:"rgba(255,255,255,0.3)",font:{size:11},stepSize:1},title:{display:!0,text:"–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å, %",color:"rgba(255,255,255,0.5)",font:{size:11}}},y:{type:"linear",min:-.5,max:.5,display:!1,grid:{display:!1},ticks:{display:!1}}}},plugins:[{id:"indicesTimeline",afterDraw:e=>{const a=e.ctx,l=e.chartArea,s=(l.top+l.bottom)/2;a.save(),a.fillStyle="rgba(245, 245, 220, 0.3)",a.fillRect(l.left,s-20,l.right-l.left,40),a.restore()}},{id:"blinkingRedPoint",afterDraw:e=>{const a=e.ctx,l=t.findIndex(e=>e.label.startsWith("–û—Ü–µ–Ω–∏–≤–∞–µ–º–∞—è –æ–±–ª–∏–≥–∞—Ü–∏—è"));if(l<0)return;const s=e.getDatasetMeta(l);if(!s?.data?.length)return;const i=s.data[0].getProps(["x","y"],!0),n=Date.now()/1e3,u=.5*Math.sin(3*n)+.5,o=.5+.5*u,r=10+4*u,c=a.createRadialGradient(i.x,i.y,0,i.x,i.y,2*r);c.addColorStop(0,`rgba(239, 68, 68, ${.4*o})`),c.addColorStop(.5,`rgba(239, 68, 68, ${.2*o})`),c.addColorStop(1,"rgba(239, 68, 68, 0)"),a.save(),a.fillStyle=c,a.beginPath(),a.arc(i.x,i.y,2*r,0,2*Math.PI),a.fill(),a.fillStyle=`rgba(239, 68, 68, ${o})`,a.strokeStyle=`rgba(255, 255, 255, ${.9*o})`,a.lineWidth=2,a.beginPath(),a.arc(i.x,i.y,r,0,2*Math.PI),a.fill(),a.stroke(),a.restore()}}]});let i=null,n=!0;const u=()=>{if(ds&&n)try{ds.draw(),n&&(i=requestAnimationFrame(u))}catch(e){n=!1}};if(u(),ds){const e=ds;e.__animationFrameId=i,e.__stopAnimation=()=>{n=!1,"number"==typeof e.__animationFrameId&&cancelAnimationFrame(e.__animationFrameId)}}}if(os.value?.getContext("2d")&&Ll.value?.risk_indicators&&Ll.value?.pricing){const e=ss.value.filter(e=>void 0!==e.duration&&void 0!==e.yield),a=Ll.value.risk_indicators.duration||0,l=100*(Ll.value.pricing.ytm||0),s=Ll.value.issuer||"–û—Ü–µ–Ω–∏–≤–∞–µ–º–∞—è –æ–±–ª–∏–≥–∞—Ü–∏—è",t=[];e.length>0&&t.push({label:"–û–±–ª–∏–≥–∞—Ü–∏–∏-–∞–Ω–∞–ª–æ–≥–∏",data:e.map(e=>({x:e.duration,y:e.yield})),backgroundColor:"rgba(96, 165, 250, 0.6)",borderColor:"#60a5fa",pointRadius:8,pointStyle:"diamond",borderWidth:2}),t.push({label:s,data:[{x:a,y:l}],backgroundColor:"#ef4444",borderColor:"#ef4444",pointRadius:10,pointStyle:"diamond",borderWidth:2,pointHoverRadius:12}),ps=new h(os.value.getContext("2d"),{type:"scatter",data:{datasets:t},options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:0},plugins:{legend:{display:!0,labels:{color:"rgba(255,255,255,0.6)",font:{size:11},usePointStyle:!0},position:"top"}},scales:{x:{grid:{color:"rgba(255,255,255,0.05)"},ticks:{color:"rgba(255,255,255,0.3)",font:{size:11}},title:{display:!0,text:"–î—é—Ä–∞—Ü–∏—è, –ª–µ—Ç",color:"rgba(255,255,255,0.5)",font:{size:11}}},y:{grid:{color:"rgba(255,255,255,0.05)"},ticks:{color:"rgba(255,255,255,0.3)",font:{size:11}},title:{display:!0,text:"–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∫ –æ—Ñ–µ—Ä—Ç–µ/–ø–æ–≥–∞—à–µ–Ω–∏—é, %",color:"rgba(255,255,255,0.5)",font:{size:11}}}}},plugins:[{id:"blinkingPoint",afterDraw:e=>{const a=e.ctx,l=e.data.datasets.length-1,s=e.getDatasetMeta(l);if(!s?.data?.length)return;const t=s.data[0].getProps(["x","y"],!0),i=Date.now()/1e3,n=.5*Math.sin(3*i)+.5,u=.4+.6*n,o=10+5*n,r=a.createRadialGradient(t.x,t.y,0,t.x,t.y,2.5*o);r.addColorStop(0,`rgba(239, 68, 68, ${.5*u})`),r.addColorStop(.4,`rgba(239, 68, 68, ${.2*u})`),r.addColorStop(1,"rgba(239, 68, 68, 0)"),a.save(),a.fillStyle=r,a.beginPath(),a.arc(t.x,t.y,2.5*o,0,2*Math.PI),a.fill(),a.fillStyle=`rgba(239, 68, 68, ${u})`,a.strokeStyle=`rgba(255, 255, 255, ${.8*u})`,a.lineWidth=2,a.beginPath(),a.arc(t.x,t.y,o,0,2*Math.PI),a.fill(),a.stroke(),a.restore()}}]});let i=null,n=!0;const u=()=>{if(ps&&n)try{ps.draw(),n&&(i=requestAnimationFrame(u))}catch(e){n=!1}};if(u(),ps){const e=ps;e.__animationFrameId=i,e.__stopAnimation=()=>{n=!1,"number"==typeof e.__animationFrameId&&cancelAnimationFrame(e.__animationFrameId)}}}},ks=async()=>{if(!as.value?.trim())return;const e=as.value.trim().toUpperCase();if(ss.value.some(a=>a.isin===e))return Jl.value="–û–±–ª–∏–≥–∞—Ü–∏—è —Å —Ç–∞–∫–∏–º ISIN —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞",void setTimeout(()=>{Jl.value=null},3e3);ls.value=!0,ss.value.push({isin:e,name:void 0,duration:void 0,yield:void 0}),as.value="";try{const a=await F(e,Kl.value),l=ss.value.findIndex(a=>a.isin===e);-1!==l&&(a?ss.value[l]={isin:e,name:a.name,duration:a.duration,yield:a.yield}:ss.value[l].name=`${e} (–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö)`),Ll.value&&(Ll.value.analogous_bonds=ss.value.filter(e=>void 0!==e.duration&&void 0!==e.yield).map(e=>({name:e.name||e.isin,duration:e.duration,yield:e.yield})),setTimeout(()=>{ps&&ps.destroy(),fs()},100))}catch(a){const l=ss.value.findIndex(a=>a.isin===e);-1!==l&&ss.value.splice(l,1),Jl.value=`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ ISIN ${e}`,setTimeout(()=>{Jl.value=null},3e3)}finally{ls.value=!1}},xs=e=>{const a="price"===e?is.value:ns.value;if(!a)return;const l=document.createElement("a");l.href=a.toDataURL("image/png"),l.download=`floater-bond-${e}-${(new Date).toISOString().split("T")[0]}.png`,l.click()};return t(()=>{Ql.value?vs(Ql.value):vs("RU000A108VW7")}),i(()=>{if(rs&&rs.destroy(),cs&&cs.destroy(),ds){const e=ds.__stopAnimation;"function"==typeof e&&e(),ds.destroy()}if(ps){const e=ps.__stopAnimation;"function"==typeof e&&e(),ps.destroy()}}),(e,a)=>(b(),n("div",C,[u("div",I,[u("div",w,[Ll.value?(b(),n("h1",M,o(Ll.value.issuer)+", "+o(Ll.value.isin),1)):(b(),n("h1",R,"Floater Bond Report")),Ll.value?(b(),n("p",U,[a[27]||(a[27]=r(" –û—Ç—á–µ—Ç –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏–∏ —Å –ø–ª–∞–≤–∞—é—â–∏–º –∫—É–ø–æ–Ω–æ–º ISIN: ",-1)),u("span",$,o(Ll.value.isin),1)])):(b(),n("p",V,[a[28]||(a[28]=r(" –û—Ç—á–µ—Ç –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏–∏ —Å –ø–ª–∞–≤–∞—é—â–∏–º –∫—É–ø–æ–Ω–æ–º ISIN: ",-1)),u("span",D,o(Ql.value||"‚Äî"),1)]))]),u("div",z,[u("div",N,[a[29]||(a[29]=u("label",{class:"lbl-mini"},"–î–∞—Ç–∞ –æ—Ü–µ–Ω–∫–∏:",-1)),c(u("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>Kl.value=e),type:"date",class:"date-input-small",onChange:gs},null,544),[[d,Kl.value]])]),u("button",{onClick:ys,class:p(["btn-toggle-edit",{active:Zl.value}])},o(Zl.value?"‚úì –†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è":"‚úé –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"),3),u("button",{onClick:ms,class:"btn-export-excel",disabled:!Ll.value}," Excel ",8,A),u("div",P,[a[30]||(a[30]=u("label",{class:"lbl-mini"},"ISIN:",-1)),c(u("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>jl.value=e),type:"text",class:"search-input",placeholder:"RU000A108VW7",onKeyup:v(_s,["enter"])},null,544),[[d,jl.value]]),u("button",{class:"btn-search",onClick:_s,disabled:!jl.value},"üîç",8,T)])])]),Xl.value?(b(),n("section",W,[u("div",E,[a[31]||(a[31]=u("span",{class:"spinner"},null,-1)),r(" "+o(Hl.value),1)])])):Jl.value?(b(),n("section",Y,[u("div",q,"‚ö† "+o(Jl.value),1)])):Ll.value?(b(),n("section",O,[u("div",Q,[u("div",j,[a[41]||(a[41]=u("div",{class:"card-header"},[u("h3",null,"–û–±—â–∏–µ —Å–≤–µ–¥–µ–Ω–∏—è")],-1)),u("table",B,[u("tr",null,[a[33]||(a[33]=u("td",{class:"label"},"–≠–º–∏—Ç–µ–Ω—Ç",-1)),u("td",X,[Zl.value&&es.value?c((b(),n("input",{key:0,"onUpdate:modelValue":a[2]||(a[2]=e=>es.value.issuer=e),type:"text",class:"edit-input"},null,512)),[[d,es.value.issuer]]):(b(),n("span",H,o(Ll.value.issuer),1))])]),u("tr",null,[a[34]||(a[34]=u("td",{class:"label"},"ISIN",-1)),u("td",J,o(Ll.value.isin),1)]),u("tr",null,[a[35]||(a[35]=u("td",{class:"label"},"–°—Ç—Ä–∞–Ω–∞ —Ä–∏—Å–∫–∞",-1)),u("td",L,[Zl.value&&es.value?c((b(),n("input",{key:0,"onUpdate:modelValue":a[3]||(a[3]=e=>es.value.risk_country=e),type:"text",class:"edit-input"},null,512)),[[d,es.value.risk_country]]):(b(),n("span",K,o(Ll.value.risk_country||"‚Äî"),1))])]),u("tr",null,[a[36]||(a[36]=u("td",{class:"label"},"–°–µ–∫—Ç–æ—Ä",-1)),u("td",Z,[Zl.value&&es.value?c((b(),n("input",{key:0,"onUpdate:modelValue":a[4]||(a[4]=e=>es.value.sector=e),type:"text",class:"edit-input"},null,512)),[[d,es.value.sector]]):(b(),n("span",ee,o(Ll.value.sector||"‚Äî"),1))])]),u("tr",null,[a[37]||(a[37]=u("td",{class:"label"},"–û—Ç—Ä–∞—Å–ª—å",-1)),u("td",ae,[Zl.value&&es.value?c((b(),n("input",{key:0,"onUpdate:modelValue":a[5]||(a[5]=e=>es.value.industry=e),type:"text",class:"edit-input"},null,512)),[[d,es.value.industry]]):(b(),n("span",le,o(Ll.value.industry||"‚Äî"),1))])]),u("tr",null,[a[38]||(a[38]=u("td",{class:"label"},"–ö–æ–ª-–≤–æ –≤—ã–ø—É—Å–∫–æ–≤ –≤ –æ–±—Ä–∞—â–µ–Ω–∏–∏",-1)),u("td",se,[Zl.value&&es.value?c((b(),n("input",{key:0,"onUpdate:modelValue":a[6]||(a[6]=e=>es.value.issues_count=e),type:"number",class:"edit-input"},null,512)),[[d,es.value.issues_count,void 0,{number:!0}]]):(b(),n("span",te,o(Ll.value.issues_count||"‚Äî"),1))])]),u("tr",null,[a[39]||(a[39]=u("td",{class:"label"},"–£—Ä–æ–≤–µ–Ω—å –ª–∏—Å—Ç–∏–Ω–≥–∞",-1)),u("td",ie,o(Ll.value.listing_level?Ll.value.listing_level+" —É—Ä–æ–≤–µ–Ω—å":"‚Äî"),1)]),u("tr",null,[a[40]||(a[40]=u("td",{class:"label"},"–í–∞–ª—é—Ç–∞",-1)),u("td",ne,o(Ll.value.currency||"‚Äî"),1)])])]),u("div",ue,[a[52]||(a[52]=u("div",{class:"card-header"},[u("h3",null,"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –≤—ã–ø—É—Å–∫—É")],-1)),u("table",oe,[u("tr",null,[a[42]||(a[42]=u("td",{class:"label"},"–î–∞—Ç–∞ –≤—ã–ø—É—Å–∫–∞",-1)),u("td",re,[Zl.value&&es.value?.issue_info?c((b(),n("input",{key:0,"onUpdate:modelValue":a[7]||(a[7]=e=>es.value.issue_info.issue_date=e),type:"date",class:"edit-input"},null,512)),[[d,es.value.issue_info.issue_date]]):(b(),n("span",ce,o(bs(Ll.value.issue_info?.issue_date)),1))])]),u("tr",null,[a[43]||(a[43]=u("td",{class:"label"},"–û–±—ä–µ–º –≤ –æ–±—Ä–∞—â–µ–Ω–∏–∏, RUB",-1)),u("td",de,[Zl.value&&es.value?c((b(),n("input",{key:0,"onUpdate:modelValue":a[8]||(a[8]=e=>es.value.outstanding_amount=e),type:"number",class:"edit-input"},null,512)),[[d,es.value.outstanding_amount,void 0,{number:!0}]]):(b(),n("span",pe,o(hs(Ll.value.outstanding_amount)||"‚Äî"),1))])]),u("tr",null,[a[44]||(a[44]=u("td",{class:"label"},"–î–∞—Ç–∞ –ø–æ–≥–∞—à–µ–Ω–∏—è",-1)),u("td",ve,[Zl.value&&es.value?.issue_info?c((b(),n("input",{key:0,"onUpdate:modelValue":a[9]||(a[9]=e=>es.value.issue_info.maturity_date=e),type:"date",class:"edit-input"},null,512)),[[d,es.value.issue_info.maturity_date]]):(b(),n("span",_e,o(bs(Ll.value.issue_info?.maturity_date)),1))])]),u("tr",null,[a[45]||(a[45]=u("td",{class:"label"},"–ö—É–ø–æ–Ω, %",-1)),u("td",ge,[Zl.value&&es.value?.issue_info?c((b(),n("input",{key:0,"onUpdate:modelValue":a[10]||(a[10]=e=>es.value.issue_info.coupon_formula=e),type:"text",class:"edit-input"},null,512)),[[d,es.value.issue_info.coupon_formula]]):(b(),n("span",ye,o(Ll.value.issue_info?.coupon_formula||"‚Äî"),1))])]),u("tr",null,[a[46]||(a[46]=u("td",{class:"label"},"–ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞",-1)),u("td",me,[Ll.value.base_rate_name?(b(),n("span",be,[r(o(Ll.value.base_rate_name)+" ",1),null!=Ll.value.base_rate_value?(b(),n("span",he," ("+o(Ll.value.base_rate_value.toFixed(2))+"%)",1)):_("",!0)])):(b(),n("span",fe,"‚Äî"))])]),u("tr",null,[a[47]||(a[47]=u("td",{class:"label"},"–°–ª–µ–¥—É—é—â–∏–π –∫—É–ø–æ–Ω",-1)),u("td",ke,[Zl.value&&es.value?.issue_info?c((b(),n("input",{key:0,"onUpdate:modelValue":a[11]||(a[11]=e=>es.value.issue_info.next_coupon=e),type:"number",step:"0.001",class:"edit-input"},null,512)),[[d,es.value.issue_info.next_coupon,void 0,{number:!0}]]):(b(),n("span",xe,o(Ll.value.issue_info?.next_coupon?(100*Ll.value.issue_info.next_coupon).toFixed(2)+"%":"‚Äî"),1))])]),u("tr",null,[a[48]||(a[48]=u("td",{class:"label"},"–ù–æ–º–∏–Ω–∞–ª, RUB",-1)),u("td",Fe,[Zl.value&&es.value?.issue_info?c((b(),n("input",{key:0,"onUpdate:modelValue":a[12]||(a[12]=e=>es.value.issue_info.nominal=e),type:"number",class:"edit-input"},null,512)),[[d,es.value.issue_info.nominal,void 0,{number:!0}]]):(b(),n("span",Se,o(Ll.value.issue_info?.nominal?hs(Ll.value.issue_info.nominal):"‚Äî"),1))])]),u("tr",null,[a[49]||(a[49]=u("td",{class:"label"},"–ö–æ–ª-–≤–æ –∫—É–ø–æ–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π –≤ –≥–æ–¥",-1)),u("td",Ce,[Zl.value&&es.value?.issue_info?c((b(),n("input",{key:0,"onUpdate:modelValue":a[13]||(a[13]=e=>es.value.issue_info.coupon_per_year=e),type:"number",class:"edit-input"},null,512)),[[d,es.value.issue_info.coupon_per_year,void 0,{number:!0}]]):(b(),n("span",Ie,o(Ll.value.issue_info?.coupon_per_year??"‚Äî"),1))])]),u("tr",null,[a[50]||(a[50]=u("td",{class:"label"},"–û—Ñ–µ—Ä—Ç–∞",-1)),u("td",we,[Ll.value.issue_info?.offer&&"–ù–µ—Ç"!==Ll.value.issue_info.offer.type?(b(),n("span",Me,o(Ll.value.issue_info.offer.type)+" ‚Äî "+o(bs(Ll.value.issue_info.offer.date)),1)):(b(),n("span",Re,"–ù–µ—Ç"))])]),u("tr",null,[a[51]||(a[51]=u("td",{class:"label"},"–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã–π –ø–µ—Ä–∏–æ–¥",-1)),u("td",Ue,[Zl.value&&es.value?c((b(),n("input",{key:0,"onUpdate:modelValue":a[14]||(a[14]=e=>es.value.analysis_period=e),type:"text",class:"edit-input"},null,512)),[[d,es.value.analysis_period]]):(b(),n("span",$e,o(Ll.value.analysis_period||"‚Äî"),1))])])])])]),u("div",Ve,[u("div",De,[a[53]||(a[53]=u("div",{class:"card-header"},[u("h3",null,"–†–µ–π—Ç–∏–Ω–≥ —ç–º–∏—Å—Å–∏–∏")],-1)),Ll.value.ratings?.issue?.length?(b(),n("div",ze,[(b(!0),n(g,null,y(Ll.value.ratings.issue,(e,a)=>(b(),n("div",{key:a,class:"rating-item"},[u("span",Ne,o(e.agency),1),u("span",Ae,o(e.rating),1),u("span",Pe,o(bs(e.date)),1)]))),128))])):(b(),n("p",Te,"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö"))]),u("div",We,[a[54]||(a[54]=u("div",{class:"card-header"},[u("h3",null,"–†–µ–π—Ç–∏–Ω–≥ —ç–º–∏—Ç–µ–Ω—Ç–∞")],-1)),Ll.value.ratings?.issuer?.length?(b(),n("div",Ee,[(b(!0),n(g,null,y(Ll.value.ratings.issuer,(e,a)=>(b(),n("div",{key:a,class:"rating-item"},[u("span",Ye,o(e.agency),1),u("div",qe,[u("span",Ge,o(e.rating),1),e.outlook?(b(),n("span",Oe,o(e.outlook),1)):_("",!0)]),u("span",Qe,o(bs(e.date)),1)]))),128))])):(b(),n("p",je,"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö"))]),u("div",Be,[a[55]||(a[55]=u("div",{class:"card-header"},[u("h3",null,"–†–µ–π—Ç–∏–Ω–≥ –≥–∞—Ä–∞–Ω—Ç–∞")],-1)),Ll.value.ratings?.guarantor?.length?(b(),n("div",Xe,[(b(!0),n(g,null,y(Ll.value.ratings.guarantor,(e,a)=>(b(),n("div",{key:a,class:"rating-item"},[u("span",He,o(e.agency),1),u("span",Je,o(e.rating),1),u("span",Le,o(bs(e.date)),1)]))),128))])):(b(),n("p",Ke,"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö"))])]),u("div",Ze,[u("div",ea,[u("div",aa,[a[56]||(a[56]=u("h3",null,"–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä—ã–Ω–∫–∞",-1)),Ll.value.market_activity?.is_active?(b(),n("span",la,"–ê–ö–¢–ò–í–ù–´–ô")):(b(),n("span",sa,"–ù–ï–ê–ö–¢–ò–í–ù–´–ô"))]),u("div",ta,[u("div",ia,[a[57]||(a[57]=u("span",null,"–ö–æ–ª-–≤–æ —Ç–æ—Ä–≥–æ–≤—ã—Ö –¥–Ω–µ–π",-1)),u("span",na,o(Ll.value.market_activity?.trading_days??"‚Äî"),1)]),u("div",ua,[a[58]||(a[58]=u("span",null,"–ö–æ–ª-–≤–æ —Å–¥–µ–ª–æ–∫",-1)),u("span",oa,o(Ll.value.market_activity?.trades??"‚Äî"),1)]),u("div",ra,[a[59]||(a[59]=u("span",null,"–û–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤/–≤—ã–ø—É—Å–∫",-1)),u("span",ca,o(Ll.value.market_activity?.turnover_to_outstanding?(100*Ll.value.market_activity.turnover_to_outstanding).toFixed(2)+"%":"‚Äî"),1)]),u("div",da,[a[60]||(a[60]=u("span",null,"–¢–æ—Ä–≥–∏ 30 –¥–Ω–µ–π",-1)),u("span",pa,[Ll.value.market_activity?.traded_last_30d?(b(),n("span",va,"–î–∞")):(b(),n("span",_a,"–ù–µ—Ç"))])])])]),u("div",ga,[a[67]||(a[67]=u("div",{class:"card-header"},[u("h3",null,"–ö–æ—Ç–∏—Ä–æ–≤–∫–∞ –∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å")],-1)),u("div",ya,[u("div",ma,[a[61]||(a[61]=u("span",null,"–ß–∏—Å—Ç–∞—è —Ü–µ–Ω–∞",-1)),u("span",ba,[Zl.value&&es.value?.pricing?c((b(),n("input",{key:0,"onUpdate:modelValue":a[15]||(a[15]=e=>es.value.pricing.clean_price_pct=e),type:"number",step:"0.01",class:"edit-input-inline"},null,512)),[[d,es.value.pricing.clean_price_pct,void 0,{number:!0}]]):(b(),n("span",ha,o(Ll.value.pricing?.clean_price_pct?.toFixed(2))+"%",1))])]),u("div",fa,[u("span",null,o(Ll.value.pricing?.yield_type||"YTM"),1),u("span",ka,[Zl.value&&es.value?.pricing?c((b(),n("input",{key:0,"onUpdate:modelValue":a[16]||(a[16]=e=>es.value.pricing.ytm=e),type:"number",step:"0.0001",class:"edit-input-inline"},null,512)),[[d,es.value.pricing.ytm,void 0,{number:!0}]]):(b(),n("span",xa,o(null!=Ll.value.pricing?.ytm_pct?Ll.value.pricing.ytm_pct.toFixed(2)+"%":Ll.value.pricing?.ytm?(100*Ll.value.pricing.ytm).toFixed(2)+"%":"‚Äî"),1))])]),u("div",Fa,[a[62]||(a[62]=u("span",null,"DM (Discount Margin)",-1)),u("span",Sa,o(null!=Ll.value.dm_bps?Ll.value.dm_bps.toFixed(2)+" –±.–ø.":"‚Äî"),1)]),u("div",Ca,[a[63]||(a[63]=u("span",null,"QM (Quoted Margin)",-1)),u("span",Ia,o(null!=Ll.value.qm_bps?Ll.value.qm_bps.toFixed(2)+" –±.–ø.":"‚Äî"),1)]),u("div",wa,[a[64]||(a[64]=u("span",null,"G-spread",-1)),u("span",Ma,[Zl.value&&es.value?.pricing?c((b(),n("input",{key:0,"onUpdate:modelValue":a[17]||(a[17]=e=>es.value.pricing.g_spread_bps=e),type:"number",class:"edit-input-inline"},null,512)),[[d,es.value.pricing.g_spread_bps,void 0,{number:!0}]]):(b(),n("span",Ra,[r(o(Ll.value.pricing?.g_spread_bps??"‚Äî"),1),Ll.value.pricing?.g_spread_bps?(b(),n("span",Ua," bps")):_("",!0)]))])]),u("div",$a,[a[65]||(a[65]=u("span",null,"G-curve",-1)),u("span",Va,[Zl.value&&es.value?.pricing?c((b(),n("input",{key:0,"onUpdate:modelValue":a[18]||(a[18]=e=>es.value.pricing.g_curve_yield=e),type:"number",step:"0.0001",class:"edit-input-inline"},null,512)),[[d,es.value.pricing.g_curve_yield,void 0,{number:!0}]]):(b(),n("span",Da,o(null!=Ll.value.pricing?.g_curve_pct?Ll.value.pricing.g_curve_pct.toFixed(2)+"%":Ll.value.pricing?.g_curve_yield?(100*Ll.value.pricing.g_curve_yield).toFixed(2)+"%":"‚Äî"),1))])]),u("div",za,[a[66]||(a[66]=u("span",null,"–ù–ö–î",-1)),u("span",Na,o(null!=Ll.value.nkd?Ll.value.nkd.toFixed(2):"‚Äî"),1)])]),a[68]||(a[68]=u("p",{class:"note-text"},"* –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å, –¥—é—Ä–∞—Ü–∏—è –∏ —Å–ª–µ–¥—É—é—â–∏–π –∫—É–ø–æ–Ω —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä—ã–Ω–æ—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π —Ñ–æ—Ä–≤–∞—Ä–¥–Ω–æ–π –∫—Ä–∏–≤–æ–π –∫ –∫–ª—é—á–µ–≤–æ–π —Å—Ç–∞–≤–∫–µ –¶–ë –†–§",-1))]),u("div",Aa,[a[73]||(a[73]=u("div",{class:"card-header"},[u("h3",null,"–†–∏—Å–∫-–º–µ—Ç—Ä–∏–∫–∏")],-1)),u("div",Pa,[u("div",Ta,[a[69]||(a[69]=u("span",null,"–ú–æ–¥. –¥—é—Ä–∞—Ü–∏—è",-1)),u("span",Wa,[Zl.value&&es.value?.risk_indicators?c((b(),n("input",{key:0,"onUpdate:modelValue":a[19]||(a[19]=e=>es.value.risk_indicators.mod_duration=e),type:"number",step:"0.0001",class:"edit-input-inline"},null,512)),[[d,es.value.risk_indicators.mod_duration,void 0,{number:!0}]]):(b(),n("span",Ea,o(Ll.value.risk_indicators?.mod_duration?.toFixed(4)||Ll.value.risk_indicators?.duration?.toFixed(4)||"‚Äî"),1))])]),u("div",Ya,[a[70]||(a[70]=u("span",null,"–î—é—Ä–∞—Ü–∏—è",-1)),u("span",qa,[Zl.value&&es.value?.risk_indicators?c((b(),n("input",{key:0,"onUpdate:modelValue":a[20]||(a[20]=e=>es.value.risk_indicators.duration=e),type:"number",step:"0.0001",class:"edit-input-inline"},null,512)),[[d,es.value.risk_indicators.duration,void 0,{number:!0}]]):(b(),n("span",Ga,o(Ll.value.risk_indicators?.duration?.toFixed(4)||"‚Äî"),1))])]),u("div",Oa,[a[71]||(a[71]=u("span",null,"–í—ã–ø—É–∫–ª–æ—Å—Ç—å",-1)),u("span",Qa,[Zl.value&&es.value?.risk_indicators?c((b(),n("input",{key:0,"onUpdate:modelValue":a[21]||(a[21]=e=>es.value.risk_indicators.convexity=e),type:"number",step:"0.01",class:"edit-input-inline"},null,512)),[[d,es.value.risk_indicators.convexity,void 0,{number:!0}]]):(b(),n("span",ja,o(Ll.value.risk_indicators?.convexity?.toFixed(2)||"‚Äî"),1))])]),u("div",Ba,[a[72]||(a[72]=u("span",null,"DV01",-1)),u("span",Xa,[Zl.value&&es.value?.risk_indicators?c((b(),n("input",{key:0,"onUpdate:modelValue":a[22]||(a[22]=e=>es.value.risk_indicators.dv01=e),type:"number",step:"0.01",class:"edit-input-inline"},null,512)),[[d,es.value.risk_indicators.dv01,void 0,{number:!0}]]):(b(),n("span",Ha,o(hs(Ll.value.risk_indicators?.dv01)),1))])])])])]),u("div",Ja,[u("div",La,[a[74]||(a[74]=u("h3",null,"–î–∏–Ω–∞–º–∏–∫–∞ —Ü–µ–Ω",-1)),u("button",{class:"btn-export",onClick:a[23]||(a[23]=e=>xs("price"))},"üíæ PNG")]),u("div",Ka,[u("canvas",{ref_key:"priceHistoryRef",ref:is},null,512)])]),u("div",Za,[u("div",el,[a[75]||(a[75]=u("h3",null,"–î–∏–Ω–∞–º–∏–∫–∞ –¥–∏—Å–∫–æ–Ω—Ç–Ω–æ–π –º–∞—Ä–∂–∏ (DM) –∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –º–∞—Ä–∂–∏ (QM)",-1)),u("button",{class:"btn-export",onClick:a[24]||(a[24]=e=>xs("margin"))},"üíæ PNG")]),u("div",al,[u("canvas",{ref_key:"marginDynamicsRef",ref:ns},null,512)])]),u("div",ll,[a[82]||(a[82]=u("div",{class:"card-header"},[u("h3",null,"–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –æ–±–ª–∏–≥–∞—Ü–∏–π –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –±–∏—Ä–∂–∏")],-1)),u("div",sl,[u("table",tl,[a[81]||(a[81]=u("thead",null,[u("tr",null,[u("th",null,"–ò–Ω–¥–µ–∫—Å"),u("th",null,"–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å, %")])],-1)),u("tbody",null,[u("tr",null,[a[76]||(a[76]=u("td",null,"–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∏–Ω–¥–µ–∫—Å–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–±–ª–∏–≥–∞—Ü–∏–π",-1)),u("td",il,o(null!=Bl.value?(100*Bl.value).toFixed(2)+"%":"‚Äî"),1)]),u("tr",null,[a[77]||(a[77]=u("td",null,"–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∏–Ω–¥–µ–∫—Å–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –æ–±–ª–∏–≥–∞—Ü–∏–π —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º –ê–ê–ê",-1)),u("td",nl,o(null!=Ll.value.indices?.corp_aaa?(100*Ll.value.indices.corp_aaa).toFixed(2)+"%":"‚Äî"),1)]),u("tr",null,[a[78]||(a[78]=u("td",null,"–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∏–Ω–¥–µ–∫—Å–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –æ–±–ª–∏–≥–∞—Ü–∏–π —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º –ê–ê",-1)),u("td",ul,o(null!=Ll.value.indices?.corp_aa?(100*Ll.value.indices.corp_aa).toFixed(2)+"%":"‚Äî"),1)]),u("tr",ol,[u("td",null,[u("strong",null,"–û—Ü–µ–Ω–∏–≤–∞–µ–º–∞—è –æ–±–ª–∏–≥–∞—Ü–∏—è ("+o(Ll.value.pricing?.yield_type||"YTM")+")",1)]),u("td",rl,[u("strong",null,o(null!=Ll.value.pricing?.ytm_pct?Ll.value.pricing.ytm_pct.toFixed(2)+"%":Ll.value.pricing?.ytm?(100*Ll.value.pricing.ytm).toFixed(2)+"%":"‚Äî"),1)])]),u("tr",null,[a[79]||(a[79]=u("td",null,"–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∏–Ω–¥–µ–∫—Å–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –æ–±–ª–∏–≥–∞—Ü–∏–π —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º –ê",-1)),u("td",cl,o(null!=Ll.value.indices?.corp_a?(100*Ll.value.indices.corp_a).toFixed(2)+"%":"‚Äî"),1)]),u("tr",null,[a[80]||(a[80]=u("td",null,"–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∏–Ω–¥–µ–∫—Å–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –æ–±–ª–∏–≥–∞—Ü–∏–π —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º –í–í–í",-1)),u("td",dl,o(null!=Ll.value.indices?.corp_bbb?(100*Ll.value.indices.corp_bbb).toFixed(2)+"%":"‚Äî"),1)])])]),u("div",pl,[u("canvas",{ref_key:"indicesComparisonRef",ref:us},null,512)])])]),u("div",vl,[a[84]||(a[84]=u("div",{class:"card-header"},[u("h3",null,"–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –æ–±–ª–∏–≥–∞—Ü–∏—è–º–∏-–∞–Ω–∞–ª–æ–≥–∞–º–∏")],-1)),u("div",_l,[u("div",gl,[a[83]||(a[83]=u("label",{class:"lbl-mini"},"ISIN –∞–Ω–∞–ª–æ–≥–∞:",-1)),c(u("input",{"onUpdate:modelValue":a[25]||(a[25]=e=>as.value=e),type:"text",class:"search-input",placeholder:"RU000A10XXXX",onKeyup:v(ks,["enter"])},null,544),[[d,as.value]]),u("button",{class:"btn-search",onClick:ks,disabled:!as.value||ls.value},"‚ûï",8,yl)]),ss.value.length>0?(b(),n("div",ml,[(b(!0),n(g,null,y(ss.value,(e,a)=>(b(),n("div",{key:a,class:"analog-item"},[u("span",bl,o(e.isin),1),u("span",hl,o(e.name||"–ó–∞–≥—Ä—É–∑–∫–∞..."),1),u("button",{class:"btn-remove",onClick:e=>{return l=a,ss.value.splice(l,1),void(Ll.value&&(Ll.value.analogous_bonds=ss.value.filter(e=>void 0!==e.duration&&void 0!==e.yield).map(e=>({name:e.name||e.isin,duration:e.duration,yield:e.yield})),setTimeout(()=>{ps&&ps.destroy(),fs()},100)));var l},title:"–£–¥–∞–ª–∏—Ç—å"},"√ó",8,fl)]))),128))])):_("",!0)]),u("div",kl,[u("canvas",{ref_key:"analogousBondsRef",ref:os},null,512)]),Ll.value.analogous_bonds_note?(b(),n("p",xl,o(Ll.value.analogous_bonds_note),1)):_("",!0)]),Ll.value.coupon_schedule?.length?(b(),n("div",Fl,[u("div",Sl,[a[85]||(a[85]=u("h3",null,"–ö—É–ø–æ–Ω–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (–ø—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ)",-1)),u("span",Cl,o(Ll.value.coupon_schedule.length)+" –≤—ã–ø–ª–∞—Ç",1)]),u("div",Il,[u("table",wl,[a[86]||(a[86]=u("thead",null,[u("tr",null,[u("th",null,"–î–∞—Ç–∞"),u("th",null,"–°—Ç–∞–≤–∫–∞, %"),u("th",null,"–°—É–º–º–∞, —Ä—É–±.")])],-1)),u("tbody",null,[(b(!0),n(g,null,y(Ll.value.coupon_schedule.slice(0,ts.value?void 0:6),(e,a)=>(b(),n("tr",{key:a},[u("td",Ml,o(bs(e.date)),1),u("td",Rl,o(e.valueprc?e.valueprc.toFixed(2):"‚Äî"),1),u("td",Ul,o(e.value?e.value.toFixed(2):"‚Äî"),1)]))),128))])]),Ll.value.coupon_schedule.length>6?(b(),n("button",{key:0,class:"btn-show-more",onClick:a[26]||(a[26]=e=>ts.value=!ts.value)},o(ts.value?"–°–≤–µ—Ä–Ω—É—Ç—å":`–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ (${Ll.value.coupon_schedule.length})`),1)):_("",!0)])])):_("",!0),Ll.value.amortization_schedule?.length?(b(),n("div",$l,[u("div",Vl,[a[87]||(a[87]=u("h3",null,"–ì—Ä–∞—Ñ–∏–∫ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏",-1)),u("span",Dl,o(Ll.value.amortization_schedule.length)+" –≤—ã–ø–ª–∞—Ç",1)]),u("div",zl,[u("table",Nl,[a[88]||(a[88]=u("thead",null,[u("tr",null,[u("th",null,"–î–∞—Ç–∞"),u("th",null,"% –æ—Ç –Ω–æ–º–∏–Ω–∞–ª–∞"),u("th",null,"–°—É–º–º–∞, —Ä—É–±.")])],-1)),u("tbody",null,[(b(!0),n(g,null,y(Ll.value.amortization_schedule,(e,a)=>(b(),n("tr",{key:a},[u("td",Al,o(bs(e.date)),1),u("td",Pl,o(e.valueprc?e.valueprc.toFixed(2)+"%":"‚Äî"),1),u("td",Tl,o(e.value?e.value.toFixed(2):"‚Äî"),1)]))),128))])])])])):_("",!0),u("div",Wl,[a[89]||(a[89]=u("div",{class:"card-header"},[u("h3",null,"–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è")],-1)),Ll.value.corporate_events?.length?(b(),n("div",El,[(b(!0),n(g,null,y(Ll.value.corporate_events,(e,a)=>(b(),n("div",{key:a,class:"event-item"},[u("span",Yl,o(bs(e.date)),1),u("span",ql,o(e.description),1)]))),128))])):(b(),n("p",Gl,"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö"))])])):(b(),n("section",G,[...a[32]||(a[32]=[u("div",{class:"glass-card"},"–í–≤–µ–¥–∏—Ç–µ ISIN –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–∞",-1)])]))]))}}),[["__scopeId","data-v-839be1d7"]]);export{Ol as default};
