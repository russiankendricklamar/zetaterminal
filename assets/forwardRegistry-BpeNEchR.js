import{s as e,r as a,v as t}from"./vendor-DLyKmMu8.js";const r=e("forwardRegistry",()=>{const e=a([]),r=a([]),u=a((new Date).toISOString().split("T")[0]),l=t(()=>e.value.length),n=t(()=>e.value.filter((e,a)=>null!==r.value[a]&&void 0!==r.value[a])),o=t(()=>r.value.reduce((a,t,r)=>{if(t&&e.value[r]){const u=e.value[r].contractSize||1e6;return a+(t.forwardValue*u||0)}return a},0)),v=t(()=>r.value.reduce((a,t,r)=>{if(t&&e.value[r]){const u=e.value[r].contractSize||1e6;return a+(t.delta*u||0)}return a},0)),i=t(()=>r.value.reduce((a,t,r)=>{if(t&&e.value[r]){const u=e.value[r].contractSize||1e6;return a+(t.rho*u||0)}return a},0)),d=t(()=>r.value.reduce((a,t,r)=>{if(t&&t.dv01&&e.value[r]){const u=e.value[r].contractSize||1e6,l=e.value[r].faceValue||100;return a+(t.dv01*u*l/100||0)}return a},0));return{registryForwards:e,forwardResults:r,valuationDate:u,totalForwards:l,calculatedForwards:n,totalForwardValue:o,totalDelta:v,totalRho:i,totalDv01:d,addForward:function(a){const t={...a,id:a.id||`forward_${Date.now()}_${Math.random().toString(36).substr(2,9)}`};return e.value.push(t),r.value.push(null),t.id},updateForward:function(a,t){const r=e.value.findIndex(e=>e.id===a);-1!==r&&(e.value[r]={...e.value[r],...t})},removeForward:function(a){const t=e.value.findIndex(e=>e.id===a);-1!==t&&(e.value.splice(t,1),r.value.splice(t,1))},loadRegistry:function(a){e.value=a.map((e,a)=>({...e,id:e.id||`forward_${Date.now()}_${a}_${Math.random().toString(36).substr(2,9)}`})),r.value=new Array(a.length).fill(null)},clearRegistry:function(){e.value=[],r.value=[]},setForwardResult:function(a,t){a>=0&&a<r.value.length&&(r.value[a]=t,a<e.value.length&&(e.value[a].valuationResult=t||void 0))},setAllResults:function(a){r.value=[...a],a.forEach((a,t)=>{t<e.value.length&&(e.value[t].valuationResult=a||void 0)})},setValuationDate:function(e){u.value=e},getForwardByIndex:function(a){return e.value[a]||null},getResultByIndex:function(e){return r.value[e]||null},getForwardsByType:function(a){return e.value.filter(e=>e.forwardType===a)},getForwardsByTypeWithResults:function(a){return e.value.map((e,a)=>({forward:e,result:r.value[a]||null})).filter(e=>e.forward.forwardType===a)}}});export{r as u};
