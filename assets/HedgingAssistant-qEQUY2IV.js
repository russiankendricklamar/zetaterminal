import{d as a,r as e,v as s,o as l,c as t,e as n,x as i,L as c,t as d,n as o,F as r,i as v,C as u,k as p,f as m,q as g}from"./vendor-DLyKmMu8.js";import{_ as b}from"./index-BaahR4yN.js";const h={class:"hedging-assistant-page"},x={class:"page-header"},y={class:"header-right"},f={class:"control-group"},L={class:"control-group"},w=["disabled"],F={key:0},P={key:1},k={class:"grid-3"},C={class:"overview-card"},V={class:"overview-metrics"},D={class:"metric"},S={class:"value"},T={class:"metric"},q={class:"value mono"},B={class:"metric"},M={class:"value mono"},R={class:"metric"},z={class:"value accent mono"},U={class:"overview-card"},Y={class:"overview-metrics"},A={class:"metric"},I={class:"metric"},_={class:"metric"},j={class:"value mono"},E={class:"metric"},O={class:"value negative"},G={class:"overview-card"},H={class:"overview-metrics"},K={class:"metric"},N={class:"value cyan mono"},$={class:"metric"},J={class:"value blue mono"},Q={class:"metric"},W={class:"value mono"},X={class:"metric"},Z={class:"value green mono"},aa={class:"card full-width"},ea={class:"instruments-grid"},sa=["onClick"],la={class:"instrument-header"},ta={class:"instrument-name"},na={class:"instrument-type"},ia={class:"instrument-metrics"},ca={class:"metric-row"},da={class:"value"},oa={class:"metric-row"},ra={class:"value"},va={class:"metric-row"},ua={class:"value"},pa={class:"metric-row"},ma={class:"value"},ga={class:"card full-width"},ba={class:"hedge-table-container"},ha={class:"hedge-table"},xa={class:"col-instrument"},ya={class:"col-quantity mono"},fa={class:"col-size accent"},La={class:"col-cost mono"},wa={class:"col-action"},Fa=["onClick"],Pa={class:"total-row"},ka={class:"accent"},Ca={class:"positive"},Va={class:"blue"},Da={class:"mono"},Sa={class:"grid-2"},Ta={class:"card"},qa={class:"comparison-table-container"},Ba={class:"comparison-table"},Ma={class:"value accent"},Ra={class:"value cyan"},za={class:"value green"},Ua={class:"value accent"},Ya={class:"value cyan"},Aa={class:"value green"},Ia={class:"value negative"},_a={class:"value cyan"},ja={class:"value blue mono"},Ea={class:"value green"},Oa={class:"grid-2"},Ga={class:"card"},Ha={class:"cost-breakdown"},Ka={class:"instrument-name"},Na={class:"cost-bar-container"},$a={class:"cost-value mono"},Ja={class:"cost-item total"},Qa={class:"cost-value total-value mono"},Wa={class:"card"},Xa={class:"regression-info"},Za={class:"regression-item"},ae={class:"value mono"},ee={class:"regression-item"},se={class:"value mono"},le={class:"regression-item"},te={class:"value mono"},ne={class:"regression-item"},ie={class:"value mono"},ce={class:"regression-item"},de={class:"value mono"},oe={class:"card full-width"},re={class:"scenario-table-container"},ve={class:"scenario-table"},ue={class:"scenario-name"},pe={class:"effectiveness mono"},me={class:"card full-width"},ge={class:"execution-status"},be={class:"execution-header"},he={class:"quantity"},xe={class:"execution-detail"},ye={key:0},fe=b(a({__name:"HedgingAssistant",setup(a){const b=e("long-bond"),fe=e("optimal"),Le=e(!1),we=e([1,2,3]),Fe=e({name:"US Treasury 10Y Bond",size:100,duration:8.5,exposure:85e4,dv01:85e3,vega:18200,gamma:.0025,maxLoss:-425e3}),Pe=e({targetDv01:0,targetVega:0,correlation:.95,efficiency:.92}),ke=e([{id:1,name:"US Treasury 2Y",type:"Bond",dv01:19500,vega:3200,correlation:.98,cost:2},{id:2,name:"US Treasury 5Y",type:"Bond",dv01:48e3,vega:8500,correlation:.97,cost:2},{id:3,name:"IRS Receiver 10Y",type:"Swap",dv01:82e3,vega:17800,correlation:.99,cost:3},{id:4,name:"Treasury Futures",type:"Futures",dv01:28500,vega:4200,correlation:.96,cost:1},{id:5,name:"Payer Swaption 5Y2Y",type:"Option",dv01:12e3,vega:45e3,correlation:.85,cost:25}]),Ce=e([{id:1,instrument:"US Treasury 5Y",type:"bond",quantity:1.75,size:84e3,direction:"Short",dv01Contribution:-84e3,vegaContribution:-14875,cost:3.5,executed:!0,price:"98.45",executionTime:"10:15 AM"},{id:2,instrument:"IRS Receiver 10Y",type:"swap",quantity:1.04,size:104e3,direction:"Receiver",dv01Contribution:-85280,vegaContribution:-18512,cost:3.12,executed:!0,price:"Par",executionTime:"10:22 AM"}]),Ve=s(()=>Ce.value.reduce((a,e)=>a+e.size,0)),De=s(()=>Ce.value.reduce((a,e)=>a+e.dv01Contribution,0)),Se=s(()=>Ce.value.reduce((a,e)=>a+e.vegaContribution,0)),Te=s(()=>Ce.value.reduce((a,e)=>a+e.cost,0)),qe=s(()=>.94),Be=e({beta:1.002,alpha:.0015,rSquared:.9487,stdError:.0025,rmse:42.35}),Me=e([{id:1,name:"Bear (-200bp)",move:-200,originalPnL:-17e5,hedgePnL:168e4,netPnL:-2e4,effectiveness:.988},{id:2,name:"Bear (-100bp)",move:-100,originalPnL:-85e4,hedgePnL:84e4,netPnL:-1e4,effectiveness:.988},{id:3,name:"Base Case",move:0,originalPnL:0,hedgePnL:0,netPnL:0,effectiveness:1},{id:4,name:"Bull (+100bp)",move:100,originalPnL:85e4,hedgePnL:-84e4,netPnL:1e4,effectiveness:.988},{id:5,name:"Bull (+200bp)",move:200,originalPnL:17e5,hedgePnL:-168e4,netPnL:2e4,effectiveness:.988}]),Re=a=>Math.abs(a)>=1e6?(a/1e6).toFixed(1)+"М":"$"+(a/1e3).toFixed(0)+"K",ze=()=>{},Ue=async()=>{Le.value=!0;try{await new Promise(a=>setTimeout(a,1500))}finally{Le.value=!1}};return l(()=>{}),(a,e)=>{return g(),t("div",h,[n("div",x,[e[6]||(e[6]=n("div",{class:"header-left"},[n("h1",{class:"page-title"},"Помощник по хеджированию"),n("p",{class:"page-subtitle"},"Репликация и хеджирование портфеля инструментами")],-1)),n("div",y,[n("div",f,[e[3]||(e[3]=n("label",{class:"control-label"},"Позиция:",-1)),i(n("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>b.value=a),class:"position-select",onChange:ze},[...e[2]||(e[2]=[n("option",{value:"long-bond"},"Long позиция в облигациях",-1),n("option",{value:"long-stock"},"Long позиция в акциях",-1),n("option",{value:"long-swap"},"Long Interest Rate Swap",-1),n("option",{value:"long-credit"},"Long кредитная экспозиция",-1)])],544),[[c,b.value]])]),n("div",L,[e[5]||(e[5]=n("label",{class:"control-label"},"Стратегия:",-1)),i(n("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>fe.value=a),class:"strategy-select",onChange:ze},[...e[4]||(e[4]=[n("option",{value:"delta"},"Delta хедж",-1),n("option",{value:"duration"},"Совпадение Duration",-1),n("option",{value:"regression"},"Регрессионный хедж",-1),n("option",{value:"optimal"},"Оптимальная репликация",-1)])],544),[[c,fe.value]])]),n("button",{onClick:Ue,class:"btn-primary",disabled:Le.value},[Le.value?(g(),t("span",P,"↺ Считаю...")):(g(),t("span",F,"Пересчитать хедж"))],8,w)])]),n("div",k,[n("div",C,[e[11]||(e[11]=n("div",{class:"card-header"},[n("h3",null,"Исходная позиция")],-1)),n("div",V,[n("div",D,[e[7]||(e[7]=n("span",{class:"label"},"Инструмент",-1)),n("span",S,d(Fe.value.name),1)]),n("div",T,[e[8]||(e[8]=n("span",{class:"label"},"Размер",-1)),n("span",q,d((s=Fe.value.size,new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(s))),1)]),n("div",B,[e[9]||(e[9]=n("span",{class:"label"},"Duration",-1)),n("span",M,d(Fe.value.duration.toFixed(2)),1)]),n("div",R,[e[10]||(e[10]=n("span",{class:"label"},"Экспозиция",-1)),n("span",z,d(Re(Fe.value.exposure)),1)])])]),n("div",U,[e[16]||(e[16]=n("div",{class:"card-header"},[n("h3",null,"Риск позиции")],-1)),n("div",Y,[n("div",A,[e[12]||(e[12]=n("span",{class:"label"},"DV01",-1)),n("span",{class:o(["value",Fe.value.dv01>=0?"positive":"negative"])},d(Re(Fe.value.dv01)),3)]),n("div",I,[e[13]||(e[13]=n("span",{class:"label"},"Vega (Vol)",-1)),n("span",{class:o(["value",Fe.value.vega>=0?"positive":"negative"])},d(Re(Fe.value.vega)),3)]),n("div",_,[e[14]||(e[14]=n("span",{class:"label"},"Gamma",-1)),n("span",j,d(Fe.value.gamma.toFixed(4)),1)]),n("div",E,[e[15]||(e[15]=n("span",{class:"label"},"Max Loss (1σ)",-1)),n("span",O,d(Re(Fe.value.maxLoss)),1)])])]),n("div",G,[e[21]||(e[21]=n("div",{class:"card-header"},[n("h3",null,"Хедж требования")],-1)),n("div",H,[n("div",K,[e[17]||(e[17]=n("span",{class:"label"},"Целевой DV01",-1)),n("span",N,d(Re(Pe.value.targetDv01)),1)]),n("div",$,[e[18]||(e[18]=n("span",{class:"label"},"Целевая Vega",-1)),n("span",J,d(Re(Pe.value.targetVega)),1)]),n("div",Q,[e[19]||(e[19]=n("span",{class:"label"},"Корреляция цели",-1)),n("span",W,d((100*Pe.value.correlation).toFixed(1))+"%",1)]),n("div",X,[e[20]||(e[20]=n("span",{class:"label"},"Эффективность",-1)),n("span",Z,d((100*Pe.value.efficiency).toFixed(1))+"%",1)])])])]),n("div",aa,[e[26]||(e[26]=n("div",{class:"card-header"},[n("h3",null,"Доступные инструменты для хеджирования"),n("span",{class:"card-subtitle"},"Выберите инструменты для репликации позиции")],-1)),n("div",ea,[(g(!0),t(r,null,v(ke.value,a=>(g(),t("div",{key:a.id,class:o(["instrument-card",{selected:we.value.includes(a.id)}]),onClick:e=>(a=>{const e=we.value.indexOf(a);e>-1?we.value.splice(e,1):we.value.push(a)})(a.id)},[n("div",la,[n("span",ta,d(a.name),1),n("span",na,d(a.type),1)]),n("div",ia,[n("div",ca,[e[22]||(e[22]=n("span",{class:"label"},"DV01",-1)),n("span",da,d(a.dv01.toFixed(0)),1)]),n("div",oa,[e[23]||(e[23]=n("span",{class:"label"},"Vega",-1)),n("span",ra,d(a.vega.toFixed(0)),1)]),n("div",va,[e[24]||(e[24]=n("span",{class:"label"},"Корр",-1)),n("span",ua,d((100*a.correlation).toFixed(0))+"%",1)]),n("div",pa,[e[25]||(e[25]=n("span",{class:"label"},"Стоимость",-1)),n("span",ma,d(a.cost)+"bp",1)])])],10,sa))),128))])]),n("div",ga,[e[30]||(e[30]=n("div",{class:"card-header"},[n("h3",null,"Портфель хеджирования"),n("span",{class:"card-subtitle"},"Рекомендуемые размеры позиций")],-1)),n("div",ba,[n("table",ha,[e[29]||(e[29]=n("thead",null,[n("tr",null,[n("th",{class:"col-instrument"},"Инструмент"),n("th",{class:"col-quantity"},"Количество"),n("th",{class:"col-size"},"Размер (М)"),n("th",{class:"col-dv01"},"DV01 вклад"),n("th",{class:"col-vega"},"Vega вклад"),n("th",{class:"col-cost"},"Стоимость (bp)"),n("th",{class:"col-action"},"Действие")])],-1)),n("tbody",null,[(g(!0),t(r,null,v(Ce.value,a=>(g(),t("tr",{key:a.id,class:o(a.direction.toLowerCase())},[n("td",xa,[n("span",{class:o(["instrument-badge",a.type])},d(a.instrument),3)]),n("td",ya,d(a.quantity.toFixed(2)),1),n("td",fa,d(Re(a.size)),1),n("td",{class:o(["col-dv01",a.dv01Contribution>=0?"positive":"negative"])},d(a.dv01Contribution>=0?"+":"")+d(Re(a.dv01Contribution)),3),n("td",{class:o(["col-vega",a.vegaContribution>=0?"positive":"negative"])},d(a.vegaContribution>=0?"+":"")+d(Re(a.vegaContribution)),3),n("td",La,d(a.cost),1),n("td",wa,[n("button",{onClick:e=>(a=>{const e=Ce.value.find(e=>e.id===a);e&&(e.executed=!0,e.executionTime=(new Date).toLocaleTimeString())})(a.id),class:"btn-action"},d(a.executed?"✓":"↓"),9,Fa)])],2))),128))]),n("tfoot",null,[n("tr",Pa,[e[27]||(e[27]=n("td",{colspan:"2"},[n("strong",null,"ИТОГО ХЕДЖ")],-1)),n("td",ka,[n("strong",null,d(Re(Ve.value)),1)]),n("td",Ca,[n("strong",null,d(Re(De.value)),1)]),n("td",Va,[n("strong",null,d(Re(Se.value)),1)]),n("td",Da,[n("strong",null,d(Te.value.toFixed(1))+"bp",1)]),e[28]||(e[28]=n("td",null,null,-1))])])])])]),n("div",Sa,[n("div",Ta,[e[38]||(e[38]=n("div",{class:"card-header"},[n("h3",null,"Сравнение: До/После хеджирования")],-1)),n("div",qa,[n("table",Ba,[e[37]||(e[37]=n("thead",null,[n("tr",null,[n("th",null,"Метрика"),n("th",null,"До хеджа"),n("th",null,"После хеджа"),n("th",null,"Снижение")])],-1)),n("tbody",null,[n("tr",null,[e[31]||(e[31]=n("td",{class:"metric-name"},"DV01 (М/bp)",-1)),n("td",Ma,d(Re(Fe.value.dv01)),1),n("td",Ra,d(Re(Fe.value.dv01-De.value)),1),n("td",za,d((De.value/Fe.value.dv01*100).toFixed(1))+"%",1)]),n("tr",null,[e[32]||(e[32]=n("td",{class:"metric-name"},"Vega (М/1%)",-1)),n("td",Ua,d(Re(Fe.value.vega)),1),n("td",Ya,d(Re(Fe.value.vega-Se.value)),1),n("td",Aa,d((Se.value/Fe.value.vega*100).toFixed(1))+"%",1)]),n("tr",null,[e[33]||(e[33]=n("td",{class:"metric-name"},"Max Loss (1σ)",-1)),n("td",Ia,d(Re(Fe.value.maxLoss)),1),n("td",_a,d(Re(.15*Fe.value.maxLoss)),1),e[34]||(e[34]=n("td",{class:"value green"},d(85)+"%",-1))]),n("tr",null,[e[35]||(e[35]=n("td",{class:"metric-name"},"Correlation",-1)),e[36]||(e[36]=n("td",{class:"value"},"-",-1)),n("td",ja,d((100*qe.value).toFixed(1))+"%",1),n("td",Ea,d((100*qe.value).toFixed(1))+"%",1)])])])])]),e[39]||(e[39]=u('<div class="card" data-v-a8790ded><div class="card-header" data-v-a8790ded><h3 data-v-a8790ded>Снижение риска</h3></div><div class="risk-reduction" data-v-a8790ded><div class="reduction-item" data-v-a8790ded><span class="risk-type" data-v-a8790ded>Направленный риск</span><div class="bar-container" data-v-a8790ded><div class="bar-before" style="width:100%;height:8px;background:rgba(248, 113, 113, 0.4);" data-v-a8790ded></div><div class="bar-after" style="width:5%;height:8px;background:rgba(74, 222, 128, 0.6);position:relative;top:-8px;" data-v-a8790ded></div></div><span class="reduction-text" data-v-a8790ded>95% снижено</span></div><div class="reduction-item" data-v-a8790ded><span class="risk-type" data-v-a8790ded>Риск Duration</span><div class="bar-container" data-v-a8790ded><div class="bar-before" style="width:100%;height:8px;background:rgba(248, 113, 113, 0.4);" data-v-a8790ded></div><div class="bar-after" style="width:8%;height:8px;background:rgba(74, 222, 128, 0.6);position:relative;top:-8px;" data-v-a8790ded></div></div><span class="reduction-text" data-v-a8790ded>92% снижено</span></div><div class="reduction-item" data-v-a8790ded><span class="risk-type" data-v-a8790ded>Риск Vol</span><div class="bar-container" data-v-a8790ded><div class="bar-before" style="width:100%;height:8px;background:rgba(248, 113, 113, 0.4);" data-v-a8790ded></div><div class="bar-after" style="width:15%;height:8px;background:rgba(74, 222, 128, 0.6);position:relative;top:-8px;" data-v-a8790ded></div></div><span class="reduction-text" data-v-a8790ded>85% снижено</span></div></div></div>',1))]),n("div",Oa,[n("div",Ga,[e[42]||(e[42]=n("div",{class:"chart-header"},[n("h3",null,"Стоимость хеджирования"),n("span",{class:"chart-subtitle"},"Разложение по инструментам")],-1)),n("div",Ha,[(g(!0),t(r,null,v(Ce.value,a=>(g(),t("div",{key:a.id,class:"cost-item"},[n("span",Ka,d(a.instrument),1),n("div",Na,[n("div",{class:"cost-bar",style:p({width:Math.min(100,Math.max(2,Math.abs(a.cost)/Math.max(Te.value,1)*100))+"%"})},null,4)]),n("span",$a,d(a.cost.toFixed(1))+"bp",1)]))),128)),n("div",Ja,[e[40]||(e[40]=n("span",{class:"instrument-name"},[n("strong",null,"ОБЩАЯ СТОИМОСТЬ")],-1)),e[41]||(e[41]=n("div",{class:"cost-bar-container total-bar-container"},[n("div",{class:"cost-bar total-bar",style:{width:"100%"}})],-1)),n("span",Qa,[n("strong",null,d(Te.value.toFixed(1))+"bp",1)])])])]),n("div",Wa,[e[48]||(e[48]=n("div",{class:"chart-header"},[n("h3",null,"Оптимальная репликация"),n("span",{class:"chart-subtitle"},"Коэффициенты регрессии")],-1)),n("div",Xa,[n("div",Za,[e[43]||(e[43]=n("span",{class:"variable"},"β (Beta)",-1)),n("span",ae,d(Be.value.beta.toFixed(3)),1)]),n("div",ee,[e[44]||(e[44]=n("span",{class:"variable"},"α (Alpha)",-1)),n("span",se,d(Be.value.alpha.toFixed(4)),1)]),n("div",le,[e[45]||(e[45]=n("span",{class:"variable"},"R² (Adjusted)",-1)),n("span",te,d((100*Be.value.rSquared).toFixed(2))+"%",1)]),n("div",ne,[e[46]||(e[46]=n("span",{class:"variable"},"Станд. ошибка",-1)),n("span",ie,d(Be.value.stdError.toFixed(4)),1)]),n("div",ce,[e[47]||(e[47]=n("span",{class:"variable"},"RMSE",-1)),n("span",de,d(Be.value.rmse.toFixed(2)),1)])])])]),n("div",oe,[e[50]||(e[50]=n("div",{class:"card-header"},[n("h3",null,"Анализ сценариев: Эффективность хеджа"),n("span",{class:"card-subtitle"},"P&L позиции с хеджем в различных сценариях")],-1)),n("div",re,[n("table",ve,[e[49]||(e[49]=n("thead",null,[n("tr",null,[n("th",null,"Сценарий"),n("th",null,"Движение рынка"),n("th",null,"Исходный P&L"),n("th",null,"P&L хеджа"),n("th",null,"Чистый P&L"),n("th",null,"Эффективность хеджа")])],-1)),n("tbody",null,[(g(!0),t(r,null,v(Me.value,a=>(g(),t("tr",{key:a.id,class:o(3===a.id?"base":"")},[n("td",ue,d(a.name),1),n("td",{class:o(["market-move",a.move>=0?"positive":"negative"])},d(a.move>=0?"+":"")+d(a.move.toFixed(0))+"bp ",3),n("td",{class:o(["pnl",a.originalPnL>=0?"positive":"negative"])},d(a.originalPnL>=0?"+":"")+d(Re(a.originalPnL)),3),n("td",{class:o(["pnl",a.hedgePnL>=0?"positive":"negative"])},d(a.hedgePnL>=0?"+":"")+d(Re(a.hedgePnL)),3),n("td",{class:o(["pnl",a.netPnL>=0?"positive":"negative"])},d(a.netPnL>=0?"+":"")+d(Re(a.netPnL)),3),n("td",pe,d((100*a.effectiveness).toFixed(1))+"%",1)],2))),128))])])])]),n("div",me,[e[51]||(e[51]=n("div",{class:"card-header"},[n("h3",null,"Статус выполнения"),n("span",{class:"card-subtitle"},"Ордера и исполнение")],-1)),n("div",ge,[(g(!0),t(r,null,v(Ce.value,a=>(g(),t("div",{key:a.id,class:"execution-item"},[n("div",be,[n("span",{class:o(["instrument-badge",a.type])},d(a.instrument),3),n("span",he,d(a.quantity.toFixed(2))+" контрактов",1),n("span",{class:o(["status",a.executed?"executed":"pending"])},d(a.executed?"✓ Исполнено":"Ожидание"),3)]),n("div",xe,[n("span",null,"Размер: "+d(Re(a.size)),1),n("span",null,"Направление: "+d(a.direction),1),n("span",null,"Цена: "+d(a.price),1),a.executed?(g(),t("span",ye,"Время: "+d(a.executionTime),1)):m("",!0)])]))),128))])]),e[52]||(e[52]=n("div",{class:"page-footer"},[n("span",null,"• Метод: Регрессионное оптимальное хеджирование"),n("span",null,"• Обновление: В реальном времени"),n("span",null,"• Запас прочности: 10% (buffer)")],-1))]);var s}}}),[["__scopeId","data-v-a8790ded"]]);export{fe as default};
