import{d as s,r as e,a,v as l,o as c,G as n,c as t,e as i,n as o,F as u,i as d,f as r,t as v,g as p,w as b,T as g,q as m,x as f,N as k,L as y,M as h,y as w,Q as I,P as S,I as R,k as C}from"./vendor-DLyKmMu8.js";import{g as O,b as U,c as T,l as P,A as E,d as A,s as N,e as x,f as L,_}from"./index-Ba4DjugF.js";const V="rudata_credentials";function D(s){const e=btoa(JSON.stringify(s));localStorage.setItem(V,e)}const $="   https://stochastic-dashbord-v1-production.up.railway.app";async function M(s){const e=await fetch(s);if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);return e.json()}async function G(s,e){const a=await fetch(s,{method:"POST",headers:O(),body:JSON.stringify(e)});if(!a.ok)throw new Error(`HTTP ${a.status}: ${a.statusText}`);return a.json()}function B(s){return M(`${$}/api/security/ipinfo/${encodeURIComponent(s)}`)}function Y(s){return M(`${$}/api/security/ip2location/${encodeURIComponent(s)}`)}function H(s){return M(`${$}/api/security/bigdatacloud/${encodeURIComponent(s)}`)}function K(s){return G(`${$}/api/security/virustotal/scan-url`,{url:s})}function W(s){return G(`${$}/api/security/urlscan/submit`,{url:s})}const j={class:"page-container"},F={class:"section-header"},z=["disabled"],J={key:0},X={key:1},Z={class:"tabs-navigation"},q=["onClick"],Q={class:"tab-label"},ss={key:0,class:"badge-dot"},es={class:"settings-grid"},as={class:"grid-content"},ls={class:"glass-panel settings-block"},cs={class:"control-group"},ns={class:"control-row"},ts={class:"segmented-control"},is={class:"control-row"},os={class:"control-right"},us={class:"control-row"},ds={class:"control-right"},rs={class:"grid-content"},vs={class:"glass-panel settings-block"},ps={class:"control-group"},bs={class:"control-row"},gs={class:"control-right"},ms={class:"control-row"},fs={class:"control-right"},ks={class:"control-row"},ys={class:"control-right"},hs={class:"glass-panel settings-block"},ws={class:"control-group"},Is={class:"control-row"},Ss={class:"switch"},Rs={class:"control-row"},Cs={class:"switch"},Os={class:"grid-content"},Us={class:"glass-panel settings-block"},Ts={class:"control-group risk-limits"},Ps={class:"control-row"},Es={class:"input-wrapper"},As={class:"control-row"},Ns={class:"input-wrapper"},xs={class:"control-row"},Ls={class:"input-wrapper"},_s={class:"glass-panel settings-block"},Vs={class:"control-group"},Ds={class:"control-row"},$s={class:"switch"},Ms={class:"grid-content"},Gs={class:"glass-panel settings-block"},Bs={class:"control-group"},Ys={class:"control-row vertical"},Hs={class:"glass-panel settings-block"},Ks={class:"control-group"},Ws={class:"control-row vertical"},js={class:"control-row vertical"},Fs={class:"status-footer"},zs={class:"glass-panel settings-block"},Js={class:"control-group"},Xs={class:"control-row vertical"},Zs={class:"control-row vertical"},qs={class:"status-footer"},Qs={class:"glass-panel settings-block"},se={class:"services-list"},ee={class:"srv-left"},ae={class:"srv-name"},le={class:"glass-panel settings-block api-accordion"},ce={class:"accordion-list"},ne=["onClick"],te={class:"accordion-label"},ie={class:"accordion-count"},oe={class:"accordion-body"},ue={class:"control-group"},de={class:"control-row vertical"},re=["type","onUpdate:modelValue","placeholder"],ve={key:0,class:"divider"},pe={class:"glass-panel settings-block"},be={class:"services-list"},ge={class:"srv-left"},me={class:"srv-name font-mono",style:{"font-size":"12px"}},fe={class:"grid-content security-content"},ke={class:"security-section full-width"},ye={class:"security-sub-tabs"},he=["onClick"],we={key:0,class:"security-error-banner"},Ie={class:"sec-tab-content"},Se={class:"sec-input-row"},Re=["disabled"],Ce={key:0,class:"sec-loading"},Oe={key:1,class:"sec-results-grid three-col"},Ue={key:0,class:"glass-panel settings-block"},Te={class:"sec-fields"},Pe={class:"sec-field"},Ee={class:"sec-value"},Ae={class:"sec-field"},Ne={class:"sec-value"},xe={class:"sec-field"},Le={class:"sec-value"},_e={class:"sec-field"},Ve={class:"sec-value"},De={class:"sec-field"},$e={class:"sec-value"},Me={class:"sec-field"},Ge={class:"sec-value"},Be={class:"sec-field"},Ye={class:"sec-value"},He={class:"sec-field"},Ke={class:"sec-value"},We={key:1,class:"glass-panel settings-block"},je={class:"sec-fields"},Fe={class:"sec-field"},ze={class:"sec-value"},Je={class:"sec-field"},Xe={class:"sec-value"},Ze={class:"sec-field"},qe={class:"sec-value"},Qe={class:"sec-field"},sa={class:"sec-value"},ea={class:"sec-field"},aa={class:"sec-value"},la={class:"sec-field"},ca={class:"sec-value"},na={class:"sec-field"},ta={class:"sec-value"},ia={class:"sec-field"},oa={class:"sec-value"},ua={key:2,class:"glass-panel settings-block"},da={class:"sec-fields"},ra={class:"sec-field"},va={class:"sec-value"},pa={class:"sec-field"},ba={class:"sec-value"},ga={class:"sec-field"},ma={class:"sec-value"},fa={class:"sec-field"},ka={class:"sec-value"},ya={class:"sec-field"},ha={class:"sec-value"},wa={class:"sec-tab-content"},Ia={class:"sec-input-row"},Sa=["disabled"],Ra={key:0,class:"sec-loading"},Ca={key:1,class:"sec-results-grid two-col"},Oa={class:"glass-panel settings-block"},Ua={class:"sec-fields"},Ta={key:0,class:"sec-polling"},Pa={class:"sec-field"},Ea={class:"sec-value"},Aa={class:"sec-field"},Na={class:"sec-value text-red"},xa={class:"sec-field"},La={class:"sec-value",style:{color:"#fb923c","font-weight":"700"}},_a={class:"sec-field"},Va={class:"sec-value text-green"},Da={class:"sec-field"},$a={class:"sec-value"},Ma={class:"sec-field"},Ga={class:"sec-value"},Ba={key:2,class:"sec-field"},Ya={class:"sec-value sec-truncate"},Ha={class:"glass-panel settings-block"},Ka={class:"sec-fields"},Wa={key:0,class:"sec-polling"},ja={class:"sec-field"},Fa={class:"sec-value"},za={class:"sec-field"},Ja={class:"sec-value"},Xa={class:"sec-field"},Za={class:"sec-value"},qa={class:"sec-field"},Qa={class:"sec-value"},sl={class:"sec-field"},el={class:"sec-value"},al={class:"sec-field"},ll={class:"sec-field"},cl={class:"sec-value"},nl={key:0,class:"sec-field"},tl={class:"sec-value"},il={key:2,class:"sec-field"},ol={class:"sec-value sec-truncate"},ul={class:"sec-tab-content"},dl={class:"sec-input-row"},rl=["disabled"],vl={key:0,class:"sec-loading"},pl={key:1,class:"sec-results-grid single-col"},bl={class:"glass-panel settings-block"},gl={class:"abuse-score-wrap"},ml={class:"sec-fields"},fl={class:"sec-field"},kl={class:"sec-value"},yl={class:"sec-field"},hl={class:"sec-value"},wl={class:"sec-field"},Il={class:"sec-field"},Sl={class:"sec-value"},Rl={class:"sec-field"},Cl={class:"sec-value"},Ol={class:"sec-field"},Ul={class:"sec-value"},Tl={class:"sec-field"},Pl={class:"sec-value"},El={class:"sec-field"},Al={class:"sec-value"},Nl={class:"sec-field"},xl={class:"sec-value"},Ll={class:"sec-tab-content"},_l={class:"sec-input-row"},Vl=["disabled"],Dl={key:0,class:"sec-loading"},$l={key:1,class:"sec-results-grid single-col"},Ml={class:"glass-panel settings-block"},Gl={class:"block-title"},Bl={class:"sec-fields"},Yl={class:"sec-field"},Hl={class:"sec-value"},Kl={class:"sec-field"},Wl={class:"sec-value"},jl={class:"sec-field"},Fl={class:"sec-value"},zl={class:"sec-field"},Jl={class:"sec-value"},Xl={class:"sec-field"},Zl={class:"sec-value"},ql={class:"sec-field"},Ql={class:"sec-value"},sc={class:"sec-field"},ec={class:"sec-value"},ac={key:0,class:"sec-field"},lc={class:"sec-value"},cc={key:1,class:"sec-field"},nc={class:"sec-value"},tc={key:2,class:"sec-field"},ic={class:"sec-value ns-list"},oc=_(s({__name:"Settings",setup(s){const _=e("general"),G=e(!0),oc=e(!1),uc=e(""),dc=[{id:"general",name:"Общие",iconClass:"icon-gen"},{id:"models",name:"Модели",iconClass:"icon-mod"},{id:"risk",name:"Риск",iconClass:"icon-risk"},{id:"api",name:"API",iconClass:"icon-api"},{id:"security",name:"Безопасность",iconClass:"icon-sec"}],rc=a({cbonds:{status:"idle",message:""},rudata:{status:"idle",message:""}}),vc=a({general:{theme:"dark",language:"ru",currency:"RUB"},models:{portfolioModel:"markowitz",varModel:"parametric",varConfidence:"0.95",useRollingWindow:!0,exponentialWeighting:!1},risk:{maxVaR:5,maxConcentration:25,minSharpeRatio:1.2,enableStressTesting:!0},api:{cbondsLogin:"",cbondsPassword:"",rudataLogin:"",rudataPassword:"",bloombergKey:"",webhookUrl:""},connectedServices:[{id:1,name:"Cbonds API",connected:!1},{id:2,name:"RuData Reference",connected:!1},{id:3,name:"Bloomberg Data",connected:!1},{id:4,name:"MOEX ISS",connected:!0},{id:5,name:"Alpha Vantage",connected:!1},{id:6,name:"Twelve Data",connected:!1},{id:7,name:"Polygon.io",connected:!1},{id:8,name:"FRED",connected:!1},{id:9,name:"CoinGecko",connected:!1},{id:10,name:"NewsAPI",connected:!1},{id:11,name:"Hugging Face",connected:!1},{id:12,name:"Frankfurter (ECB)",connected:!0},{id:13,name:"Bank of Russia",connected:!0},{id:14,name:"Nager.Date",connected:!0}]}),pc=U(),bc=a({}),gc=a({}),mc=e({});async function fc(){try{mc.value=await A()}catch{}}function kc(s){return L(s)}const yc=e("ip-lookup"),hc=e(""),wc=[{id:"ip-lookup",name:"IP Lookup"},{id:"url-scanner",name:"URL Scanner"},{id:"ip-abuse",name:"IP Abuse"},{id:"whois",name:"WHOIS"}],Ic=e(""),Sc=e(!1),Rc=e(null),Cc=e(null),Oc=e(null),Uc=l(()=>Rc.value||Cc.value||Oc.value);async function Tc(){const s=Ic.value.trim();if(s){Sc.value=!0,hc.value="",Rc.value=null,Cc.value=null,Oc.value=null;try{const[e,a,l]=await Promise.allSettled([B(s),Y(s),H(s)]);Rc.value="fulfilled"===e.status?e.value:null,Cc.value="fulfilled"===a.status?a.value:null,Oc.value="fulfilled"===l.status?l.value:null}catch(e){const s=e instanceof Error?e.message:String(e);hc.value=`IP Lookup failed: ${s}`}finally{Sc.value=!1}}}function Pc(s,e){return null==s||null==e?"---":`${s.toFixed(4)}, ${e.toFixed(4)}`}const Ec=e(""),Ac=e(!1),Nc=e(null),xc=e(null),Lc=e(!1),_c=e(0),Vc=e(null),Dc=e(null),$c=e(!1),Mc=e(0);async function Gc(){const s=Ec.value.trim();if(s){Ac.value=!0,hc.value="",Nc.value=null,xc.value=null,Lc.value=!1,_c.value=0,Vc.value=null,Dc.value=null,$c.value=!1,Mc.value=0;try{const[e,a]=await Promise.allSettled([K(s),W(s)]);if("fulfilled"===e.status?(Nc.value=e.value,function(s){Lc.value=!0,_c.value=0;const e=60,a=setInterval(async()=>{_c.value+=5;try{const l=await function(s){return M(`${$}/api/security/virustotal/analysis/${encodeURIComponent(s)}`)}(s);("completed"===l.status||_c.value>=e)&&(xc.value=l,Lc.value=!1,clearInterval(a))}catch{_c.value>=e&&(Lc.value=!1,clearInterval(a))}},5e3)}(e.value.analysis_id)):hc.value=`VirusTotal submit failed: ${e.reason}`,"fulfilled"===a.status)Vc.value=a.value,function(s){$c.value=!0,Mc.value=0;const e=60,a=setInterval(async()=>{Mc.value+=5;try{const l=await function(s){return M(`${$}/api/security/urlscan/result/${encodeURIComponent(s)}`)}(s);("completed"===l.status||Mc.value>=e)&&(Dc.value=l,$c.value=!1,clearInterval(a))}catch{Mc.value>=e&&($c.value=!1,clearInterval(a))}},5e3)}(a.value.uuid);else{const s=hc.value,e=`URLScan submit failed: ${a.reason}`;hc.value=s?`${s} | ${e}`:e}}catch(e){const s=e instanceof Error?e.message:String(e);hc.value=`URL Scan failed: ${s}`}finally{Ac.value=!1}}}const Bc=e(""),Yc=e(!1),Hc=e(null),Kc=l(()=>{if(!Hc.value)return"rgba(255,255,255,0.4)";const s=Hc.value.abuse_confidence_score;return s<=25?"#4ade80":s<=50?"#facc15":s<=75?"#fb923c":"#ef4444"});async function Wc(){const s=Bc.value.trim();if(s){Yc.value=!0,hc.value="",Hc.value=null;try{Hc.value=await function(s){return M(`${$}/api/security/abuseipdb/${encodeURIComponent(s)}`)}(s)}catch(e){const s=e instanceof Error?e.message:String(e);hc.value=`Abuse check failed: ${s}`}finally{Yc.value=!1}}}const jc=e(""),Fc=e(!1),zc=e(null);async function Jc(){const s=jc.value.trim();if(s){Fc.value=!0,hc.value="",zc.value=null;try{zc.value=await function(s){return M(`${$}/api/security/whois/${encodeURIComponent(s)}`)}(s)}catch(e){const s=e instanceof Error?e.message:String(e);hc.value=`WHOIS lookup failed: ${s}`}finally{Fc.value=!1}}}c(()=>{const s=function(){const s=localStorage.getItem(V);if(!s)return null;try{return JSON.parse(atob(s))}catch{return null}}();s&&(vc.api.rudataLogin=s.login,vc.api.rudataPassword=s.password,rc.rudata.status="saved");const e=localStorage.getItem("app_settings");if(e)try{const s=JSON.parse(e);s.general&&Object.assign(vc.general,s.general),s.models&&Object.assign(vc.models,s.models),s.risk&&Object.assign(vc.risk,s.risk),s.api?.cbondsLogin&&(vc.api.cbondsLogin=s.api.cbondsLogin),s.api?.cbondsPassword&&(vc.api.cbondsPassword=s.api.cbondsPassword)}catch(a){console.error("Failed to load settings:",a)}uc.value=T(),function(){const s=P();for(const e of E)bc[e.key]=s[e.key]||""}(),fc(),G.value=!1});const Xc=s=>{const e=rc[s].status,a=rc[s].message;return"checking"===e?{text:"Проверка...",class:"text-blue"}:"success"===e?{text:"Подключено",class:"text-green"}:"error"===e?{text:a||"Ошибка авторизации",class:"text-red"}:"saved"===e?{text:"Сохранено",class:"text-muted"}:{text:"Не подключено",class:"text-muted"}},Zc=async s=>{if(rc[s].status="checking",rc[s].message="","rudata"===s){const a=vc.api.rudataLogin,l=vc.api.rudataPassword;if(!a||!l)return rc[s].status="error",void(rc[s].message="Введите логин и пароль");try{const e=await async function(s){const e=await fetch("   https://stochastic-dashbord-v1-production.up.railway.app/api/rudata/test-connection",{method:"POST",headers:O(),body:JSON.stringify(s)});if(!e.ok){const s=await e.json().catch(()=>({detail:`HTTP ${e.status}`}));throw new Error(s.detail||`Ошибка: ${e.status}`)}return e.json()}({login:a,password:l});if(e.success){rc[s].status="success",rc[s].message=e.message;const c=vc.connectedServices.find(s=>s.name.toLowerCase().includes("rudata"));c&&(c.connected=!0),D({login:a,password:l})}else{rc[s].status="error",rc[s].message=e.message;const a=vc.connectedServices.find(s=>s.name.toLowerCase().includes("rudata"));a&&(a.connected=!1)}}catch(e){rc[s].status="error",rc[s].message=e.message||"Ошибка соединения";const a=vc.connectedServices.find(s=>s.name.toLowerCase().includes("rudata"));a&&(a.connected=!1)}}else"cbonds"===s&&setTimeout(()=>{if(vc.api.cbondsLogin&&vc.api.cbondsPassword){rc[s].status="success";const e=vc.connectedServices.find(s=>s.name.toLowerCase().includes("cbonds"));e&&(e.connected=!0)}else rc[s].status="error",rc[s].message="Введите логин и пароль"},1200)},qc=()=>{vc.api.rudataLogin&&vc.api.rudataPassword&&D({login:vc.api.rudataLogin,password:vc.api.rudataPassword});const s={general:vc.general,models:vc.models,risk:vc.risk,api:{cbondsLogin:vc.api.cbondsLogin,cbondsPassword:vc.api.cbondsPassword,bloombergKey:vc.api.bloombergKey,webhookUrl:vc.api.webhookUrl}};localStorage.setItem("app_settings",JSON.stringify(s)),N(uc.value),function(){const s={};for(const e of E)bc[e.key]&&(s[e.key]=bc[e.key]);x(s)}(),G.value=!1,setTimeout(()=>G.value=!0,2e3)};return n(vc,()=>{G.value=!0},{deep:!0}),(s,e)=>(m(),t("div",j,[i("div",F,[e[25]||(e[25]=i("div",{class:"header-left"},[i("h1",{class:"section-title"},"Настройки"),i("p",{class:"section-subtitle"},"Конфигурация моделей и интерфейса")],-1)),i("button",{onClick:qc,class:o(["btn-glass primary btn-save",{"has-changes":G.value}]),disabled:!G.value},[G.value?(m(),t("span",J,"Сохранить")):(m(),t("span",X,"Сохранено"))],10,z)]),i("div",Z,[(m(),t(u,null,d(dc,s=>i("button",{key:s.id,onClick:e=>_.value=s.id,class:o(["tab-item",{active:_.value===s.id}])},[i("span",Q,v(s.name),1),"api"===s.id&&oc.value?(m(),t("span",ss)):r("",!0)],10,q)),64))]),i("div",es,[p(g,{name:"fade",mode:"out-in"},{default:b(()=>[f(i("div",as,[i("div",ls,[e[33]||(e[33]=i("h3",{class:"block-title"},"Интерфейс",-1)),i("div",cs,[i("div",ns,[e[26]||(e[26]=i("label",null,"Тема оформления",-1)),i("div",ts,[i("button",{class:o({active:"dark"===vc.general.theme}),onClick:e[0]||(e[0]=s=>vc.general.theme="dark")},"Тёмная",2),i("button",{class:o({active:"light"===vc.general.theme}),onClick:e[1]||(e[1]=s=>vc.general.theme="light")},"Светлая",2),i("button",{class:o({active:"auto"===vc.general.theme}),onClick:e[2]||(e[2]=s=>vc.general.theme="auto")},"Авто",2)])]),e[31]||(e[31]=i("div",{class:"divider"},null,-1)),i("div",is,[e[28]||(e[28]=i("label",null,"Язык интерфейса",-1)),i("div",os,[f(i("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>vc.general.language=s),class:"glass-select"},[...e[27]||(e[27]=[i("option",{value:"ru"},"Русский",-1),i("option",{value:"en"},"English",-1),i("option",{value:"de"},"Deutsch",-1)])],512),[[y,vc.general.language]])])]),e[32]||(e[32]=i("div",{class:"divider"},null,-1)),i("div",us,[e[30]||(e[30]=i("label",null,"Валюта портфеля",-1)),i("div",ds,[f(i("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>vc.general.currency=s),class:"glass-select"},[...e[29]||(e[29]=[i("option",{value:"RUB"},"RUB (₽)",-1),i("option",{value:"RUB"},"RUB (₽)",-1),i("option",{value:"EUR"},"EUR (€)",-1),i("option",{value:"CNY"},"CNY (¥)",-1)])],512),[[y,vc.general.currency]])])])])])],512),[[k,"general"===_.value]])]),_:1}),p(g,{name:"fade",mode:"out-in"},{default:b(()=>[f(i("div",rs,[i("div",vs,[e[42]||(e[42]=i("h3",{class:"block-title"},"Модели Оптимизации",-1)),i("div",ps,[i("div",bs,[e[35]||(e[35]=i("div",{class:"label-group"},[i("label",null,"Алгоритм весов"),i("span",{class:"sub-label"},"Метод ребалансировки портфеля")],-1)),i("div",gs,[f(i("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>vc.models.portfolioModel=s),class:"glass-select"},[...e[34]||(e[34]=[i("option",{value:"markowitz"},"Markowitz (Mean-Variance)",-1),i("option",{value:"black-litterman"},"Black-Litterman",-1),i("option",{value:"risk-parity"},"Risk Parity (ERC)",-1),i("option",{value:"hrp"},"Hierarchical Risk Parity",-1)])],512),[[y,vc.models.portfolioModel]])])]),e[40]||(e[40]=i("div",{class:"divider"},null,-1)),i("div",ms,[e[37]||(e[37]=i("div",{class:"label-group"},[i("label",null,"Модель VaR"),i("span",{class:"sub-label"},"Оценка хвостового риска")],-1)),i("div",fs,[f(i("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>vc.models.varModel=s),class:"glass-select"},[...e[36]||(e[36]=[i("option",{value:"historical"},"Историческая (Historical)",-1),i("option",{value:"parametric"},"Параметрическая (Normal)",-1),i("option",{value:"cornish"},"Cornish-Fisher (Modified)",-1),i("option",{value:"gpd"},"Extreme Value Theory (GPD)",-1)])],512),[[y,vc.models.varModel]])])]),e[41]||(e[41]=i("div",{class:"divider"},null,-1)),i("div",ks,[e[39]||(e[39]=i("label",null,"Доверительный интервал",-1)),i("div",ys,[f(i("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>vc.models.varConfidence=s),class:"glass-select"},[...e[38]||(e[38]=[i("option",{value:"0.90"},"90.0%",-1),i("option",{value:"0.95"},"95.0%",-1),i("option",{value:"0.99"},"99.0%",-1)])],512),[[y,vc.models.varConfidence]])])])])]),i("div",hs,[e[48]||(e[48]=i("h3",{class:"block-title"},"Обработка данных",-1)),i("div",ws,[i("div",Is,[e[44]||(e[44]=i("label",null,"Скользящее окно (Rolling Window)",-1)),i("label",Ss,[f(i("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=s=>vc.models.useRollingWindow=s)},null,512),[[h,vc.models.useRollingWindow]]),e[43]||(e[43]=i("span",{class:"slider"},null,-1))])]),e[47]||(e[47]=i("div",{class:"divider"},null,-1)),i("div",Rs,[e[46]||(e[46]=i("label",null,"EWMA (Экспоненциальное взвешивание)",-1)),i("label",Cs,[f(i("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=s=>vc.models.exponentialWeighting=s)},null,512),[[h,vc.models.exponentialWeighting]]),e[45]||(e[45]=i("span",{class:"slider"},null,-1))])])])])],512),[[k,"models"===_.value]])]),_:1}),p(g,{name:"fade",mode:"out-in"},{default:b(()=>[f(i("div",Os,[i("div",Us,[e[56]||(e[56]=i("h3",{class:"block-title"},"Глобальные Лимиты",-1)),i("div",Ts,[i("div",Ps,[e[50]||(e[50]=i("label",null,"Макс. VaR портфеля",-1)),i("div",Es,[f(i("input",{type:"number","onUpdate:modelValue":e[10]||(e[10]=s=>vc.risk.maxVaR=s),class:"glass-input right-align"},null,512),[[w,vc.risk.maxVaR,void 0,{number:!0}]]),e[49]||(e[49]=i("span",{class:"unit"},"%",-1))])]),e[54]||(e[54]=i("div",{class:"divider"},null,-1)),i("div",As,[e[52]||(e[52]=i("label",null,"Макс. концентрация (на актив)",-1)),i("div",Ns,[f(i("input",{type:"number","onUpdate:modelValue":e[11]||(e[11]=s=>vc.risk.maxConcentration=s),class:"glass-input right-align"},null,512),[[w,vc.risk.maxConcentration,void 0,{number:!0}]]),e[51]||(e[51]=i("span",{class:"unit"},"%",-1))])]),e[55]||(e[55]=i("div",{class:"divider"},null,-1)),i("div",xs,[e[53]||(e[53]=i("label",null,"Мин. коэффициент Шарпа",-1)),i("div",Ls,[f(i("input",{type:"number","onUpdate:modelValue":e[12]||(e[12]=s=>vc.risk.minSharpeRatio=s),class:"glass-input right-align",step:"0.1"},null,512),[[w,vc.risk.minSharpeRatio,void 0,{number:!0}]])])])])]),i("div",_s,[e[59]||(e[59]=i("h3",{class:"block-title"},"Автоматизация",-1)),i("div",Vs,[i("div",Ds,[e[58]||(e[58]=i("div",{class:"label-group"},[i("label",null,"Автоматическое стресс-тестирование"),i("span",{class:"sub-label"},"Запускать при каждом обновлении весов")],-1)),i("label",$s,[f(i("input",{type:"checkbox","onUpdate:modelValue":e[13]||(e[13]=s=>vc.risk.enableStressTesting=s)},null,512),[[h,vc.risk.enableStressTesting]]),e[57]||(e[57]=i("span",{class:"slider"},null,-1))])])])])],512),[[k,"risk"===_.value]])]),_:1}),p(g,{name:"fade",mode:"out-in"},{default:b(()=>[f(i("div",Ms,[i("div",Gs,[e[61]||(e[61]=i("h3",{class:"block-title"},"Backend API Key",-1)),i("div",Bs,[i("div",Ys,[e[60]||(e[60]=i("label",null,"X-API-Key",-1)),f(i("input",{type:"password","onUpdate:modelValue":e[14]||(e[14]=s=>uc.value=s),class:"glass-input full",placeholder:"Введите API ключ для аутентификации"},null,512),[[w,uc.value]])])]),e[62]||(e[62]=i("div",{class:"status-footer"},[i("span",{class:"sub-label",style:{"font-size":"11px",color:"rgba(255,255,255,0.4)"}}," Ключ передаётся в заголовке X-API-Key для всех запросов к бэкенду ")],-1))]),i("div",Hs,[e[66]||(e[66]=i("h3",{class:"block-title"},"Cbonds API",-1)),i("div",Ks,[i("div",Ws,[e[63]||(e[63]=i("label",null,"Login",-1)),f(i("input",{type:"text","onUpdate:modelValue":e[15]||(e[15]=s=>vc.api.cbondsLogin=s),class:"glass-input full",placeholder:"username@company.com"},null,512),[[w,vc.api.cbondsLogin]])]),e[65]||(e[65]=i("div",{class:"divider"},null,-1)),i("div",js,[e[64]||(e[64]=i("label",null,"Password",-1)),f(i("input",{type:"password","onUpdate:modelValue":e[16]||(e[16]=s=>vc.api.cbondsPassword=s),class:"glass-input full",placeholder:"••••••••"},null,512),[[w,vc.api.cbondsPassword]])])]),i("div",Fs,[i("button",{class:"btn-glass xs",onClick:e[17]||(e[17]=s=>Zc("cbonds"))},"Проверить"),i("span",{class:o(["status-text",Xc("cbonds").class])},v(Xc("cbonds").text),3)])]),i("div",zs,[e[70]||(e[70]=i("h3",{class:"block-title"},"RuData / Interfax",-1)),i("div",Js,[i("div",Xs,[e[67]||(e[67]=i("label",null,"Login",-1)),f(i("input",{type:"text","onUpdate:modelValue":e[18]||(e[18]=s=>vc.api.rudataLogin=s),class:"glass-input full",placeholder:"login"},null,512),[[w,vc.api.rudataLogin]])]),e[69]||(e[69]=i("div",{class:"divider"},null,-1)),i("div",Zs,[e[68]||(e[68]=i("label",null,"Password",-1)),f(i("input",{type:"password","onUpdate:modelValue":e[19]||(e[19]=s=>vc.api.rudataPassword=s),class:"glass-input full",placeholder:"••••••••"},null,512),[[w,vc.api.rudataPassword]])])]),i("div",qs,[i("button",{class:"btn-glass xs",onClick:e[20]||(e[20]=s=>Zc("rudata"))},"Проверить"),i("span",{class:o(["status-text",Xc("rudata").class])},v(Xc("rudata").text),3)])]),i("div",Qs,[e[71]||(e[71]=i("h3",{class:"block-title"},"Активные подключения",-1)),i("div",se,[(m(!0),t(u,null,d(vc.connectedServices,s=>(m(),t("div",{key:s.id,class:"service-item"},[i("div",ee,[i("span",{class:o(["srv-dot",{connected:s.connected}])},null,2),i("span",ae,v(s.name),1)]),i("span",{class:o(["status-indicator",{connected:s.connected}])},v(s.connected?"Active":"Offline"),3)]))),128))])]),i("div",le,[e[73]||(e[73]=i("h3",{class:"block-title"},"API Ключи",-1)),i("div",ce,[(m(!0),t(u,null,d(S(pc),s=>(m(),t("div",{key:s,class:o(["accordion-item",{expanded:gc[s]}])},[i("button",{class:"accordion-header",onClick:e=>function(s){gc[s]=!gc[s]}(s)},[i("span",te,v(s),1),i("span",ie,v(kc(s).length),1),e[72]||(e[72]=i("svg",{class:"accordion-chevron",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("polyline",{points:"6 9 12 15 18 9"})],-1))],8,ne),f(i("div",oe,[i("div",ue,[(m(!0),t(u,null,d(kc(s),(e,a)=>(m(),t(u,{key:e.key},[i("div",de,[i("label",null,v(e.label),1),f(i("input",{type:e.key.toLowerCase().includes("secret")||e.key.toLowerCase().includes("password")?"password":"text","onUpdate:modelValue":s=>bc[e.key]=s,class:"glass-input full",placeholder:e.placeholder},null,8,re),[[I,bc[e.key]]])]),a<kc(s).length-1?(m(),t("div",ve)):r("",!0)],64))),128))])],512),[[k,gc[s]]])],2))),128))])]),i("div",pe,[e[74]||(e[74]=i("h3",{class:"block-title"},"Backend API Health",-1)),i("div",be,[(m(!0),t(u,null,d(mc.value,(s,e)=>(m(),t("div",{key:e,class:"service-item"},[i("div",ge,[i("span",{class:o(["srv-dot",{connected:s}])},null,2),i("span",me,v(e),1)]),i("span",{class:o(["status-indicator",{connected:s}])},v(s?"OK":"Down"),3)]))),128))]),i("div",{class:"status-footer"},[i("button",{class:"btn-glass xs",onClick:fc},"Обновить статус")])])],512),[[k,"api"===_.value]])]),_:1}),p(g,{name:"fade",mode:"out-in"},{default:b(()=>[f(i("div",fe,[i("div",ke,[i("div",ye,[(m(),t(u,null,d(wc,s=>i("button",{key:s.id,class:o(["sub-tab-item",{active:yc.value===s.id}]),onClick:e=>yc.value=s.id},v(s.name),11,he)),64))]),hc.value?(m(),t("div",we,v(hc.value),1)):r("",!0),f(i("div",Ie,[i("div",Se,[f(i("input",{"onUpdate:modelValue":e[21]||(e[21]=s=>Ic.value=s),class:"glass-input full",placeholder:"IP адрес (напр. 8.8.8.8)",onKeyup:R(Tc,["enter"])},null,544),[[w,Ic.value]]),i("button",{class:"btn-glass primary",disabled:Sc.value||!Ic.value.trim(),onClick:Tc},v(Sc.value?"Загрузка...":"Проверить"),9,Re)]),Sc.value?(m(),t("div",Ce,"LOADING...")):r("",!0),Uc.value?(m(),t("div",Oe,[Rc.value?(m(),t("div",Ue,[e[83]||(e[83]=i("h3",{class:"block-title"},"IPINFO.IO",-1)),i("div",Te,[i("div",Pe,[e[75]||(e[75]=i("span",{class:"sec-label"},"IP",-1)),i("span",Ee,v(Rc.value.ip),1)]),i("div",Ae,[e[76]||(e[76]=i("span",{class:"sec-label"},"COUNTRY",-1)),i("span",Ne,v(Rc.value.country||"---"),1)]),i("div",xe,[e[77]||(e[77]=i("span",{class:"sec-label"},"CITY",-1)),i("span",Le,v(Rc.value.city||"---"),1)]),i("div",_e,[e[78]||(e[78]=i("span",{class:"sec-label"},"REGION",-1)),i("span",Ve,v(Rc.value.region||"---"),1)]),i("div",De,[e[79]||(e[79]=i("span",{class:"sec-label"},"ORG",-1)),i("span",$e,v(Rc.value.org||"---"),1)]),i("div",Me,[e[80]||(e[80]=i("span",{class:"sec-label"},"COORDINATES",-1)),i("span",Ge,v(Rc.value.loc||"---"),1)]),i("div",Be,[e[81]||(e[81]=i("span",{class:"sec-label"},"TIMEZONE",-1)),i("span",Ye,v(Rc.value.timezone||"---"),1)]),i("div",He,[e[82]||(e[82]=i("span",{class:"sec-label"},"HOSTNAME",-1)),i("span",Ke,v(Rc.value.hostname||"---"),1)])])])):r("",!0),Cc.value?(m(),t("div",We,[e[92]||(e[92]=i("h3",{class:"block-title"},"IP2LOCATION",-1)),i("div",je,[i("div",Fe,[e[84]||(e[84]=i("span",{class:"sec-label"},"IP",-1)),i("span",ze,v(Cc.value.ip),1)]),i("div",Je,[e[85]||(e[85]=i("span",{class:"sec-label"},"COUNTRY",-1)),i("span",Xe,v(Cc.value.country_name||"---")+" ("+v(Cc.value.country_code||"")+")",1)]),i("div",Ze,[e[86]||(e[86]=i("span",{class:"sec-label"},"CITY",-1)),i("span",qe,v(Cc.value.city_name||"---"),1)]),i("div",Qe,[e[87]||(e[87]=i("span",{class:"sec-label"},"REGION",-1)),i("span",sa,v(Cc.value.region_name||"---"),1)]),i("div",ea,[e[88]||(e[88]=i("span",{class:"sec-label"},"ISP / AS",-1)),i("span",aa,v(Cc.value.as||"---"),1)]),i("div",la,[e[89]||(e[89]=i("span",{class:"sec-label"},"COORDINATES",-1)),i("span",ca,v(Pc(Cc.value.latitude,Cc.value.longitude)),1)]),i("div",na,[e[90]||(e[90]=i("span",{class:"sec-label"},"TIMEZONE",-1)),i("span",ta,v(Cc.value.time_zone||"---"),1)]),i("div",ia,[e[91]||(e[91]=i("span",{class:"sec-label"},"PROXY",-1)),i("span",oa,v(Cc.value.is_proxy?"YES":"NO"),1)])])])):r("",!0),Oc.value?(m(),t("div",ua,[e[98]||(e[98]=i("h3",{class:"block-title"},"BIGDATACLOUD",-1)),i("div",da,[i("div",ra,[e[93]||(e[93]=i("span",{class:"sec-label"},"IP",-1)),i("span",va,v(Oc.value.ip||"---"),1)]),i("div",pa,[e[94]||(e[94]=i("span",{class:"sec-label"},"COUNTRY",-1)),i("span",ba,v(Oc.value.country?.name||"---")+" ("+v(Oc.value.country?.isoAlpha2||"")+")",1)]),i("div",ga,[e[95]||(e[95]=i("span",{class:"sec-label"},"CITY",-1)),i("span",ma,v(Oc.value.city?.name||"---"),1)]),i("div",fa,[e[96]||(e[96]=i("span",{class:"sec-label"},"ORGANISATION",-1)),i("span",ka,v(Oc.value.network?.organisation||"---"),1)]),i("div",ya,[e[97]||(e[97]=i("span",{class:"sec-label"},"COORDINATES",-1)),i("span",ha,v(Pc(Oc.value.location?.latitude,Oc.value.location?.longitude)),1)])])])):r("",!0)])):r("",!0)],512),[[k,"ip-lookup"===yc.value]]),f(i("div",wa,[i("div",Ia,[f(i("input",{"onUpdate:modelValue":e[22]||(e[22]=s=>Ec.value=s),class:"glass-input full",placeholder:"URL (напр. https://example.com)",onKeyup:R(Gc,["enter"])},null,544),[[w,Ec.value]]),i("button",{class:"btn-glass primary",disabled:Ac.value||!Ec.value.trim(),onClick:Gc},v(Ac.value?"Сканирование...":"Сканировать"),9,Sa)]),Ac.value?(m(),t("div",Ra,"SCANNING URL...")):r("",!0),Nc.value||Vc.value?(m(),t("div",Ca,[i("div",Oa,[e[106]||(e[106]=i("h3",{class:"block-title"},"VIRUSTOTAL",-1)),i("div",Ua,[Lc.value?(m(),t("div",Ta,"POLLING ANALYSIS... ("+v(_c.value)+"s)",1)):r("",!0),xc.value?(m(),t(u,{key:1},[i("div",Pa,[e[99]||(e[99]=i("span",{class:"sec-label"},"STATUS",-1)),i("span",Ea,v(xc.value.status.toUpperCase()),1)]),i("div",Aa,[e[100]||(e[100]=i("span",{class:"sec-label"},"MALICIOUS",-1)),i("span",Na,v(xc.value.stats.malicious),1)]),i("div",xa,[e[101]||(e[101]=i("span",{class:"sec-label"},"SUSPICIOUS",-1)),i("span",La,v(xc.value.stats.suspicious),1)]),i("div",_a,[e[102]||(e[102]=i("span",{class:"sec-label"},"HARMLESS",-1)),i("span",Va,v(xc.value.stats.harmless),1)]),i("div",Da,[e[103]||(e[103]=i("span",{class:"sec-label"},"UNDETECTED",-1)),i("span",$a,v(xc.value.stats.undetected),1)]),i("div",Ma,[e[104]||(e[104]=i("span",{class:"sec-label"},"TIMEOUT",-1)),i("span",Ga,v(xc.value.stats.timeout),1)])],64)):Nc.value&&!Lc.value?(m(),t("div",Ba,[e[105]||(e[105]=i("span",{class:"sec-label"},"ANALYSIS ID",-1)),i("span",Ya,v(Nc.value.analysis_id),1)])):r("",!0)])]),i("div",Ha,[e[116]||(e[116]=i("h3",{class:"block-title"},"URLSCAN.IO",-1)),i("div",Ka,[$c.value?(m(),t("div",Wa,"POLLING RESULT... ("+v(Mc.value)+"s)",1)):r("",!0),Dc.value?(m(),t(u,{key:1},[Dc.value.page?(m(),t(u,{key:0},[i("div",ja,[e[107]||(e[107]=i("span",{class:"sec-label"},"DOMAIN",-1)),i("span",Fa,v(Dc.value.page.domain),1)]),i("div",za,[e[108]||(e[108]=i("span",{class:"sec-label"},"IP",-1)),i("span",Ja,v(Dc.value.page.ip),1)]),i("div",Xa,[e[109]||(e[109]=i("span",{class:"sec-label"},"COUNTRY",-1)),i("span",Za,v(Dc.value.page.country),1)]),i("div",qa,[e[110]||(e[110]=i("span",{class:"sec-label"},"SERVER",-1)),i("span",Qa,v(Dc.value.page.server),1)]),i("div",sl,[e[111]||(e[111]=i("span",{class:"sec-label"},"STATUS CODE",-1)),i("span",el,v(Dc.value.page.status_code),1)])],64)):r("",!0),Dc.value.verdicts?(m(),t(u,{key:1},[i("div",al,[e[112]||(e[112]=i("span",{class:"sec-label"},"MALICIOUS",-1)),i("span",{class:o(["sec-value",Dc.value.verdicts.malicious?"text-red":"text-green"])},v(Dc.value.verdicts.malicious?"YES":"NO"),3)]),i("div",ll,[e[113]||(e[113]=i("span",{class:"sec-label"},"SCORE",-1)),i("span",cl,v(Dc.value.verdicts.score),1)]),Dc.value.verdicts.categories.length?(m(),t("div",nl,[e[114]||(e[114]=i("span",{class:"sec-label"},"CATEGORIES",-1)),i("span",tl,v(Dc.value.verdicts.categories.join(", ")),1)])):r("",!0)],64)):r("",!0)],64)):Vc.value&&!$c.value?(m(),t("div",il,[e[115]||(e[115]=i("span",{class:"sec-label"},"UUID",-1)),i("span",ol,v(Vc.value.uuid),1)])):r("",!0)])])])):r("",!0)],512),[[k,"url-scanner"===yc.value]]),f(i("div",ul,[i("div",dl,[f(i("input",{"onUpdate:modelValue":e[23]||(e[23]=s=>Bc.value=s),class:"glass-input full",placeholder:"IP адрес для проверки abuse-отчётов",onKeyup:R(Wc,["enter"])},null,544),[[w,Bc.value]]),i("button",{class:"btn-glass primary",disabled:Yc.value||!Bc.value.trim(),onClick:Wc},v(Yc.value?"Загрузка...":"Проверить"),9,rl)]),Yc.value?(m(),t("div",vl,"LOADING...")):r("",!0),Hc.value?(m(),t("div",pl,[i("div",bl,[e[127]||(e[127]=i("h3",{class:"block-title"},"ABUSEIPDB REPORT",-1)),i("div",gl,[i("div",{class:"abuse-score-circle",style:C({borderColor:Kc.value})},[i("span",{class:"abuse-score-value",style:C({color:Kc.value})},v(Hc.value.abuse_confidence_score),5),e[117]||(e[117]=i("span",{class:"abuse-score-label"},"CONFIDENCE",-1))],4)]),i("div",ml,[i("div",fl,[e[118]||(e[118]=i("span",{class:"sec-label"},"IP",-1)),i("span",kl,v(Hc.value.ip),1)]),i("div",yl,[e[119]||(e[119]=i("span",{class:"sec-label"},"PUBLIC",-1)),i("span",hl,v(Hc.value.is_public?"YES":"NO"),1)]),i("div",wl,[e[120]||(e[120]=i("span",{class:"sec-label"},"ABUSE SCORE",-1)),i("span",{class:"sec-value",style:C({color:Kc.value})},v(Hc.value.abuse_confidence_score)+"%",5)]),i("div",Il,[e[121]||(e[121]=i("span",{class:"sec-label"},"TOTAL REPORTS",-1)),i("span",Sl,v(Hc.value.total_reports),1)]),i("div",Rl,[e[122]||(e[122]=i("span",{class:"sec-label"},"DISTINCT USERS",-1)),i("span",Cl,v(Hc.value.num_distinct_users),1)]),i("div",Ol,[e[123]||(e[123]=i("span",{class:"sec-label"},"ISP",-1)),i("span",Ul,v(Hc.value.isp||"---"),1)]),i("div",Tl,[e[124]||(e[124]=i("span",{class:"sec-label"},"DOMAIN",-1)),i("span",Pl,v(Hc.value.domain||"---"),1)]),i("div",El,[e[125]||(e[125]=i("span",{class:"sec-label"},"COUNTRY",-1)),i("span",Al,v(Hc.value.country_code||"---"),1)]),i("div",Nl,[e[126]||(e[126]=i("span",{class:"sec-label"},"LAST REPORTED",-1)),i("span",xl,v(Hc.value.last_reported_at||"NEVER"),1)])])])])):r("",!0)],512),[[k,"ip-abuse"===yc.value]]),f(i("div",Ll,[i("div",_l,[f(i("input",{"onUpdate:modelValue":e[24]||(e[24]=s=>jc.value=s),class:"glass-input full",placeholder:"Домен (напр. example.com)",onKeyup:R(Jc,["enter"])},null,544),[[w,jc.value]]),i("button",{class:"btn-glass primary",disabled:Fc.value||!jc.value.trim(),onClick:Jc},v(Fc.value?"Загрузка...":"Проверить"),9,Vl)]),Fc.value?(m(),t("div",Dl,"LOADING...")):r("",!0),zc.value?(m(),t("div",$l,[i("div",Ml,[i("h3",Gl,"WHOIS — "+v(zc.value.domain||jc.value),1),i("div",Bl,[i("div",Yl,[e[128]||(e[128]=i("span",{class:"sec-label"},"DOMAIN",-1)),i("span",Hl,v(zc.value.domain||"---"),1)]),i("div",Kl,[e[129]||(e[129]=i("span",{class:"sec-label"},"DOMAIN ID",-1)),i("span",Wl,v(zc.value.domain_id||"---"),1)]),i("div",jl,[e[130]||(e[130]=i("span",{class:"sec-label"},"STATUS",-1)),i("span",Fl,v(zc.value.status||"---"),1)]),i("div",zl,[e[131]||(e[131]=i("span",{class:"sec-label"},"REGISTRAR",-1)),i("span",Jl,v(zc.value.registrar?.name||"---"),1)]),i("div",Xl,[e[132]||(e[132]=i("span",{class:"sec-label"},"CREATED",-1)),i("span",Zl,v(zc.value.create_date||"---"),1)]),i("div",ql,[e[133]||(e[133]=i("span",{class:"sec-label"},"UPDATED",-1)),i("span",Ql,v(zc.value.update_date||"---"),1)]),i("div",sc,[e[134]||(e[134]=i("span",{class:"sec-label"},"EXPIRES",-1)),i("span",ec,v(zc.value.expire_date||"---"),1)]),zc.value.registrant?(m(),t("div",ac,[e[135]||(e[135]=i("span",{class:"sec-label"},"REGISTRANT ORG",-1)),i("span",lc,v(zc.value.registrant.organization||"---"),1)])):r("",!0),zc.value.registrant?(m(),t("div",cc,[e[136]||(e[136]=i("span",{class:"sec-label"},"REGISTRANT COUNTRY",-1)),i("span",nc,v(zc.value.registrant.country||"---"),1)])):r("",!0),zc.value.nameservers&&zc.value.nameservers.length?(m(),t("div",tc,[e[137]||(e[137]=i("span",{class:"sec-label"},"NAMESERVERS",-1)),i("div",ic,[(m(!0),t(u,null,d(zc.value.nameservers,s=>(m(),t("span",{key:s,class:"ns-item"},v(s),1))),128))])])):r("",!0)])])])):r("",!0)],512),[[k,"whois"===yc.value]])])],512),[[k,"security"===_.value]])]),_:1})])]))}}),[["__scopeId","data-v-18c1a05c"]]);export{oc as default};
