import{d as e,r as a,c as l,e as t,f as s,j as n,t as i,F as o,i as r,n as c,B as u,g as d,x as v,y as p,L as g,C as h,M as m,w as y,T as b,q as x}from"./vendor-DLyKmMu8.js";import{r as f,u as Y,w as k}from"./xlsx-Dmkey_AY.js";import{g as C}from"./apiHeaders-DCeXWvJ_.js";import{_ as P}from"./index-BaahR4yN.js";const w="   https://stochastic-dashbord-v1-production.up.railway.app",D=async e=>{try{const a=await fetch(`${w}/api/bond/valuate`,{method:"POST",headers:C(),body:JSON.stringify(e)});if(!a.ok){const e=await a.json().catch(()=>({detail:"Unknown error"}));throw new Error(e.detail||`HTTP error! status: ${a.status}`)}return await a.json()}catch(a){throw console.error("Bond Valuation Failed:",a),a}},A={class:"page-container custom-scroll"},M={class:"section-header"},S={class:"header-actions"},I={class:"control-group"},_=["disabled"],E=["disabled"],F={key:0},j={key:1,class:"flex-center"},T={key:0,class:"glass-card panel",style:{"margin-bottom":"24px"}},V={class:"panel-header",style:{display:"flex","justify-content":"space-between","align-items":"center"}},U={class:"card-subtitle"},$={style:{display:"flex",gap:"8px"}},B=["disabled"],O={key:0},N={key:1},X=["disabled"],R={key:0},q={key:1},H={class:"table-wrapper custom-scroll"},L={class:"glass-table"},z={key:0},G={key:1},J=["onClick"],K={class:"mono"},Q={class:"mono"},W={class:"mono"},Z={class:"mono"},ee={class:"mono"},ae={key:0,class:"mono text-blue"},le={key:1,class:"mono text-green"},te=["onClick"],se={class:"dashboard-grid"},ne={class:"left-panel"},ie={class:"glass-card panel"},oe={class:"controls-form"},re={class:"form-group"},ce={class:"form-group"},ue={class:"form-group"},de={class:"form-group"},ve={class:"lbl"},pe={key:0,class:"form-group"},ge={key:0,class:"glass-card panel input-scenario scenario-1-input"},he={class:"scenario-input-group"},me={key:1,class:"glass-card panel input-scenario scenario-2-input"},ye={class:"scenario-input-group"},be={key:2,class:"glass-card panel input-scenario scenario-1-input"},xe={class:"scenario-input-group"},fe=["disabled"],Ye={key:0},ke={key:1},Ce={key:0,class:"error-banner"},Pe={key:0,class:"glass-card panel info-panel"},we={class:"info-list"},De={class:"info-row"},Ae={class:"info-row"},Me={class:"info-row"},Se={class:"info-row"},Ie={class:"info-row"},_e={class:"main-panel"},Ee={key:0,class:"glass-card panel comparison-panel h-auto"},Fe={class:"comparison-table-wrapper"},je={class:"comparison-table"},Te={class:"scenario-col"},Ve={class:"scenario-rate"},Ue={class:"scenario-col"},$e={class:"scenario-rate variant-2"},Be={class:"mono text-gradient-blue"},Oe={class:"mono text-gradient-green"},Ne={class:"mono"},Xe={class:"mono"},Re={class:"mono"},qe={class:"mono"},He={class:"mono"},Le={class:"mono"},ze={key:0},Ge={class:"mono"},Je={class:"mono"},Ke={key:1},Qe={class:"mono"},We={class:"mono"},Ze={key:2},ea={class:"mono"},aa={class:"mono"},la={key:3},ta={class:"mono"},sa={class:"mono"},na={key:4},ia={class:"mono"},oa={class:"mono"},ra={key:5},ca={class:"mono"},ua={class:"mono"},da={key:6},va={class:"mono"},pa={class:"mono"},ga={key:7},ha={class:"mono"},ma={class:"mono"},ya={key:8},ba={class:"mono"},xa={class:"mono"},fa={key:9},Ya={class:"mono"},ka={class:"mono"},Ca={key:0,class:"glass-card panel h-auto"},Pa={class:"panel-header"},wa={class:"glass-pill"},Da={class:"table-wrapper custom-scroll"},Aa={class:"glass-table"},Ma={class:"text-right mono font-bold"},Sa={class:"text-right mono"},Ia={key:0,class:"glass-card panel h-auto"},_a={class:"panel-header"},Ea={class:"glass-pill"},Fa={class:"table-wrapper custom-scroll"},ja={class:"glass-table"},Ta={class:"text-right mono font-bold"},Va={class:"text-right mono"},Ua={key:0,class:"glass-card panel h-auto"},$a={class:"panel-header"},Ba={class:"glass-pill"},Oa={class:"table-wrapper custom-scroll"},Na={class:"glass-table"},Xa={class:"text-muted"},Ra={class:"text-right mono text-muted"},qa={class:"text-right mono"},Ha={class:"text-right mono text-muted"},La={class:"text-right mono font-bold text-blue"},za={class:"text-right mono text-blue font-bold"},Ga={key:0,class:"glass-card panel h-auto"},Ja={class:"panel-header"},Ka={class:"glass-pill"},Qa={class:"table-wrapper custom-scroll"},Wa={class:"glass-table"},Za={class:"text-muted"},el={class:"text-right mono text-muted"},al={class:"text-right mono"},ll={class:"text-right mono text-muted"},tl={class:"text-right mono font-bold text-green"},sl={class:"text-right mono text-green font-bold"},nl={key:0,class:"glass-card panel h-auto"},il={class:"panel-header"},ol={class:"schedule-stats"},rl={class:"stat-badge paid"},cl={class:"stat-badge future"},ul={class:"schedule-grid"},dl={class:"coupon-index"},vl={class:"coupon-content"},pl={class:"coupon-date"},gl={class:"coupon-amount"},hl={class:"coupon-status"},ml={key:0,class:"empty-placeholder"},yl=P(e({__name:"BondValuation",setup(e){const P=a({secid:"RU000A10AU99",valuationDate:(new Date).toISOString().split("T")[0],discountYield1:14,discountYield2:16,dayCount:365,dayCountConvention:"",useMarketYield:!1,marketYield:void 0}),yl=a(null),bl=a(!1),xl=a(!1),fl=a(""),Yl=a(null),kl=a([]),Cl=a(null),Pl=a([]),wl=a(!1),Dl=a(!1),Al=async()=>{if(P.value.secid&&P.value.valuationDate){xl.value=!0,fl.value="";try{const e="   https://stochastic-dashbord-v1-production.up.railway.app",a=await fetch(`${e}/api/bond/market-yield?secid=${P.value.secid.trim()}&date=${P.value.valuationDate}`,{method:"GET",headers:C()});if(!a.ok){const e=await a.json().catch(()=>({detail:"Unknown error"}));throw new Error(e.detail||`HTTP error! status: ${a.status}`)}const l=await a.json();null!==l.yield&&void 0!==l.yield?P.value.marketYield=l.yield:fl.value="–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –¥–ª—è –¥–∞–Ω–Ω–æ–π –¥–∞—Ç—ã"}catch(e){console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏:",e),fl.value=e.message||"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∏–∑ MOEX API"}finally{xl.value=!1}}else fl.value="–í–≤–µ–¥–∏—Ç–µ ISIN –∏ –¥–∞—Ç—É –æ—Ü–µ–Ω–∫–∏"},Ml=()=>{P.value.useMarketYield&&P.value.secid&&P.value.valuationDate&&Al()},Sl=async()=>{if(bl.value=!0,fl.value="",yl.value=null,!P.value.secid||!P.value.secid.trim())return fl.value="–í–≤–µ–¥–∏—Ç–µ ISIN –æ–±–ª–∏–≥–∞—Ü–∏–∏",void(bl.value=!1);if(P.value.useMarketYield){if(!P.value.marketYield||P.value.marketYield<=0)return fl.value="–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ä—ã–Ω–æ—á–Ω—É—é –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∏–∑ MOEX API –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –≤—Ä—É—á–Ω—É—é",void(bl.value=!1);P.value.discountYield1=P.value.marketYield,P.value.discountYield2=P.value.marketYield}else if(!P.value.discountYield1||!P.value.discountYield2)return fl.value="–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±–µ —Å—Ç–∞–≤–∫–∏ –¥–∏—Å–∫–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è",void(bl.value=!1);try{const e=await D({secid:P.value.secid.trim(),valuationDate:P.value.valuationDate,discountYield1:P.value.discountYield1,discountYield2:P.value.discountYield2,dayCount:P.value.dayCount,dayCountConvention:P.value.dayCountConvention||void 0});yl.value=e}catch(e){console.error("–û—à–∏–±–∫–∞ –æ—Ü–µ–Ω–∫–∏ –æ–±–ª–∏–≥–∞—Ü–∏–∏:",e),fl.value=e.message||"–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å API –∏–ª–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ–±–ª–∏–≥–∞—Ü–∏–∏"}finally{bl.value=!1}},Il=async e=>{const a=e.target,l=a.files?.[0];if(l)try{const e=await l.arrayBuffer(),a=f(e,{type:"array"}),t=a.SheetNames[0],s=a.Sheets[t],n=Y.sheet_to_json(s,{raw:!1}),i=[];for(const l of n){const e=l["–†—ã–Ω–æ—á–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å"]||l["Market Yield"]||l.market_yield||l.YTM||l.ytm||"",a=e?parseFloat(e):null,t=null!==a&&a>0,s={secid:l.ISIN||l.isin||l.SECID||l.secid||l["–û–±–ª–∏–≥–∞—Ü–∏—è"]||"",valuationDate:l["–î–∞—Ç–∞ –æ—Ü–µ–Ω–∫–∏"]||l["Valuation Date"]||l.valuation_date||l["–î–∞—Ç–∞"]||P.value.valuationDate,useMarketYield:t,marketYield:a,discountYield1:t?a:parseFloat(l["Y –∞–Ω–∞–ª–æ–≥–∞"]||l["Y Analogue"]||l.y_analogue||l["–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å 1"]||l["Discount Yield 1"]||String(P.value.discountYield1)||"14.0"),discountYield2:t?a:parseFloat(l["Y –∏–Ω–¥–µ–∫—Å–∞"]||l["Y Index"]||l.y_index||l["–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å 2"]||l["Discount Yield 2"]||String(P.value.discountYield2)||"16.0"),marketActivity:l["–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä—ã–Ω–∫–∞"]||l["Market Activity"]||l.market_activity||null,dayCountConvention:l["–ë–∞–∑–∏—Å —Ä–∞—Å—á–µ—Ç–∞"]||l["Day Count"]||l.day_count||P.value.dayCountConvention||""};s.secid&&s.secid.trim()&&i.push(s)}for(const l of i)l.useMarketYield&&(!l.marketYield||l.marketYield<=0)&&(l.marketYield=null);kl.value=i,Cl.value=null,Pl.value=[],fl.value=""}catch(t){console.error("Excel parsing error:",t),fl.value=`–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞: ${t.message}`}},_l=async()=>{wl.value=!0,Pl.value=[],fl.value="";try{for(let l=0;l<kl.value.length;l++){const t=kl.value[l];try{let a=t.discountYield1,s=t.discountYield2;if(t.useMarketYield)if(!t.marketYield||t.marketYield<=0)try{const e="   https://stochastic-dashbord-v1-production.up.railway.app",n=await fetch(`${e}/api/bond/market-yield?secid=${t.secid.trim()}&date=${t.valuationDate}`,{method:"GET",headers:C()});if(n.ok){const e=await n.json();null!==e.yield&&void 0!==e.yield&&(a=e.yield,s=e.yield,kl.value[l].marketYield=e.yield)}}catch(e){console.warn(`Could not fetch market yield for ${t.secid}:`,e)}else a=t.marketYield,s=t.marketYield;const n=await D({secid:t.secid.trim(),valuationDate:t.valuationDate,discountYield1:a,discountYield2:s,dayCountConvention:t.dayCountConvention||void 0});Pl.value.push(n)}catch(a){Pl.value.push(null),console.error(`Error calculating bond ${l+1}:`,a)}}}catch(a){console.error("Error calculating bonds:",a),fl.value=`–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –æ–±–ª–∏–≥–∞—Ü–∏–π: ${a.message}`}finally{wl.value=!1}},El=()=>{if(0===kl.value.length)return;const e=kl.value.map((e,a)=>({"‚Ññ":a+1,ISIN:e.secid||"","–î–∞—Ç–∞ –æ—Ü–µ–Ω–∫–∏":e.valuationDate||"","Y –∞–Ω–∞–ª–æ–≥–∞ (%)":e.discountYield1||0,"Y –∏–Ω–¥–µ–∫—Å–∞ (%)":e.discountYield2||0,"–†—ã–Ω–æ—á–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (%)":e.marketYield||"","–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä—ã–Ω–∫–∞":e.marketActivity||"","–ë–∞–∑–∏—Å —Ä–∞—Å—á–µ—Ç–∞":e.dayCountConvention||"","Dirty Price (–°—Ü–µ–Ω–∞—Ä–∏–π 1)":Pl.value[a]?.scenario1?.dirtyPrice||"","Dirty Price (–°—Ü–µ–Ω–∞—Ä–∏–π 2)":Pl.value[a]?.scenario2?.dirtyPrice||"","Clean Price (–°—Ü–µ–Ω–∞—Ä–∏–π 1)":Pl.value[a]?.scenario1?.cleanPrice||"","Clean Price (–°—Ü–µ–Ω–∞—Ä–∏–π 2)":Pl.value[a]?.scenario2?.cleanPrice||"","Duration (–°—Ü–µ–Ω–∞—Ä–∏–π 1)":Pl.value[a]?.scenario1?.duration||"","Duration (–°—Ü–µ–Ω–∞—Ä–∏–π 2)":Pl.value[a]?.scenario2?.duration||""})),a=Y.json_to_sheet(e),l=Y.book_new();Y.book_append_sheet(l,a,"–†–µ–µ—Å—Ç—Ä –æ–±–ª–∏–≥–∞—Ü–∏–π");const t=(new Date).toISOString().split("T")[0];k(l,`—Ä–µ–µ—Å—Ç—Ä_–æ–±–ª–∏–≥–∞—Ü–∏–π_${t}.xlsx`)},Fl=()=>{kl.value=[],Cl.value=null,Pl.value=[],Yl.value&&(Yl.value.value="")},jl=e=>{if(!e)return"–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ";return{high:"–í—ã—Å–æ–∫–∞—è",medium:"–°—Ä–µ–¥–Ω—è—è",low:"–ù–∏–∑–∫–∞—è",unknown:"–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ"}[e.toLowerCase()]||e},Tl=async()=>{if(0!==kl.value.length){Dl.value=!0,fl.value="";try{const e=await(async(e,a)=>{try{const l=await fetch(`${w}/api/database/export/registry/parquet`,{method:"POST",headers:C(),body:JSON.stringify({registry_type:e,data:a})});if(!l.ok){const e=await l.json().catch(()=>({detail:"Unknown error"}));throw new Error(e.detail||`HTTP error! status: ${l.status}`)}return await l.json()}catch(fl){throw console.error("Save Registry to Parquet Failed:",fl),fl}})("bond",kl.value);e.success&&(fl.value=`–†–µ–µ—Å—Ç—Ä —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω: ${e.data.file_name}`,setTimeout(()=>{fl.value=""},5e3))}catch(e){console.error("Error saving registry to parquet:",e),fl.value=`–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ä–µ–µ—Å—Ç—Ä–∞: ${e.message}`}finally{Dl.value=!1}}},Vl=(e,a=2)=>e.toLocaleString("ru-RU",{minimumFractionDigits:a,maximumFractionDigits:a}),Ul=e=>new Date(e).toLocaleDateString("ru-RU");return(e,a)=>(x(),l("div",A,[t("div",M,[a[11]||(a[11]=t("div",{class:"header-left"},[t("h1",{class:"section-title"},"–û—Ü–µ–Ω–∫–∞ –æ–±–ª–∏–≥–∞—Ü–∏–π"),t("p",{class:"section-subtitle"},"–ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–Ω–µ–∂–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ –Ω–∞ –¥–∞–Ω–Ω—ã—Ö MOEX ISS API")],-1)),t("div",S,[t("div",I,[a[9]||(a[9]=t("label",{class:"control-label"},"–†–µ–µ—Å—Ç—Ä:",-1)),t("input",{type:"file",ref_key:"fileInputRef",ref:Yl,onChange:Il,accept:".xlsx,.xls,.xlsm",style:{display:"none"},id:"bond-excel-upload"},null,544),t("button",{onClick:a[0]||(a[0]=()=>{Yl.value&&Yl.value.click()}),class:"btn-glass secondary",title:"–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ–µ—Å—Ç—Ä –æ–±–ª–∏–≥–∞—Ü–∏–π –∏–∑ Excel"}," üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å Excel ")]),t("button",{onClick:El,class:"btn-glass secondary",disabled:0===kl.value.length,title:"–í—ã–≥—Ä—É–∑–∏—Ç—å —Ä–µ–µ—Å—Ç—Ä –≤ Excel"}," üì• –í—ã–≥—Ä—É–∑–∏—Ç—å Excel ",8,_),t("button",{class:"btn-glass primary",onClick:Sl,disabled:bl.value},[bl.value?(x(),l("span",j,[...a[10]||(a[10]=[t("span",{class:"spinner-mini"},null,-1),n(" –ó–∞–≥—Ä—É–∑–∫–∞...",-1)])])):(x(),l("span",F,"–†–∞—Å—Å—á–∏—Ç–∞—Ç—å"))],8,E)])]),kl.value.length>0?(x(),l("div",T,[t("div",V,[t("div",null,[a[12]||(a[12]=t("h3",null,"–†–µ–µ—Å—Ç—Ä –æ–±–ª–∏–≥–∞—Ü–∏–π",-1)),t("span",U,"–ó–∞–≥—Ä—É–∂–µ–Ω–æ –æ–±–ª–∏–≥–∞—Ü–∏–π: "+i(kl.value.length),1)]),t("div",$,[t("button",{onClick:Tl,class:"btn-glass secondary",disabled:0===kl.value.length||Dl.value,style:{"font-size":"11px",padding:"6px 12px"},title:"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–µ—Å—Ç—Ä –≤ Supabase (parquet)"},[Dl.value?(x(),l("span",N,"‚Ü∫ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...")):(x(),l("span",O,"üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ë–î"))],8,B),t("button",{onClick:_l,class:"btn-glass secondary",disabled:wl.value,style:{"font-size":"11px",padding:"6px 12px"}},[wl.value?(x(),l("span",q,"‚Ü∫ –°—á–∏—Ç–∞—é...")):(x(),l("span",R,"–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –≤—Å–µ"))],8,X),t("button",{onClick:Fl,class:"btn-glass secondary",style:{"font-size":"11px",padding:"6px 12px",background:"rgba(239, 68, 68, 0.2)","border-color":"rgba(239, 68, 68, 0.3)"}}," ‚úï –û—á–∏—Å—Ç–∏—Ç—å ")])]),t("div",H,[t("table",L,[t("thead",null,[t("tr",null,[a[13]||(a[13]=t("th",null,"‚Ññ",-1)),a[14]||(a[14]=t("th",null,"ISIN",-1)),a[15]||(a[15]=t("th",null,"–î–∞—Ç–∞ –æ—Ü–µ–Ω–∫–∏",-1)),a[16]||(a[16]=t("th",null,"Y –∞–Ω–∞–ª–æ–≥–∞ (%)",-1)),a[17]||(a[17]=t("th",null,"Y –∏–Ω–¥–µ–∫—Å–∞ (%)",-1)),a[18]||(a[18]=t("th",null,"–†—ã–Ω–æ—á–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (%)",-1)),a[19]||(a[19]=t("th",null,"–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä—ã–Ω–∫–∞",-1)),Pl.value.length>0?(x(),l("th",z,"Dirty Price (–°—Ü–µ–Ω–∞—Ä–∏–π 1)")):s("",!0),Pl.value.length>0?(x(),l("th",G,"Dirty Price (–°—Ü–µ–Ω–∞—Ä–∏–π 2)")):s("",!0),a[20]||(a[20]=t("th",null,"–î–µ–π—Å—Ç–≤–∏–µ",-1))])]),t("tbody",null,[(x(!0),l(o,null,r(kl.value,(e,a)=>(x(),l("tr",{key:a,class:c({selected:Cl.value===a}),onClick:e=>{return l=a,void(Cl.value=l);var l}},[t("td",null,i(a+1),1),t("td",K,i(e.secid||"-"),1),t("td",Q,i(e.valuationDate||"-"),1),t("td",W,i(e.discountYield1?Vl(e.discountYield1,2):"-")+"%",1),t("td",Z,i(e.discountYield2?Vl(e.discountYield2,2):"-")+"%",1),t("td",ee,i(e.marketYield?Vl(e.marketYield,2):"-")+"%",1),t("td",null,[t("span",{class:c(["market-activity-badge",e.marketActivity||"unknown"])},i(jl(e.marketActivity)),3)]),Pl.value.length>0&&Pl.value[a]?(x(),l("td",ae,i(Pl.value[a]?.scenario1?.dirtyPrice?Vl(Pl.value[a].scenario1.dirtyPrice,2):"-")+" ‚ÇΩ ",1)):s("",!0),Pl.value.length>0&&Pl.value[a]?(x(),l("td",le,i(Pl.value[a]?.scenario2?.dirtyPrice?Vl(Pl.value[a].scenario2.dirtyPrice,2):"-")+" ‚ÇΩ ",1)):s("",!0),t("td",null,[t("button",{onClick:u(e=>(e=>{const a=kl.value[e];a&&(P.value.secid=a.secid||P.value.secid,P.value.valuationDate=a.valuationDate||P.value.valuationDate,P.value.discountYield1=a.discountYield1||P.value.discountYield1,P.value.discountYield2=a.discountYield2||P.value.discountYield2,P.value.dayCountConvention=a.dayCountConvention||P.value.dayCountConvention,setTimeout(()=>{Sl()},100))})(a),["stop"]),class:"btn-small",title:"–ó–∞–≥—Ä—É–∑–∏—Ç—å –≤ —Ñ–æ—Ä–º—É"}," –ó–∞–≥—Ä—É–∑–∏—Ç—å ",8,te)])],10,J))),128))])])])])):s("",!0),t("div",se,[t("div",ne,[t("div",ie,[a[29]||(a[29]=t("div",{class:"panel-header"},[t("h3",null,"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ü–µ–Ω–∫–∏")],-1)),t("div",oe,[t("div",re,[a[21]||(a[21]=t("label",{class:"lbl"},"ISIN –û–±–ª–∏–≥–∞—Ü–∏–∏",-1)),v(t("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>P.value.secid=e),type:"text",class:"glass-input",placeholder:"RU000..."},null,512),[[p,P.value.secid]])]),t("div",ce,[a[22]||(a[22]=t("label",{class:"lbl"},"–î–∞—Ç–∞ –æ—Ü–µ–Ω–∫–∏",-1)),v(t("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>P.value.valuationDate=e),type:"date",class:"glass-input"},null,512),[[p,P.value.valuationDate]])]),t("div",ue,[a[24]||(a[24]=t("label",{class:"lbl"},"–ë–∞–∑–∏—Å —Ä–∞—Å—á–µ—Ç–∞ –¥–Ω–µ–π",-1)),v(t("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>P.value.dayCountConvention=e),class:"glass-input day-count-select"},[...a[23]||(a[23]=[h('<option value="" data-v-a8f743e5>Actual/365F (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)</option><option value="Actual/365F" data-v-a8f743e5>Actual/365F (Fixed 365)</option><option value="Actual/360" data-v-a8f743e5>Actual/360 (French)</option><option value="Actual/Actual (ISDA)" data-v-a8f743e5>Actual/Actual (ISDA)</option><option value="30/360 (US)" data-v-a8f743e5>30/360 (US Municipal Bond Basis)</option><option value="30E/360 (ISDA)" data-v-a8f743e5>30E/360 (ISDA) / 30/360 German</option><option value="30E/360" data-v-a8f743e5>30E/360 (Eurobond Basis)</option><option value="Actual/Actual (ISMA)" data-v-a8f743e5>Actual/Actual (ISMA) / Actual/Actual (ICMA)</option>',8)])],512),[[g,P.value.dayCountConvention]])]),t("div",de,[t("label",ve,[v(t("input",{type:"checkbox","onUpdate:modelValue":a[4]||(a[4]=e=>P.value.useMarketYield=e),onChange:Ml},null,544),[[m,P.value.useMarketYield]]),a[25]||(a[25]=n(" –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∏–∑ MOEX API ",-1))]),a[26]||(a[26]=t("span",{class:"form-hint"},"–ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ, –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ MOEX –Ω–∞ –¥–∞—Ç—É –æ—Ü–µ–Ω–∫–∏",-1))]),P.value.useMarketYield?(x(),l("div",pe,[a[27]||(a[27]=t("label",{class:"lbl"},"–†—ã–Ω–æ—á–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (%)",-1)),v(t("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>P.value.marketYield=e),type:"number",step:"0.1",class:"glass-input",placeholder:"15.5"},null,512),[[p,P.value.marketYield,void 0,{number:!0}]]),a[28]||(a[28]=t("span",{class:"form-hint"}," –í–≤–µ–¥–∏—Ç–µ –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑ MOEX API ",-1))])):s("",!0)])]),P.value.useMarketYield?s("",!0):(x(),l("div",ge,[a[31]||(a[31]=t("div",{class:"panel-header"},[t("h3",null,"–°—Ü–µ–Ω–∞—Ä–∏–π 1: Y –∞–Ω–∞–ª–æ–≥–∞")],-1)),t("div",he,[a[30]||(a[30]=t("label",{class:"lbl"},"–°—Ç–∞–≤–∫–∞ –¥–∏—Å–∫–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (%)",-1)),v(t("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>P.value.discountYield1=e),type:"number",step:"0.1",class:"glass-input scenario-input",placeholder:"14.0"},null,512),[[p,P.value.discountYield1,void 0,{number:!0}]])])])),P.value.useMarketYield?s("",!0):(x(),l("div",me,[a[33]||(a[33]=t("div",{class:"panel-header"},[t("h3",null,"–°—Ü–µ–Ω–∞—Ä–∏–π 2: Y –∏–Ω–¥–µ–∫—Å–∞")],-1)),t("div",ye,[a[32]||(a[32]=t("label",{class:"lbl"},"–°—Ç–∞–≤–∫–∞ –¥–∏—Å–∫–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (%)",-1)),v(t("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>P.value.discountYield2=e),type:"number",step:"0.1",class:"glass-input scenario-input",placeholder:"16.0"},null,512),[[p,P.value.discountYield2,void 0,{number:!0}]])])])),P.value.useMarketYield?(x(),l("div",be,[a[36]||(a[36]=t("div",{class:"panel-header"},[t("h3",null,"–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∏–∑ MOEX API")],-1)),t("div",xe,[a[34]||(a[34]=t("label",{class:"lbl"},"–†—ã–Ω–æ—á–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –Ω–∞ –¥–∞—Ç—É –æ—Ü–µ–Ω–∫–∏ (%)",-1)),v(t("input",{"onUpdate:modelValue":a[8]||(a[8]=e=>P.value.marketYield=e),type:"number",step:"0.1",class:"glass-input scenario-input",placeholder:"–í–≤–µ–¥–∏—Ç–µ –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑ MOEX"},null,512),[[p,P.value.marketYield,void 0,{number:!0}]]),t("button",{onClick:Al,class:"btn-glass secondary",disabled:xl.value||!P.value.secid||!P.value.valuationDate,style:{"margin-top":"8px",width:"100%"}},[xl.value?(x(),l("span",ke,"‚Ü∫ –ó–∞–≥—Ä—É–∑–∫–∞...")):(x(),l("span",Ye,"üîÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ MOEX"))],8,fe),a[35]||(a[35]=t("span",{class:"form-hint",style:{"margin-top":"8px"}}," –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ ",-1))])])):s("",!0),d(b,{name:"fade"},{default:y(()=>[fl.value?(x(),l("div",Ce,[a[37]||(a[37]=t("span",{class:"icon"},"‚ö†",-1)),n(" "+i(fl.value),1)])):s("",!0)]),_:1}),d(b,{name:"fade"},{default:y(()=>[yl.value?(x(),l("div",Pe,[a[48]||(a[48]=t("div",{class:"panel-header"},[t("h3",null,"–ü–∞—Å–ø–æ—Ä—Ç –±—É–º–∞–≥–∏")],-1)),t("div",we,[t("div",De,[a[38]||(a[38]=t("span",null,"SECID",-1)),a[39]||(a[39]=n()),t("strong",null,i(yl.value.secid),1)]),t("div",Ae,[a[40]||(a[40]=t("span",null,"–ù–æ–º–∏–Ω–∞–ª",-1)),a[41]||(a[41]=n()),t("strong",null,i(Vl(yl.value.faceValue,0))+" ‚ÇΩ",1)]),t("div",Me,[a[42]||(a[42]=t("span",null,"–ö—É–ø–æ–Ω",-1)),a[43]||(a[43]=n()),t("strong",null,i(yl.value.couponPercent)+"%",1)]),t("div",Se,[a[44]||(a[44]=t("span",null,"–ü–æ–≥–∞—à–µ–Ω–∏–µ",-1)),a[45]||(a[45]=n()),t("strong",null,i(Ul(yl.value.maturityDate)),1)]),t("div",Ie,[a[46]||(a[46]=t("span",null,"–ß–∞—Å—Ç–æ—Ç–∞",-1)),a[47]||(a[47]=n()),t("strong",null,i(yl.value.paymentsPerYear)+" / –≥–æ–¥",1)])])])):s("",!0)]),_:1})]),t("div",_e,[d(b,{name:"fade"},{default:y(()=>[yl.value?(x(),l("div",Ee,[a[67]||(a[67]=t("div",{class:"panel-header"},[t("h3",null,"–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤")],-1)),t("div",Fe,[t("table",je,[t("thead",null,[t("tr",null,[a[51]||(a[51]=t("th",null,"–ú–µ—Ç—Ä–∏–∫–∞",-1)),t("th",Te,[a[49]||(a[49]=t("span",{class:"scenario-label"},"–°—Ü–µ–Ω–∞—Ä–∏–π 1",-1)),t("span",Ve,i(Vl(P.value.discountYield1,1))+"%",1)]),t("th",Ue,[a[50]||(a[50]=t("span",{class:"scenario-label"},"–°—Ü–µ–Ω–∞—Ä–∏–π 2",-1)),t("span",$e,i(Vl(P.value.discountYield2,1))+"%",1)]),a[52]||(a[52]=t("th",{class:"diff-col"},[t("span",{class:"scenario-label"},"–†–∞–∑–Ω–∏—Ü–∞")],-1))])]),t("tbody",null,[t("tr",null,[a[53]||(a[53]=t("td",null,[t("strong",null,"Dirty Price")],-1)),t("td",Be,i(Vl(yl.value.scenario1.dirtyPrice,2))+" ‚ÇΩ",1),t("td",Oe,i(Vl(yl.value.scenario2.dirtyPrice,2))+" ‚ÇΩ",1),t("td",{class:c(["mono",yl.value.scenario1.dirtyPrice>yl.value.scenario2.dirtyPrice?"text-green":"text-red"])},i(Vl(yl.value.scenario1.dirtyPrice-yl.value.scenario2.dirtyPrice,2))+" ‚ÇΩ ",3)]),t("tr",null,[a[54]||(a[54]=t("td",null,[t("strong",null,"Clean Price")],-1)),t("td",Ne,i(Vl(yl.value.scenario1.cleanPrice,2))+" ‚ÇΩ",1),t("td",Xe,i(Vl(yl.value.scenario2.cleanPrice,2))+" ‚ÇΩ",1),t("td",{class:c(["mono",yl.value.scenario1.cleanPrice>yl.value.scenario2.cleanPrice?"text-green":"text-red"])},i(Vl(yl.value.scenario1.cleanPrice-yl.value.scenario2.cleanPrice,2))+" ‚ÇΩ ",3)]),t("tr",null,[a[55]||(a[55]=t("td",null,[t("strong",null,"% –æ—Ç –Ω–æ–º–∏–Ω–∞–ª–∞")],-1)),t("td",Re,i(Vl(yl.value.scenario1.pricePercent,2))+"%",1),t("td",qe,i(Vl(yl.value.scenario2.pricePercent,2))+"%",1),t("td",{class:c(["mono",yl.value.scenario1.pricePercent>yl.value.scenario2.pricePercent?"text-green":"text-red"])},i(Vl(yl.value.scenario1.pricePercent-yl.value.scenario2.pricePercent,2))+"% ",3)]),t("tr",null,[a[56]||(a[56]=t("td",null,[t("strong",null,"–î—é—Ä–∞—Ü–∏—è –ú–∞–∫–æ–ª–µ—è")],-1)),t("td",He,i(Vl(yl.value.scenario1.duration,4))+" –ª–µ—Ç",1),t("td",Le,i(Vl(yl.value.scenario2.duration,4))+" –ª–µ—Ç",1),t("td",{class:c(["mono",yl.value.scenario1.duration>yl.value.scenario2.duration?"text-green":"text-red"])},i(Vl(yl.value.scenario1.duration-yl.value.scenario2.duration,4))+" –ª–µ—Ç ",3)]),void 0!==yl.value.scenario1.modifiedDuration?(x(),l("tr",ze,[a[57]||(a[57]=t("td",null,[t("strong",null,"–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥—é—Ä–∞—Ü–∏—è")],-1)),t("td",Ge,i(Vl(yl.value.scenario1.modifiedDuration,4))+" –ª–µ—Ç",1),t("td",Je,i(Vl(yl.value.scenario2.modifiedDuration||0,4))+" –ª–µ—Ç",1),t("td",{class:c(["mono",(yl.value.scenario1.modifiedDuration||0)>(yl.value.scenario2.modifiedDuration||0)?"text-green":"text-red"])},i(Vl((yl.value.scenario1.modifiedDuration||0)-(yl.value.scenario2.modifiedDuration||0),4))+" –ª–µ—Ç ",3)])):s("",!0),void 0!==yl.value.scenario1.currentYield?(x(),l("tr",Ke,[a[58]||(a[58]=t("td",null,[t("strong",null,"–¢–µ–∫—É—â–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (CY)")],-1)),t("td",Qe,i(Vl(yl.value.scenario1.currentYield,2))+"%",1),t("td",We,i(Vl(yl.value.scenario2.currentYield||0,2))+"%",1),t("td",{class:c(["mono",(yl.value.scenario1.currentYield||0)>(yl.value.scenario2.currentYield||0)?"text-green":"text-red"])},i(Vl((yl.value.scenario1.currentYield||0)-(yl.value.scenario2.currentYield||0),2))+"% ",3)])):s("",!0),void 0!==yl.value.scenario1.adjustedCurrentYield?(x(),l("tr",Ze,[a[59]||(a[59]=t("td",null,[t("strong",null,"–°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è CY (ACY)")],-1)),t("td",ea,i(Vl(yl.value.scenario1.adjustedCurrentYield,2))+"%",1),t("td",aa,i(Vl(yl.value.scenario2.adjustedCurrentYield||0,2))+"%",1),t("td",{class:c(["mono",(yl.value.scenario1.adjustedCurrentYield||0)>(yl.value.scenario2.adjustedCurrentYield||0)?"text-green":"text-red"])},i(Vl((yl.value.scenario1.adjustedCurrentYield||0)-(yl.value.scenario2.adjustedCurrentYield||0),2))+"% ",3)])):s("",!0),void 0!==yl.value.scenario1.simpleYield?(x(),l("tr",la,[a[60]||(a[60]=t("td",null,[t("strong",null,"–ü—Ä–æ—Å—Ç–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (SY)")],-1)),t("td",ta,i(Vl(yl.value.scenario1.simpleYield,2))+"%",1),t("td",sa,i(Vl(yl.value.scenario2.simpleYield||0,2))+"%",1),t("td",{class:c(["mono",(yl.value.scenario1.simpleYield||0)>(yl.value.scenario2.simpleYield||0)?"text-green":"text-red"])},i(Vl((yl.value.scenario1.simpleYield||0)-(yl.value.scenario2.simpleYield||0),2))+"% ",3)])):s("",!0),void 0!==yl.value.scenario1.ytmPercent?(x(),l("tr",na,[a[61]||(a[61]=t("td",null,[t("strong",null,"YTM (–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∫ –ø–æ–≥–∞—à–µ–Ω–∏—é)")],-1)),t("td",ia,i(Vl(yl.value.scenario1.ytmPercent,2))+"%",1),t("td",oa,i(Vl(yl.value.scenario2.ytmPercent||0,2))+"%",1),t("td",{class:c(["mono",(yl.value.scenario1.ytmPercent||0)>(yl.value.scenario2.ytmPercent||0)?"text-green":"text-red"])},i(Vl((yl.value.scenario1.ytmPercent||0)-(yl.value.scenario2.ytmPercent||0),2))+"% ",3)])):s("",!0),void 0!==yl.value.scenario1.nominalYield?(x(),l("tr",ra,[a[62]||(a[62]=t("td",null,[t("strong",null,"–ù–æ–º–∏–Ω–∞–ª—å–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (NY)")],-1)),t("td",ca,i(Vl(yl.value.scenario1.nominalYield,2))+"%",1),t("td",ua,i(Vl(yl.value.scenario2.nominalYield||0,2))+"%",1),t("td",{class:c(["mono",(yl.value.scenario1.nominalYield||0)>(yl.value.scenario2.nominalYield||0)?"text-green":"text-red"])},i(Vl((yl.value.scenario1.nominalYield||0)-(yl.value.scenario2.nominalYield||0),2))+"% ",3)])):s("",!0),void 0!==yl.value.scenario1.convexity?(x(),l("tr",da,[a[63]||(a[63]=t("td",null,[t("strong",null,"–í—ã–ø—É–∫–ª–æ—Å—Ç—å (Convexity)")],-1)),t("td",va,i(Vl(yl.value.scenario1.convexity,2)),1),t("td",pa,i(Vl(yl.value.scenario2.convexity||0,2)),1),t("td",{class:c(["mono",(yl.value.scenario1.convexity||0)>(yl.value.scenario2.convexity||0)?"text-green":"text-red"])},i(Vl((yl.value.scenario1.convexity||0)-(yl.value.scenario2.convexity||0),2)),3)])):s("",!0),void 0!==yl.value.scenario1.pvbp?(x(),l("tr",ga,[a[64]||(a[64]=t("td",null,[t("strong",null,"PVBP/DV01 (% –æ—Ç –Ω–æ–º–∏–Ω–∞–ª–∞)")],-1)),t("td",ha,i(Vl(yl.value.scenario1.pvbp,4))+"%",1),t("td",ma,i(Vl(yl.value.scenario2.pvbp||0,4))+"%",1),t("td",{class:c(["mono",(yl.value.scenario1.pvbp||0)>(yl.value.scenario2.pvbp||0)?"text-green":"text-red"])},i(Vl((yl.value.scenario1.pvbp||0)-(yl.value.scenario2.pvbp||0),4))+"% ",3)])):s("",!0),void 0!==yl.value.scenario1.pvbpAbsolute?(x(),l("tr",ya,[a[65]||(a[65]=t("td",null,[t("strong",null,"PVBP/DV01 (–∞–±—Å–æ–ª—é—Ç–Ω–æ–µ)")],-1)),t("td",ba,i(Vl(yl.value.scenario1.pvbpAbsolute,2))+" ‚ÇΩ",1),t("td",xa,i(Vl(yl.value.scenario2.pvbpAbsolute||0,2))+" ‚ÇΩ",1),t("td",{class:c(["mono",(yl.value.scenario1.pvbpAbsolute||0)>(yl.value.scenario2.pvbpAbsolute||0)?"text-green":"text-red"])},i(Vl((yl.value.scenario1.pvbpAbsolute||0)-(yl.value.scenario2.pvbpAbsolute||0),2))+" ‚ÇΩ ",3)])):s("",!0),null!==yl.value.scenario1.discountMargin&&void 0!==yl.value.scenario1.discountMargin?(x(),l("tr",fa,[a[66]||(a[66]=t("td",null,[t("strong",null,"Discount Margin (DM)")],-1)),t("td",Ya,i(Vl(yl.value.scenario1.discountMargin,2))+" bp",1),t("td",ka,i(Vl(yl.value.scenario2.discountMargin||0,2))+" bp",1),t("td",{class:c(["mono",(yl.value.scenario1.discountMargin||0)>(yl.value.scenario2.discountMargin||0)?"text-green":"text-red"])},i(Vl((yl.value.scenario1.discountMargin||0)-(yl.value.scenario2.discountMargin||0),2))+" bp ",3)])):s("",!0)])])])])):s("",!0)]),_:1}),d(b,{name:"fade"},{default:y(()=>[yl.value&&yl.value.scenario1.sensitivityScenarios&&yl.value.scenario1.sensitivityScenarios.length>0?(x(),l("div",Ca,[t("div",Pa,[a[68]||(a[68]=t("h3",null,"–ê–Ω–∞–ª–∏–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ü–µ–Ω—ã (–°—Ü–µ–Ω–∞—Ä–∏–π 1)",-1)),t("div",wa,i(yl.value.scenario1.sensitivityScenarios.length)+" —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤",1)]),t("div",Da,[t("table",Aa,[a[69]||(a[69]=t("thead",null,[t("tr",null,[t("th",null,"Œî –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (bp)"),t("th",{class:"text-right"},"Œî –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (%)"),t("th",{class:"text-right"},"Œî –¶–µ–Ω–∞ (%)"),t("th",{class:"text-right"},"Œî –¶–µ–Ω–∞ (‚ÇΩ)"),t("th",{class:"text-right"},"–ù–æ–≤–∞—è —Ü–µ–Ω–∞ (‚ÇΩ)"),t("th",{class:"text-right"},"–ù–æ–≤–∞—è YTM (%)")])],-1)),t("tbody",null,[(x(!0),l(o,null,r(yl.value.scenario1.sensitivityScenarios,(e,a)=>(x(),l("tr",{key:a},[t("td",{class:c(["mono",e.yieldChangeBps>0?"text-red":e.yieldChangeBps<0?"text-green":""])},i(e.yieldChangeBps>0?"+":"")+i(e.yieldChangeBps)+" bp ",3),t("td",{class:c(["text-right mono",e.yieldChangePercent>0?"text-red":e.yieldChangePercent<0?"text-green":""])},i(e.yieldChangePercent>0?"+":"")+i(Vl(e.yieldChangePercent,2))+"% ",3),t("td",{class:c(["text-right mono",e.priceChangePercent>0?"text-green":e.priceChangePercent<0?"text-red":""])},i(e.priceChangePercent>0?"+":"")+i(Vl(e.priceChangePercent,2))+"% ",3),t("td",{class:c(["text-right mono",e.priceChangeAbsolute>0?"text-green":e.priceChangeAbsolute<0?"text-red":""])},i(e.priceChangeAbsolute>0?"+":"")+i(Vl(e.priceChangeAbsolute,2))+" ‚ÇΩ ",3),t("td",Ma,i(Vl(e.newDirtyPrice,2))+" ‚ÇΩ",1),t("td",Sa,i(Vl(e.newYtmPercent,2))+"%",1)]))),128))])])])])):s("",!0)]),_:1}),d(b,{name:"fade"},{default:y(()=>[yl.value&&yl.value.scenario2.sensitivityScenarios&&yl.value.scenario2.sensitivityScenarios.length>0?(x(),l("div",Ia,[t("div",_a,[a[70]||(a[70]=t("h3",null,"–ê–Ω–∞–ª–∏–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ü–µ–Ω—ã (–°—Ü–µ–Ω–∞—Ä–∏–π 2)",-1)),t("div",Ea,i(yl.value.scenario2.sensitivityScenarios.length)+" —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤",1)]),t("div",Fa,[t("table",ja,[a[71]||(a[71]=t("thead",null,[t("tr",null,[t("th",null,"Œî –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (bp)"),t("th",{class:"text-right"},"Œî –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (%)"),t("th",{class:"text-right"},"Œî –¶–µ–Ω–∞ (%)"),t("th",{class:"text-right"},"Œî –¶–µ–Ω–∞ (‚ÇΩ)"),t("th",{class:"text-right"},"–ù–æ–≤–∞—è —Ü–µ–Ω–∞ (‚ÇΩ)"),t("th",{class:"text-right"},"–ù–æ–≤–∞—è YTM (%)")])],-1)),t("tbody",null,[(x(!0),l(o,null,r(yl.value.scenario2.sensitivityScenarios,(e,a)=>(x(),l("tr",{key:a},[t("td",{class:c(["mono",e.yieldChangeBps>0?"text-red":e.yieldChangeBps<0?"text-green":""])},i(e.yieldChangeBps>0?"+":"")+i(e.yieldChangeBps)+" bp ",3),t("td",{class:c(["text-right mono",e.yieldChangePercent>0?"text-red":e.yieldChangePercent<0?"text-green":""])},i(e.yieldChangePercent>0?"+":"")+i(Vl(e.yieldChangePercent,2))+"% ",3),t("td",{class:c(["text-right mono",e.priceChangePercent>0?"text-green":e.priceChangePercent<0?"text-red":""])},i(e.priceChangePercent>0?"+":"")+i(Vl(e.priceChangePercent,2))+"% ",3),t("td",{class:c(["text-right mono",e.priceChangeAbsolute>0?"text-green":e.priceChangeAbsolute<0?"text-red":""])},i(e.priceChangeAbsolute>0?"+":"")+i(Vl(e.priceChangeAbsolute,2))+" ‚ÇΩ ",3),t("td",Ta,i(Vl(e.newDirtyPrice,2))+" ‚ÇΩ",1),t("td",Va,i(Vl(e.newYtmPercent,2))+"%",1)]))),128))])])])])):s("",!0)]),_:1}),d(b,{name:"fade"},{default:y(()=>[yl.value&&yl.value.cashFlows1?(x(),l("div",Ua,[t("div",$a,[a[72]||(a[72]=t("h3",null,"–î–µ–Ω–µ–∂–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ (–°—Ü–µ–Ω–∞—Ä–∏–π 1)",-1)),t("div",Ba,i(yl.value.cashFlows1.length)+" –ø–ª–∞—Ç–µ–∂–µ–π",1)]),t("div",Oa,[t("table",Na,[a[74]||(a[74]=t("thead",null,[t("tr",null,[t("th",null,"–î–∞—Ç–∞"),t("th",{class:"text-right"},"T (–ª–µ—Ç)"),t("th",{class:"text-right"},"CF (‚ÇΩ)"),t("th",{class:"text-right"},"DF"),t("th",{class:"text-right"},"PV (‚ÇΩ)")])],-1)),t("tbody",null,[(x(!0),l(o,null,r(yl.value.cashFlows1,(e,a)=>(x(),l("tr",{key:a},[t("td",Xa,i(Ul(e.date)),1),t("td",Ra,i(Vl(e.t,3)),1),t("td",qa,i(Vl(e.cf,2)),1),t("td",Ha,i(Vl(e.df,4)),1),t("td",La,i(Vl(e.pv,2)),1)]))),128))]),t("tfoot",null,[t("tr",null,[a[73]||(a[73]=t("td",{colspan:"4",class:"text-right text-muted"},"–û–±—â–∞—è PV (Dirty):",-1)),t("td",za,i(Vl(yl.value.scenario1.dirtyPrice,2)),1)])])])])])):s("",!0)]),_:1}),d(b,{name:"fade"},{default:y(()=>[yl.value&&yl.value.cashFlows2?(x(),l("div",Ga,[t("div",Ja,[a[75]||(a[75]=t("h3",null,"–î–µ–Ω–µ–∂–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ (–°—Ü–µ–Ω–∞—Ä–∏–π 2)",-1)),t("div",Ka,i(yl.value.cashFlows2.length)+" –ø–ª–∞—Ç–µ–∂–µ–π",1)]),t("div",Qa,[t("table",Wa,[a[77]||(a[77]=t("thead",null,[t("tr",null,[t("th",null,"–î–∞—Ç–∞"),t("th",{class:"text-right"},"T (–ª–µ—Ç)"),t("th",{class:"text-right"},"CF (‚ÇΩ)"),t("th",{class:"text-right"},"DF"),t("th",{class:"text-right"},"PV (‚ÇΩ)")])],-1)),t("tbody",null,[(x(!0),l(o,null,r(yl.value.cashFlows2,(e,a)=>(x(),l("tr",{key:a},[t("td",Za,i(Ul(e.date)),1),t("td",el,i(Vl(e.t,3)),1),t("td",al,i(Vl(e.cf,2)),1),t("td",ll,i(Vl(e.df,4)),1),t("td",tl,i(Vl(e.pv,2)),1)]))),128))]),t("tfoot",null,[t("tr",null,[a[76]||(a[76]=t("td",{colspan:"4",class:"text-right text-muted"},"–û–±—â–∞—è PV (Dirty):",-1)),t("td",sl,i(Vl(yl.value.scenario2.dirtyPrice,2)),1)])])])])])):s("",!0)]),_:1}),d(b,{name:"fade"},{default:y(()=>[yl.value&&yl.value.allCoupons?(x(),l("div",nl,[t("div",il,[a[78]||(a[78]=t("h3",null,"–ì—Ä–∞—Ñ–∏–∫ –∫—É–ø–æ–Ω–Ω—ã—Ö –≤—ã–ø–ª–∞—Ç",-1)),t("div",ol,[t("span",rl,i(yl.value.allCoupons.filter(e=>e.isPaid).length)+" –≤—ã–ø–ª–∞—á–µ–Ω–æ",1),t("span",cl,i(yl.value.allCoupons.filter(e=>!e.isPaid).length)+" –±—É–¥—É—â–∏—Ö",1)])]),t("div",ul,[(x(!0),l(o,null,r(yl.value.allCoupons,(e,a)=>(x(),l("div",{key:a,class:c(["coupon-card",e.isPaid?"paid":"future"])},[t("div",dl,i(a+1),1),t("div",vl,[t("div",pl,i(Ul(e.date)),1),t("div",gl,i(Vl(e.value,2))+" ‚ÇΩ",1)]),t("div",hl,[t("span",{class:c(["status-badge",e.isPaid?"paid":"future"])},i(e.isPaid?"‚úì –í—ã–ø–ª–∞—á–µ–Ω":"‚óØ –ë—É–¥—É—â–∏–π"),3)])],2))),128))])])):s("",!0)]),_:1}),yl.value||bl.value?s("",!0):(x(),l("div",ml,[...a[79]||(a[79]=[t("div",{class:"placeholder-content"},[t("span",{class:"icon-lg"},"üìä"),t("h3",null,"–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–†–∞—Å—Å—á–∏—Ç–∞—Ç—å¬ª"),t("p",null,"–î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –æ –∫—É–ø–æ–Ω–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è MOEX API")],-1)])]))])])]))}}),[["__scopeId","data-v-a8f743e5"]]);export{yl as default};
