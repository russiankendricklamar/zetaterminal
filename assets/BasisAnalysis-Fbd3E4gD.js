import{d as a,r as s,v as l,o as e,R as i,c as t,e as r,x as c,L as n,C as o,t as d,n as v,F as u,i as p,q as b}from"./vendor-DLyKmMu8.js";import{C as m}from"./auto-DlDBEVoY.js";import{_ as y}from"./index-AoYxWDki.js";const g={class:"basis-analysis-page"},h={class:"page-header"},f={class:"header-right"},C={class:"control-group"},x={class:"control-group"},k=["disabled"],F={key:0},P={key:1},w={class:"grid-4"},R={class:"metric-card"},B={class:"metric-value accent"},A={class:"metric-detail"},Y={class:"metric-card"},M={class:"metric-value blue"},S={class:"metric-detail"},z={class:"value"},_={class:"metric-card"},L={class:"metric-value cyan"},D={class:"metric-detail"},V={class:"value"},I={class:"metric-card"},T={class:"metric-detail"},U={class:"value"},W={class:"grid-2"},O={class:"card"},N={class:"carry-breakdown"},j={class:"carry-item"},E={class:"value positive"},q={class:"carry-item"},H={class:"value positive"},G={class:"carry-item"},K={class:"value positive"},$={class:"carry-item"},J={class:"value negative"},Q={class:"carry-item"},X={class:"value negative"},Z={class:"carry-item total"},aa={class:"value cyan"},sa={class:"card"},la={class:"chart-container"},ea={class:"card full-width"},ia={class:"chart-container tall"},ta={class:"card full-width"},ra={class:"basis-table-container"},ca={class:"basis-table"},na={class:"tenor-name"},oa={class:"price mono"},da={class:"price mono"},va={class:"basis mono"},ua={class:"basis-pct mono"},pa={class:"fair mono"},ba={class:"carry mono"},ma={class:"grid-2"},ya={class:"card"},ga={class:"roll-analysis"},ha={class:"roll-item"},fa={class:"value"},Ca={class:"roll-item"},xa={class:"value"},ka={class:"roll-item"},Fa={class:"value cyan mono"},Pa={class:"roll-item"},wa={class:"roll-item total"},Ra={class:"value accent"},Ba={class:"card"},Aa={class:"strategy-analysis"},Ya={class:"strategy-item"},Ma={class:"value"},Sa={class:"strategy-item"},za={class:"value"},_a={class:"strategy-item"},La={class:"value"},Da={class:"strategy-item"},Va={class:"value"},Ia={class:"strategy-item total"},Ta={class:"value positive"},Ua={class:"grid-2"},Wa={class:"card"},Oa={class:"chart-container"},Na={class:"card"},ja={class:"volatility-metrics"},Ea={class:"vol-item"},qa={class:"value accent"},Ha={class:"vol-item"},Ga={class:"value blue"},Ka={class:"vol-item"},$a={class:"value"},Ja={class:"vol-item"},Qa={class:"value"},Xa={class:"vol-item total"},Za={class:"value cyan"},as={class:"card full-width"},ss={class:"chart-container tall"},ls={class:"grid-2"},es={class:"card"},is={class:"drivers-list"},ts={class:"driver-name"},rs={class:"driver-value"},cs={class:"card"},ns={class:"forecast-metrics"},os={class:"forecast-item"},ds={class:"value"},vs={class:"forecast-item"},us={class:"value cyan"},ps={class:"forecast-item"},bs={class:"value cyan"},ms={class:"forecast-item"},ys={class:"value cyan"},gs={class:"forecast-item total"},hs={class:"value positive"},fs={class:"card full-width"},Cs={class:"opportunities-table-container"},xs={class:"opportunities-table"},ks={class:"tenor"},Fs={class:"price mono"},Ps={class:"price mono"},ws={class:"basis mono"},Rs={class:"basis mono"},Bs={class:"profit mono positive"},As={class:"card full-width"},Ys={class:"risk-summary"},Ms={class:"risk-item"},Ss={class:"risk-metric"},zs={class:"value negative"},_s={class:"risk-item"},Ls={class:"risk-metric"},Ds={class:"risk-item"},Vs={class:"risk-metric"},Is={class:"value negative"},Ts=y(a({__name:"BasisAnalysis",setup(a){const y=s("bonds"),Ts=s("3m"),Us=s(!1),Ws=s({spotPrice:100,forwardPrice:101.25,basis:1.25,annualizedCarry:5.2,termLength:3,spotChange:.45,currentTenor:"3M",nextTenor:"6M",rollYield:-.15,rollYieldAnnual:-2,totalReturn:3.2,arbitrageProfit:12500,contractSize:1e5,carryComponents:{riskFreeRate:4.25,storageCost:.25,financingCost:.75,dividendYield:2.5,convenienceYield:.5},basisVolatility:{current:8.5,vol20d:7.2,vol60d:8.1,vol1y:9.3,minBasis:.8,maxBasis:2.1}}),Os=s([{tenor:"1M",spotPrice:100,forwardPrice:100.35,basis:.35,basisPct:.35,fairBasis:.42,variance:-.07,carryAnn:4.2,opportunity:"Underpriced"},{tenor:"3M",spotPrice:100,forwardPrice:101.25,basis:1.25,basisPct:1.25,fairBasis:1.32,variance:-.07,carryAnn:5.2,opportunity:"Underpriced"},{tenor:"6M",spotPrice:100,forwardPrice:102.65,basis:2.65,basisPct:2.65,fairBasis:2.58,variance:.07,carryAnn:5.3,opportunity:"Overpriced"},{tenor:"1Y",spotPrice:100,forwardPrice:105.4,basis:5.4,basisPct:5.4,fairBasis:5.25,variance:.15,carryAnn:5.4,opportunity:"Overpriced"},{tenor:"2Y",spotPrice:100,forwardPrice:110.8,basis:10.8,basisPct:10.8,fairBasis:10.95,variance:-.15,carryAnn:5.4,opportunity:"Neutral"}]),Ns=s([{name:"Risk-free Rate",impact:"Positive",value:"+4.25%"},{name:"Dividend Yield",impact:"Negative",value:"-2.50%"},{name:"Storage Cost",impact:"Positive",value:"+0.25%"},{name:"Convenience Yield",impact:"Negative",value:"-0.50%"},{name:"Financing Cost",impact:"Positive",value:"+0.75%"}]),js=l(()=>Os.value.map(a=>({tenor:a.tenor,spotPrice:a.spotPrice,forwardPrice:a.forwardPrice,fairBasis:a.fairBasis,marketBasis:a.basis,mispricing:a.variance,strategy:"Underpriced"===a.opportunity?"Buy Spot + Sell Forward":"Overpriced"===a.opportunity?"Short Spot + Buy Forward":"Neutral",profitPotential:Math.abs(a.variance)*Ws.value.contractSize/100}))),Es=s(null),qs=s(null),Hs=s(null),Gs=s(null);let Ks={};const $s=a=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:2,maximumFractionDigits:2}).format(a),Js=a=>Math.abs(a)>=1e6?(a/1e6).toFixed(1)+"М":"$"+(a/1e3).toFixed(0)+"K",Qs=()=>{Xs()},Xs=()=>{Object.values(Ks).forEach(a=>{a&&a.destroy()}),Ks={};const a=Os.value.map(a=>a.tenor),s=Os.value.map(a=>a.basis),l=Os.value.map(a=>a.fairBasis);if(Es.value?.getContext("2d")&&(Ks.basis=new m(Es.value.getContext("2d"),{type:"line",data:{labels:a,datasets:[{label:"Actual Basis",data:s,borderColor:"#60a5fa",backgroundColor:"rgba(96, 165, 250, 0.08)",fill:!0,tension:.4,pointRadius:4,borderWidth:2},{label:"Fair Basis (Cost-of-Carry)",data:l,borderColor:"#4ade80",backgroundColor:"transparent",fill:!1,tension:.4,pointRadius:3,borderDash:[5,5],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"rgba(255,255,255,0.6)"}}},scales:{x:{grid:{display:!1},ticks:{color:"rgba(255,255,255,0.3)"}},y:{grid:{color:"rgba(255,255,255,0.05)"},ticks:{color:"rgba(255,255,255,0.3)"}}}}})),qs.value?.getContext("2d")){const l=Os.value.map(a=>a.carryAnn);Ks.termStruct=new m(qs.value.getContext("2d"),{type:"bar",data:{labels:a,datasets:[{label:"Basis (Points)",data:s,backgroundColor:"rgba(96, 165, 250, 0.6)",borderColor:"#60a5fa",yAxisID:"y"},{label:"Annualized Carry (%)",data:l,backgroundColor:"rgba(74, 222, 128, 0.6)",borderColor:"#4ade80",yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{labels:{color:"rgba(255,255,255,0.6)"}}},scales:{x:{grid:{display:!1},ticks:{color:"rgba(255,255,255,0.3)"}},y:{type:"linear",display:!0,position:"left",grid:{color:"rgba(255,255,255,0.05)"},ticks:{color:"rgba(255,255,255,0.3)"},title:{display:!0,text:"Basis (Pts)"}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:"rgba(255,255,255,0.3)"},title:{display:!0,text:"Carry (%)"}}}}})}if(Hs.value?.getContext("2d")){const a=[.9,1.4,1.75,2.55,3.2];Ks.spread=new m(Hs.value.getContext("2d"),{type:"line",data:{labels:["1M-3M","3M-6M","6M-1Y","1Y-2Y","Avg"],datasets:[{label:"Roll Spread",data:a,borderColor:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.08)",fill:!0,tension:.4,pointRadius:4,borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"rgba(255,255,255,0.6)"}}},scales:{x:{grid:{display:!1},ticks:{color:"rgba(255,255,255,0.3)"}},y:{grid:{color:"rgba(255,255,255,0.05)"},ticks:{color:"rgba(255,255,255,0.3)"}}}}})}if(Gs.value?.getContext("2d")){const a=["1M ago","3W ago","2W ago","1W ago","3D ago","Today"],s=[1.5,1.45,1.35,1.28,1.26,1.25],l=[5.8,5.7,5.5,5.4,5.3,5.2];Ks.historical=new m(Gs.value.getContext("2d"),{type:"line",data:{labels:a,datasets:[{label:"Basis",data:s,borderColor:"#60a5fa",backgroundColor:"rgba(96, 165, 250, 0.08)",fill:!0,tension:.4,pointRadius:4,borderWidth:2,yAxisID:"y"},{label:"Annualized Carry (%)",data:l,borderColor:"#4ade80",backgroundColor:"transparent",fill:!1,tension:.4,pointRadius:3,borderWidth:2,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{labels:{color:"rgba(255,255,255,0.6)"}}},scales:{x:{grid:{display:!1},ticks:{color:"rgba(255,255,255,0.3)"}},y:{type:"linear",display:!0,position:"left",grid:{color:"rgba(255,255,255,0.05)"},ticks:{color:"rgba(255,255,255,0.3)"}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:"rgba(255,255,255,0.3)"}}}}})}};return e(()=>{Xs()}),i(()=>{Object.values(Ks).forEach(a=>{a&&a.destroy()})}),(a,s)=>(b(),t("div",g,[r("div",h,[s[6]||(s[6]=r("div",{class:"header-left"},[r("h1",{class:"page-title"},"Анализ базиса"),r("p",{class:"page-subtitle"},"Анализ спот-форвард базиса и стоимости переноса позиций")],-1)),r("div",f,[r("div",C,[s[3]||(s[3]=r("label",{class:"control-label"},"Инструмент:",-1)),c(r("select",{"onUpdate:modelValue":s[0]||(s[0]=a=>y.value=a),class:"instrument-select",onChange:Qs},[...s[2]||(s[2]=[r("option",{value:"bonds"},"Базис облигаций",-1),r("option",{value:"fx"},"Валютный базис",-1),r("option",{value:"equity"},"Базис акций",-1),r("option",{value:"commodities"},"Базис товаров",-1)])],544),[[n,y.value]])]),r("div",x,[s[5]||(s[5]=r("label",{class:"control-label"},"Период:",-1)),c(r("select",{"onUpdate:modelValue":s[1]||(s[1]=a=>Ts.value=a),class:"period-select",onChange:Qs},[...s[4]||(s[4]=[o('<option value="1m" data-v-367ebc1e>1 месяц</option><option value="3m" data-v-367ebc1e>3 месяца</option><option value="6m" data-v-367ebc1e>6 месяцев</option><option value="1y" data-v-367ebc1e>1 год</option><option value="2y" data-v-367ebc1e>2 года</option>',5)])],544),[[n,Ts.value]])]),r("button",{onClick:Qs,class:"btn-primary",disabled:Us.value},[Us.value?(b(),t("span",P,"↺ Считаю...")):(b(),t("span",F,"Обновить"))],8,k)])]),r("div",w,[r("div",R,[s[8]||(s[8]=r("div",{class:"metric-header"},[r("h3",null,"Спот цена"),r("span",{class:"metric-unit"},"Текущая цена")],-1)),r("div",B,d($s(Ws.value.spotPrice)),1),r("div",A,[s[7]||(s[7]=r("span",{class:"label"},"Изменение (1Д)",-1)),r("span",{class:v(["value",Ws.value.spotChange>=0?"positive":"negative"])},d(Ws.value.spotChange>=0?"+":"")+d(Ws.value.spotChange.toFixed(3))+"% ",3)])]),r("div",Y,[s[10]||(s[10]=r("div",{class:"metric-header"},[r("h3",null,"Форвардная цена"),r("span",{class:"metric-unit"},"Форвардная цена")],-1)),r("div",M,d($s(Ws.value.forwardPrice)),1),r("div",S,[s[9]||(s[9]=r("span",{class:"label"},"Tenor",-1)),r("span",z,d(Ts.value),1)])]),r("div",_,[s[12]||(s[12]=r("div",{class:"metric-header"},[r("h3",null,"Базис (пункты)"),r("span",{class:"metric-unit"},"F - S")],-1)),r("div",L,d(Ws.value.basis.toFixed(4)),1),r("div",D,[s[11]||(s[11]=r("span",{class:"label"},"% от спота",-1)),r("span",V,d((Ws.value.basis/Ws.value.spotPrice*100).toFixed(3))+"%",1)])]),r("div",I,[s[14]||(s[14]=r("div",{class:"metric-header"},[r("h3",null,"Годовая стоимость переноса"),r("span",{class:"metric-unit"},"Годовая стоимость")],-1)),r("div",{class:v(["metric-value",Ws.value.annualizedCarry>=0?"positive":"negative"])},d(Ws.value.annualizedCarry>=0?"+":"")+d(Ws.value.annualizedCarry.toFixed(2))+"% ",3),r("div",T,[s[13]||(s[13]=r("span",{class:"label"},"Срок",-1)),r("span",U,d(Ws.value.termLength.toFixed(2))+"M",1)])])]),r("div",W,[r("div",O,[s[21]||(s[21]=r("div",{class:"card-header"},[r("h3",null,"Разложение стоимости переноса"),r("span",{class:"card-subtitle"},"Что составляет базис")],-1)),r("div",N,[r("div",j,[s[15]||(s[15]=r("span",{class:"label"},"Безрисковая ставка (r)",-1)),r("span",E,d(Ws.value.carryComponents.riskFreeRate.toFixed(3))+"%",1)]),r("div",q,[s[16]||(s[16]=r("span",{class:"label"},"Стоимость хранения (u)",-1)),r("span",H,d(Ws.value.carryComponents.storageCost.toFixed(3))+"%",1)]),r("div",G,[s[17]||(s[17]=r("span",{class:"label"},"Стоимость финансирования (f)",-1)),r("span",K,d(Ws.value.carryComponents.financingCost.toFixed(3))+"%",1)]),r("div",$,[s[18]||(s[18]=r("span",{class:"label"},"- Дивидендная доходность (d)",-1)),r("span",J,d(Ws.value.carryComponents.dividendYield.toFixed(3))+"%",1)]),r("div",Q,[s[19]||(s[19]=r("span",{class:"label"},"- Удобство владения (y)",-1)),r("span",X,d(Ws.value.carryComponents.convenienceYield.toFixed(3))+"%",1)]),r("div",Z,[s[20]||(s[20]=r("span",{class:"label"},"= Чистый Carry (Базис)",-1)),r("span",aa,d(Ws.value.annualizedCarry.toFixed(3))+"%",1)])])]),r("div",sa,[s[22]||(s[22]=r("div",{class:"chart-header"},[r("h3",null,"Теоретический vs фактический базис"),r("span",{class:"chart-subtitle"},"F_fair vs F_market")],-1)),r("div",la,[r("canvas",{ref_key:"basisChartRef",ref:Es},null,512)])])]),r("div",ea,[s[23]||(s[23]=r("div",{class:"chart-header"},[r("h3",null,"Структура базиса по срокам"),r("span",{class:"chart-subtitle"},"Как базис меняется по срокам")],-1)),r("div",ia,[r("canvas",{ref_key:"termStructureRef",ref:qs},null,512)])]),r("div",ta,[s[25]||(s[25]=r("div",{class:"card-header"},[r("h3",null,"Basis по срокам"),r("span",{class:"card-subtitle"},"Детальный анализ базиса для каждого tenor")],-1)),r("div",ra,[r("table",ca,[s[24]||(s[24]=r("thead",null,[r("tr",null,[r("th",null,"Tenor"),r("th",null,"Спот цена"),r("th",null,"Форвардная цена"),r("th",null,"Базис (пт)"),r("th",null,"Базис (%)"),r("th",null,"Справедливый базис"),r("th",null,"Отклонение базиса"),r("th",null,"Carry (год.)"),r("th",null,"Возможность")])],-1)),r("tbody",null,[(b(!0),t(u,null,p(Os.value,a=>(b(),t("tr",{key:a.tenor,class:v("Neutral"!==a.opportunity?a.opportunity.toLowerCase():"")},[r("td",na,d(a.tenor),1),r("td",oa,d($s(a.spotPrice)),1),r("td",da,d($s(a.forwardPrice)),1),r("td",va,d(a.basis.toFixed(4)),1),r("td",ua,d(a.basisPct.toFixed(3))+"%",1),r("td",pa,d(a.fairBasis.toFixed(4)),1),r("td",{class:v(["variance mono",Math.abs(a.variance)>.01?"outlier":""])},d(a.variance>=0?"+":"")+d(a.variance.toFixed(4)),3),r("td",ba,d(a.carryAnn.toFixed(2))+"%",1),r("td",{class:v(["opportunity",a.opportunity.toLowerCase()])},d(a.opportunity),3)],2))),128))])])])]),r("div",ma,[r("div",ya,[s[31]||(s[31]=r("div",{class:"chart-header"},[r("h3",null,"Roll Yield Analysis"),r("span",{class:"chart-subtitle"},"Доход от переноса позиции на следующий контракт")],-1)),r("div",ga,[r("div",ha,[s[26]||(s[26]=r("span",{class:"label"},"Текущий контракт",-1)),r("span",fa,d(Ws.value.currentTenor),1)]),r("div",Ca,[s[27]||(s[27]=r("span",{class:"label"},"Следующий контракт",-1)),r("span",xa,d(Ws.value.nextTenor),1)]),r("div",ka,[s[28]||(s[28]=r("span",{class:"label"},"Изменение базиса",-1)),r("span",Fa,d(Ws.value.rollYield>=0?"+":"")+d(Ws.value.rollYield.toFixed(4)),1)]),r("div",Pa,[s[29]||(s[29]=r("span",{class:"label"},"Roll Yield (год.)",-1)),r("span",{class:v(["value",Ws.value.rollYieldAnnual>=0?"positive":"negative"])},d(Ws.value.rollYieldAnnual>=0?"+":"")+d(Ws.value.rollYieldAnnual.toFixed(2))+"% ",3)]),r("div",wa,[s[30]||(s[30]=r("span",{class:"label"},"Общая доходность",-1)),r("span",Ra,d(Ws.value.totalReturn>=0?"+":"")+d(Ws.value.totalReturn.toFixed(2))+"% ",1)])])]),r("div",Ba,[s[37]||(s[37]=r("div",{class:"chart-header"},[r("h3",null,"Стратегия Carry Roll"),r("span",{class:"chart-subtitle"},'Стратегия "buy and carry"')],-1)),r("div",Aa,[r("div",Ya,[s[32]||(s[32]=r("span",{class:"label"},"Buy Spot @ ",-1)),r("span",Ma,d($s(Ws.value.spotPrice)),1)]),r("div",Sa,[s[33]||(s[33]=r("span",{class:"label"},"Финансировать @ ",-1)),r("span",za,d(Ws.value.carryComponents.riskFreeRate.toFixed(2))+"%",1)]),r("div",_a,[s[34]||(s[34]=r("span",{class:"label"},"Стоимость удержания @ ",-1)),r("span",La,d((Ws.value.carryComponents.storageCost+Ws.value.carryComponents.financingCost).toFixed(2))+"%",1)]),r("div",Da,[s[35]||(s[35]=r("span",{class:"label"},"Продать форвард @ ",-1)),r("span",Va,d($s(Ws.value.forwardPrice)),1)]),r("div",Ia,[s[36]||(s[36]=r("span",{class:"label"},"Арбитражная прибыль",-1)),r("span",Ta,d(Js(Ws.value.arbitrageProfit)),1)])])])]),r("div",Ua,[r("div",Wa,[s[38]||(s[38]=r("div",{class:"chart-header"},[r("h3",null,"Calendar Spread (Roll Spread)"),r("span",{class:"chart-subtitle"},"Разница в базисе между контрактами")],-1)),r("div",Oa,[r("canvas",{ref_key:"spreadChartRef",ref:Hs},null,512)])]),r("div",Na,[s[44]||(s[44]=r("div",{class:"chart-header"},[r("h3",null,"Волатильность базиса"),r("span",{class:"chart-subtitle"},"Историческая волатильность базиса")],-1)),r("div",ja,[r("div",Ea,[s[39]||(s[39]=r("span",{class:"label"},"Текущая волатильность базиса",-1)),r("span",qa,d(Ws.value.basisVolatility.current.toFixed(2))+"%",1)]),r("div",Ha,[s[40]||(s[40]=r("span",{class:"label"},"20Д историческая",-1)),r("span",Ga,d(Ws.value.basisVolatility.vol20d.toFixed(2))+"%",1)]),r("div",Ka,[s[41]||(s[41]=r("span",{class:"label"},"60Д историческая",-1)),r("span",$a,d(Ws.value.basisVolatility.vol60d.toFixed(2))+"%",1)]),r("div",Ja,[s[42]||(s[42]=r("span",{class:"label"},"1Г историческая",-1)),r("span",Qa,d(Ws.value.basisVolatility.vol1y.toFixed(2))+"%",1)]),r("div",Xa,[s[43]||(s[43]=r("span",{class:"label"},"Диапазон базиса (1Г)",-1)),r("span",Za,d(Ws.value.basisVolatility.minBasis.toFixed(4))+" - "+d(Ws.value.basisVolatility.maxBasis.toFixed(4)),1)])])])]),r("div",as,[s[45]||(s[45]=r("div",{class:"chart-header"},[r("h3",null,"Историческая динамика базиса"),r("span",{class:"chart-subtitle"},"Изменение базиса и carry за последний год")],-1)),r("div",ss,[r("canvas",{ref_key:"historicalBasisRef",ref:Gs},null,512)])]),r("div",ls,[r("div",es,[s[46]||(s[46]=r("div",{class:"card-header"},[r("h3",null,"Ключевые драйверы базиса")],-1)),r("div",is,[(b(!0),t(u,null,p(Ns.value,a=>(b(),t("div",{key:a.name,class:"driver-item"},[r("span",ts,d(a.name),1),r("div",{class:v(["driver-impact",a.impact.toLowerCase()])},d(a.impact),3),r("span",rs,d(a.value),1)]))),128))])]),r("div",cs,[s[52]||(s[52]=r("div",{class:"card-header"},[r("h3",null,"Прогноз базиса (90Д)")],-1)),r("div",ns,[r("div",os,[s[47]||(s[47]=r("span",{class:"label"},"Текущий базис",-1)),r("span",ds,d(Ws.value.basis.toFixed(4)),1)]),r("div",vs,[s[48]||(s[48]=r("span",{class:"label"},"Прогноз базиса (30Д)",-1)),r("span",us,d((.85*Ws.value.basis).toFixed(4)),1)]),r("div",ps,[s[49]||(s[49]=r("span",{class:"label"},"Прогноз базиса (60Д)",-1)),r("span",bs,d((.65*Ws.value.basis).toFixed(4)),1)]),r("div",ms,[s[50]||(s[50]=r("span",{class:"label"},"Прогноз базиса (90Д)",-1)),r("span",ys,d((.4*Ws.value.basis).toFixed(4)),1)]),r("div",gs,[s[51]||(s[51]=r("span",{class:"label"},"Ожидаемый Carry",-1)),r("span",hs,d((.75*Ws.value.annualizedCarry).toFixed(2))+"% ",1)])])])]),r("div",fs,[s[54]||(s[54]=r("div",{class:"card-header"},[r("h3",null,"Арбитражные возможности Cash-and-Carry"),r("span",{class:"card-subtitle"},"Прибыльные позиции при отклонении от справедливого базиса")],-1)),r("div",Cs,[r("table",xs,[s[53]||(s[53]=r("thead",null,[r("tr",null,[r("th",null,"Tenor"),r("th",null,"Спот цена"),r("th",null,"Форвардная цена"),r("th",null,"Справедливый базис"),r("th",null,"Рыночный базис"),r("th",null,"Неправильная оценка"),r("th",null,"Стратегия"),r("th",null,"Потенциальная прибыль")])],-1)),r("tbody",null,[(b(!0),t(u,null,p(js.value,a=>(b(),t("tr",{key:a.tenor,class:v(a.strategy.toLowerCase())},[r("td",ks,d(a.tenor),1),r("td",Fs,d($s(a.spotPrice)),1),r("td",Ps,d($s(a.forwardPrice)),1),r("td",ws,d(a.fairBasis.toFixed(4)),1),r("td",Rs,d(a.marketBasis.toFixed(4)),1),r("td",{class:v(["mispricing mono",Math.abs(a.mispricing)>.001?"significant":""])},d(a.mispricing>=0?"+":"")+d(a.mispricing.toFixed(4)),3),r("td",{class:v(["strategy",a.strategy.toLowerCase()])},d(a.strategy),3),r("td",Bs,d(Js(a.profitPotential)),1)],2))),128))])])])]),r("div",As,[s[64]||(s[64]=r("div",{class:"card-header"},[r("h3",null,"Резюме рисков базиса"),r("span",{class:"card-subtitle"},"Риски, связанные с движением базиса")],-1)),r("div",Ys,[r("div",Ms,[s[56]||(s[56]=r("div",{class:"risk-header"},[r("span",{class:"risk-type"},"Convergence Risk"),r("span",{class:"risk-level high"},"HIGH")],-1)),s[57]||(s[57]=r("div",{class:"risk-description"}," Базис конвергирует к нулю при экспирации форварда. Если вы позиционированы против конвергенции, вы потеряете на сходимости. ",-1)),r("div",Ss,[s[55]||(s[55]=r("span",null,"Convergence P&L @ Expiry:",-1)),r("span",zs,d(Js(-Ws.value.basis*Ws.value.contractSize/100)),1)])]),r("div",_s,[s[59]||(s[59]=r("div",{class:"risk-header"},[r("span",{class:"risk-type"},"Риск Carry Roll"),r("span",{class:"risk-level medium"},"СРЕДНИЙ")],-1)),s[60]||(s[60]=r("div",{class:"risk-description"}," Базис следующего контракта может отличаться. Roll yield может быть хуже ожиданий. ",-1)),r("div",Ls,[s[58]||(s[58]=r("span",null,"1M Roll Impact:",-1)),r("span",{class:v(["value",Ws.value.rollYield>=0?"positive":"negative"])},d(Ws.value.rollYield>=0?"+":"")+d(Js(Ws.value.rollYield*Ws.value.contractSize/100)),3)])]),r("div",Ds,[s[62]||(s[62]=r("div",{class:"risk-header"},[r("span",{class:"risk-type"},"Риск стоимости финансирования"),r("span",{class:"risk-level medium"},"СРЕДНИЙ")],-1)),s[63]||(s[63]=r("div",{class:"risk-description"}," Стоимость финансирования может вырасти, уменьшив доходность carry стратегии. ",-1)),r("div",Vs,[s[61]||(s[61]=r("span",null,"Влияние ставки +50bp:",-1)),r("span",Is,d(Js(-Ws.value.contractSize*Ws.value.termLength*50/365/1e4)),1)])])])]),s[65]||(s[65]=r("div",{class:"page-footer"},[r("span",null,"• Модель: Cost-of-Carry with convenience yield"),r("span",null,"• Частота: Ежедневно"),r("span",null,"• Обновление: Конец дня")],-1))]))}}),[["__scopeId","data-v-367ebc1e"]]);export{Ts as default};
