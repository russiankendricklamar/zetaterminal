import{d as a,r as e,v as l,G as t,o as r,R as n,c as o,e as s,f as u,x as i,L as c,C as d,t as v,F as p,i as m,n as y,B as f,y as x,j as b,M as h,q as w}from"./vendor-DLyKmMu8.js";import{C as g}from"./auto-DlDBEVoY.js";import{r as F,u as C,w as k}from"./xlsx-Dmkey_AY.js";import{g as R,_ as V}from"./index-Ba4DjugF.js";import{u as P}from"./forwardRegistry-BpeNEchR.js";const D="   https://stochastic-dashbord-v1-production.up.railway.app",S=async a=>{try{const e=await fetch(`${D}/api/forward/valuate`,{method:"POST",headers:R(),body:JSON.stringify(a)});if(!e.ok){const a=await e.json().catch(()=>({detail:"Unknown error"}));throw new Error(a.detail||`HTTP error! status: ${e.status}`)}return await e.json()}catch(e){throw console.error("Forward Valuation Failed:",e),e}},T={class:"forward-valuation-page"},B={class:"page-header"},A={class:"header-right"},U={class:"control-group"},I={class:"control-group"},E=["disabled"],_={key:0},M={key:1},Y={key:0,class:"error-message"},z={key:1,class:"card full-width",style:{"margin-bottom":"24px"}},N={class:"card-header",style:{display:"flex","justify-content":"space-between","align-items":"center"}},j={class:"card-subtitle"},q={style:{display:"flex",gap:"8px"}},$=["disabled"],O=["disabled"],L={key:0},J={key:1},G=["disabled"],W={key:0},H={key:1},K={class:"scenario-table-container"},X={class:"scenario-table"},Q={key:0},Z={key:1},aa={key:2},ea={key:3},la={key:4},ta={key:5},ra={key:6},na=["onClick"],oa={key:0},sa={key:1},ua={key:2,class:"mono"},ia={key:3,class:"mono"},ca={key:4,class:"mono"},da={class:"mono"},va={class:"mono"},pa={class:"mono"},ma={key:5,class:"mono accent"},ya=["onClick"],fa={class:"grid-2"},xa={class:"card"},ba={class:"parameter-group"},ha={class:"param-row"},wa={class:"param-row"},ga={class:"param-row"},Fa={class:"card"},Ca={class:"parameter-group"},ka={class:"param-row"},Ra={class:"param-row"},Va={class:"param-row"},Pa={class:"card full-width"},Da={class:"parameter-group"},Sa={class:"param-row"},Ta={class:"param-row"},Ba={class:"param-row"},Aa={class:"param-row"},Ua={class:"param-row"},Ia={class:"card"},Ea={class:"parameter-group"},_a={class:"param-row"},Ma={class:"param-row"},Ya={class:"param-row"},za={class:"param-row"},Na={class:"param-row"},ja={class:"param-row"},qa={class:"param-row"},$a={class:"param-row"},Oa={class:"param-row"},La={class:"card"},Ja={class:"parameter-group"},Ga={class:"param-row"},Wa={class:"param-row"},Ha={class:"param-row"},Ka={class:"param-row"},Xa={class:"param-row"},Qa={class:"param-row"},Za={class:"param-row"},ae={class:"card full-width"},ee={class:"parameter-group"},le={class:"param-row"},te={key:0,class:"yield-curve-inputs"},re=["onUpdate:modelValue"],ne={class:"card"},oe={class:"parameter-group"},se={class:"param-row"},ue={key:0,class:"param-row"},ie={key:1,class:"param-row"},ce={key:2,class:"param-row"},de={class:"card"},ve={class:"parameter-group"},pe={class:"param-row"},me={class:"param-row"},ye={class:"param-row"},fe={class:"grid-3"},xe={class:"metric-card"},be={class:"metric-value accent"},he={class:"metric-detail"},we={class:"detail-value"},ge={class:"metric-card"},Fe={class:"metric-value blue"},Ce={class:"metric-card"},ke={class:"metric-detail"},Re={key:0,class:"detail-value"},Ve={key:1,class:"detail-value"},Pe={key:2,class:"card full-width"},De={class:"grid-3"},Se={class:"metric-card"},Te={class:"metric-value accent"},Be={class:"metric-card"},Ae={class:"metric-value blue"},Ue={class:"metric-card"},Ie={class:"metric-value blue"},Ee={class:"grid-2",style:{"margin-top":"20px"}},_e={class:"card"},Me={class:"parameter-group"},Ye={class:"param-row"},ze={class:"param-value"},Ne={class:"param-row"},je={class:"param-value"},qe={class:"card"},$e={class:"parameter-group"},Oe={class:"param-row"},Le={class:"param-value"},Je={class:"param-row"},Ge={class:"param-value"},We={key:0,class:"param-row"},He={key:3,class:"card full-width"},Ke={class:"carry-breakdown"},Xe={class:"carry-item"},Qe={class:"carry-value accent"},Ze={class:"carry-item"},al={class:"carry-value"},el={class:"carry-item"},ll={class:"carry-value"},tl={class:"carry-item"},rl={class:"carry-value negative"},nl={class:"carry-item"},ol={class:"carry-value negative"},sl={class:"carry-item total"},ul={class:"carry-value cyan"},il={class:"carry-item final"},cl={key:4,class:"grid-3"},dl={class:"card"},vl={class:"value-breakdown"},pl={class:"item"},ml={class:"value accent"},yl={class:"item"},fl={class:"value blue"},xl={class:"item total"},bl={class:"card"},hl={class:"value-breakdown"},wl={class:"item"},gl={class:"value accent"},Fl={class:"item"},Cl={class:"value blue"},kl={class:"item total"},Rl={class:"card"},Vl={class:"value-breakdown"},Pl={class:"item"},Dl={class:"item"},Sl={class:"item total"},Tl={class:"value accent"},Bl={class:"card full-width"},Al={class:"scenario-table-container"},Ul={class:"scenario-table"},Il={class:"mono"},El={class:"mono"},_l={class:"mono"},Ml={class:"mono"},Yl={class:"mono"},zl={class:"mono positive"},Nl={class:"base"},jl={class:"mono accent",style:{"font-weight":"700"}},ql={key:0,class:"card full-width"},$l={class:"parameter-group"},Ol={class:"param-row"},Ll={class:"param-value"},Jl={class:"param-row"},Gl={class:"param-value"},Wl={class:"param-row"},Hl={class:"param-value accent"},Kl={class:"param-row"},Xl={class:"param-value"},Ql={class:"param-row"},Zl={class:"param-value"},at={class:"param-row"},et={class:"param-value"},lt={class:"param-row"},tt={class:"param-value negative"},rt={class:"param-row total"},nt={class:"param-value accent"},ot={class:"param-row"},st={class:"param-value negative"},ut={class:"param-row final"},it={class:"param-value accent",style:{"font-size":"16px","font-weight":"700"}},ct={key:1,class:"grid-3"},dt={class:"card"},vt={class:"metric-value accent"},pt={class:"metric-detail"},mt={class:"detail-value"},yt={class:"card"},ft={class:"metric-value blue"},xt={class:"metric-detail"},bt={class:"detail-value"},ht={class:"card"},wt={class:"metric-detail"},gt={class:"detail-value"},Ft={class:"grid-2"},Ct={class:"card"},kt={class:"chart-header"},Rt={class:"chart-subtitle"},Vt={class:"chart-container"},Pt={class:"card"},Dt={class:"chart-header"},St={class:"chart-subtitle"},Tt={class:"chart-container"},Bt={class:"card full-width"},At={class:"scenario-table-container"},Ut={class:"scenario-table"},It={class:"scenario-name"},Et={class:"spot-price mono"},_t={key:6,class:"grid-2"},Mt={class:"card"},Yt={class:"sensitivity-metrics"},zt={class:"sens-item"},Nt={class:"value accent"},jt={class:"sens-item"},qt={class:"value blue"},$t={class:"sens-item"},Ot={class:"value cyan"},Lt={class:"card"},Jt={class:"sensitivity-metrics"},Gt={class:"sens-item"},Wt={class:"value accent"},Ht={class:"sens-item"},Kt={class:"value blue"},Xt={class:"sens-item"},Qt={class:"value cyan"},Zt={class:"page-footer"},ar={key:0},er={key:1},lr={key:2},tr=V(a({__name:"ForwardValuation",setup(a){const V=P(),tr=e("fx"),rr=e(!1),nr=e(!1),or=e(""),sr=e(null),ur=e(null),ir=e(!1),cr=l(()=>V.registryForwards),dr=l(()=>V.forwardResults),vr=e({spotPrice:100,timeToMaturity:.25,marketForwardPrice:101.5,contractSize:1e6,dividendYield:2.5,carryingCost:.5,convenienceYield:0,riskFreeRate:4.25,repoRate:4.2,accruedInterest:.5,couponRate:7.5,couponFrequency:2,faceValue:100,lastCouponDate:"",maturityDate:"",dayCountConvention:"ACT/365",autoCalculateAI:!0,bondValuationDate:(new Date).toISOString().split("T")[0],bondExpirationDate:new Date(Date.now()+7776e6).toISOString().split("T")[0],useYieldCurve:!1,yieldCurvePoints:[{tenor:1,rate:4},{tenor:3,rate:4.2},{tenor:6,rate:4.5},{tenor:12,rate:4.8},{tenor:24,rate:5},{tenor:36,rate:5.2}],fxBuyCurrency:"RUB",fxSellCurrency:"CNY",fxBuyAmount:40716e4,fxSellAmount:3e7,fxDealDate:(new Date).toISOString().split("T")[0],fxValuationDate:(new Date).toISOString().split("T")[0],fxExpirationDate:new Date(Date.now()+7776e6).toISOString().split("T")[0],settlementCurrency:"RUB",fxInternalRate:15,fxExternalRate:1.7}),pr=e({fairForwardPrice:0,forwardValue:0,intrinsicValue:0,timeValue:0,totalValue:0,delta:0,rho:0,netCarry:0,scenarios:[]}),mr=l(()=>pr.value.scenarios||[]),yr=e(null),fr=e(null);let xr=null,br=null;const hr=a=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:3,maximumFractionDigits:3}).format(a),wr=a=>Math.abs(a)>=1e6?(a/1e6).toFixed(3)+"–ú":"‚ÇΩ"+(a/1e3).toFixed(3)+"K",gr=a=>{if(!a)return"";return new Date(a).toLocaleDateString("ru-RU")},Fr=()=>{setTimeout(()=>{kr()},100)},Cr=async()=>{rr.value=!0,or.value="";try{const a={forwardType:tr.value,spotPrice:vr.value.spotPrice,timeToMaturity:vr.value.timeToMaturity,marketForwardPrice:vr.value.marketForwardPrice,contractSize:vr.value.contractSize};"fx"===tr.value?(a.buyCurrency=vr.value.fxBuyCurrency,a.sellCurrency=vr.value.fxSellCurrency,a.buyAmount=vr.value.fxBuyAmount,a.sellAmount=vr.value.fxSellAmount,a.dealDate=vr.value.fxDealDate,a.valuationDate=vr.value.fxValuationDate,a.expirationDate=vr.value.fxExpirationDate,a.settlementCurrency=vr.value.settlementCurrency||"RUB",a.internalRate=vr.value.fxInternalRate,a.externalRate=vr.value.fxExternalRate):"bond"===tr.value?(a.accruedInterest=vr.value.accruedInterest,a.couponRate=vr.value.couponRate,a.couponFrequency=vr.value.couponFrequency,a.faceValue=vr.value.faceValue,a.riskFreeRate=vr.value.riskFreeRate,a.repoRate=vr.value.repoRate,a.lastCouponDate=vr.value.lastCouponDate||null,a.maturityDate=vr.value.maturityDate||null,a.dayCountConvention=vr.value.dayCountConvention||"ACT/365",a.autoCalculateAI=!1!==vr.value.autoCalculateAI,a.valuationDate=vr.value.bondValuationDate||null,a.expirationDate=vr.value.bondExpirationDate||null,vr.value.useYieldCurve&&vr.value.yieldCurvePoints&&(a.yieldCurveTenors=vr.value.yieldCurvePoints.map(a=>a.tenor/12),a.yieldCurveRates=vr.value.yieldCurvePoints.map(a=>a.rate))):(a.dividendYield=vr.value.dividendYield,a.carryingCost=vr.value.carryingCost,a.convenienceYield=vr.value.convenienceYield,a.riskFreeRate=vr.value.riskFreeRate,vr.value.repoRate&&(a.repoRate=vr.value.repoRate));const e=await S(a);pr.value=e,Fr()}catch(a){or.value=a.message||"–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ —Ñ–æ—Ä–≤–∞—Ä–¥–∞",console.error("Forward valuation error:",a)}finally{rr.value=!1}},kr=()=>{if(xr&&xr.destroy(),br&&br.destroy(),yr.value?.getContext("2d")){const a=[],e=[],l=[];if("fx"===tr.value){const t=vr.value.spotPrice,r=(vr.value.fxInternalRate||4.2)/100,n=(vr.value.fxExternalRate||11.7)/100,o=vr.value.timeToMaturity,s=vr.value.marketForwardPrice;for(let u=.7;u<=1.3;u+=.05){const i=t*u;a.push(i);const c=i*(1+n*o)/(1+r*o);e.push(c),l.push(s)}}else for(let t=.7;t<=1.3;t+=.05){const r=vr.value.spotPrice*t;a.push(r);const n=vr.value.riskFreeRate/100,o=vr.value.dividendYield/100,s=vr.value.carryingCost/100,u=vr.value.convenienceYield/100,i=vr.value.timeToMaturity,c=r*Math.exp((n+s-o-u)*i);e.push(c),l.push(vr.value.marketForwardPrice)}xr=new g(yr.value.getContext("2d"),{type:"line",data:{labels:a.map(a=>a.toFixed(2)),datasets:[{label:"Fair Forward Price",data:e,borderColor:"#60a5fa",backgroundColor:"rgba(96, 165, 250, 0.08)",fill:!0,tension:.4,pointRadius:2,borderWidth:2},{label:"Market Price",data:l,borderColor:"#f59e0b",backgroundColor:"transparent",fill:!1,tension:0,borderDash:[5,5],pointRadius:0,borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"rgba(255,255,255,0.6)"}}},scales:{x:{title:{display:!0,text:"Spot Price",color:"rgba(255,255,255,0.5)"},grid:{display:!1},ticks:{color:"rgba(255,255,255,0.3)"}},y:{title:{display:!0,text:"Forward Price",color:"rgba(255,255,255,0.5)"},grid:{color:"rgba(255,255,255,0.05)"},ticks:{color:"rgba(255,255,255,0.3)"}}}}})}if(fr.value?.getContext("2d")){const a=[],e=[];if("fx"===tr.value){const l=vr.value.spotPrice,t=vr.value.marketForwardPrice,r=(vr.value.fxInternalRate||4.2)/100,n=(vr.value.fxExternalRate||11.7)/100,o=vr.value.fxBuyAmount||1e6;let s=vr.value.timeToMaturity;if(vr.value.fxValuationDate&&vr.value.fxExpirationDate){const a=new Date(vr.value.fxValuationDate);s=(new Date(vr.value.fxExpirationDate).getTime()-a.getTime())/864e5/365}for(let u=0;u<=12;u++){const i=s*u/12,c=s-i;if(c>0){const a=(t-l*(1+n*c)/(1+r*c))*o/(1+n*c);e.push(a)}else e.push(0);a.push((12*i).toFixed(0))}}else for(let l=0;l<=vr.value.timeToMaturity;l+=vr.value.timeToMaturity/12){const t=vr.value.riskFreeRate/100,r=(vr.value.spotPrice-vr.value.marketForwardPrice)/Math.exp(t*l);a.push((12*l).toFixed(0)),e.push(r)}br=new g(fr.value.getContext("2d"),{type:"line",data:{labels:a,datasets:[{label:"fx"===tr.value?"NPV Contract (RUB)":"Forward Value",data:e,borderColor:"#38bdf8",backgroundColor:"rgba(56, 189, 248, 0.08)",fill:!0,tension:.4,pointRadius:4,borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{title:{display:!0,text:"Months to Maturity",color:"rgba(255,255,255,0.5)"},grid:{display:!1},ticks:{color:"rgba(255,255,255,0.3)"}},y:{title:{display:!0,text:"fx"===tr.value?"NPV (RUB)":"Value",color:"rgba(255,255,255,0.5)"},grid:{color:"rgba(255,255,255,0.05)"},ticks:{color:"rgba(255,255,255,0.3)"}}}}})}};t(tr,()=>{setTimeout(()=>{kr()},100)});let Rr=null;t(()=>[vr.value.spotPrice,vr.value.marketForwardPrice,vr.value.timeToMaturity,vr.value.fxInternalRate,vr.value.fxExternalRate,vr.value.fxBuyAmount,vr.value.riskFreeRate,vr.value.dividendYield],()=>{Rr&&clearTimeout(Rr),Rr=setTimeout(()=>{yr.value&&fr.value&&kr()},300)},{deep:!0});const Vr=async a=>{const e=a.target,l=e.files?.[0];if(l)try{const a=await l.arrayBuffer(),e=F(a,{type:"array"}),t=e.SheetNames[0],r=e.Sheets[t],n=C.sheet_to_json(r,{raw:!1}),o=[];for(const l of n){const a={forwardType:l["–¢–∏–ø"]||l.Type||l.type||tr.value};"fx"===a.forwardType||"fx"===tr.value?(a.fxSellCurrency=l["–í–∞–ª—é—Ç–∞ –ø—Ä–æ–¥–∞–∂–∏"]||l["Sell Currency"]||l.sell_currency||"CNY",a.fxBuyCurrency=l["–í–∞–ª—é—Ç–∞ –ø–æ–∫—É–ø–∫–∏"]||l["Buy Currency"]||l.buy_currency||"RUB",a.fxSellAmount=parseFloat(l["–°—É–º–º–∞ –ø—Ä–æ–¥–∞–∂–∏"]||l["Sell Amount"]||l.sell_amount||"0"),a.fxBuyAmount=parseFloat(l["–°—É–º–º–∞ –ø–æ–∫—É–ø–∫–∏"]||l["Buy Amount"]||l.buy_amount||"0"),a.fxInternalRate=parseFloat(l["–°—Ç–∞–≤–∫–∞ –ø–æ–∫—É–ø–∫–∏"]||l["Internal Rate"]||l.internal_rate||"15.0"),a.fxExternalRate=parseFloat(l["–°—Ç–∞–≤–∫–∞ –ø—Ä–æ–¥–∞–∂–∏"]||l["External Rate"]||l.external_rate||"1.7"),a.spotPrice=parseFloat(l["–°–ø–æ—Ç –∫—É—Ä—Å"]||l["Spot Rate"]||l.spot_rate||l.Spot||"0"),a.marketForwardPrice=parseFloat(l["–ö—É—Ä—Å —Å–¥–µ–ª–∫–∏"]||l["Forward Rate"]||l.forward_rate||l["Market Forward"]||"0")):(a.spotPrice=parseFloat(l["–°–ø–æ—Ç —Ü–µ–Ω–∞"]||l["Spot Price"]||l.spot_price||l.Spot||"0"),a.marketForwardPrice=parseFloat(l["–†—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞"]||l["Market Forward"]||l.market_forward||l.Forward||"0"),a.riskFreeRate=parseFloat(l["–ë–µ–∑—Ä–∏—Å–∫–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞"]||l["Risk Free Rate"]||l.risk_free_rate||"4.25"),a.timeToMaturity=parseFloat(l["–í—Ä–µ–º—è –¥–æ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏"]||l["Time to Maturity"]||l.time_to_maturity||"0.25"),"bond"!==a.forwardType&&"bond"!==tr.value||(a.couponRate=parseFloat(l["–ö—É–ø–æ–Ω–Ω–∞—è —Å—Ç–∞–≤–∫–∞"]||l["Coupon Rate"]||l.coupon_rate||"7.5"),a.faceValue=parseFloat(l["–ù–æ–º–∏–Ω–∞–ª"]||l["Face Value"]||l.face_value||"100"),a.repoRate=parseFloat(l["–†–µ–ø–æ —Å—Ç–∞–≤–∫–∞"]||l["Repo Rate"]||l.repo_rate||"4.2"))),a.valuationDate=l["–î–∞—Ç–∞ –æ—Ü–µ–Ω–∫–∏"]||l["Valuation Date"]||l.valuation_date||(new Date).toISOString().split("T")[0],a.expirationDate=l["–î–∞—Ç–∞ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏"]||l["Expiration Date"]||l.expiration_date||new Date(Date.now()+7776e6).toISOString().split("T")[0],a.contractSize=parseFloat(l["–†–∞–∑–º–µ—Ä –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞"]||l["Contract Size"]||l.contract_size||"1000000"),(a.spotPrice>0||a.fxSellAmount>0)&&o.push(a)}V.loadRegistry(o),ur.value=null,or.value=""}catch(t){or.value=`–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞: ${t.message}`,console.error("Excel parsing error:",t)}},Pr=async()=>{nr.value=!0,or.value="";try{const e=[];for(let l=0;l<V.registryForwards.length;l++){const t=V.registryForwards[l],r={forwardType:t.forwardType||tr.value,spotPrice:t.spotPrice||0,timeToMaturity:t.timeToMaturity||.25,marketForwardPrice:t.marketForwardPrice||0,contractSize:t.contractSize||1e6};"fx"===t.forwardType||"fx"===tr.value?(r.buyCurrency=t.fxBuyCurrency,r.sellCurrency=t.fxSellCurrency,r.buyAmount=t.fxBuyAmount,r.sellAmount=t.fxSellAmount,r.valuationDate=t.valuationDate,r.expirationDate=t.expirationDate,r.internalRate=t.fxInternalRate,r.externalRate=t.fxExternalRate):"bond"===t.forwardType||"bond"===tr.value?(r.couponRate=t.couponRate,r.faceValue=t.faceValue,r.repoRate=t.repoRate,r.riskFreeRate=t.riskFreeRate,r.valuationDate=t.valuationDate,r.expirationDate=t.expirationDate):r.riskFreeRate=t.riskFreeRate;try{const a=await S(r);e.push(a),V.setForwardResult(l,a)}catch(a){const t={fairForwardPrice:0,forwardValue:0,intrinsicValue:0,timeValue:0,totalValue:0,delta:0,rho:0,netCarry:0,scenarios:[]};e.push(t),V.setForwardResult(l,t),console.error(`Error calculating contract ${l+1}:`,a)}}V.setAllResults(e)}catch(a){or.value=`–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤: ${a.message}`}finally{nr.value=!1}},Dr=()=>{if(0===V.registryForwards.length)return void alert("–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ä–µ–µ—Å—Ç—Ä —Ñ–æ—Ä–≤–∞—Ä–¥–æ–≤.");const a=V.forwardResults.length>0&&V.forwardResults.some(a=>a&&null!==a.fairForwardPrice&&void 0!==a.fairForwardPrice);if(!a){if(!confirm("–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –µ—â–µ –Ω–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã?"))return}const e=V.registryForwards.map((a,e)=>{const l=V.getResultByIndex(e),t=a.forwardType||tr.value,r={"‚Ññ":e+1,"–¢–∏–ø":t.toUpperCase(),"–î–∞—Ç–∞ –æ—Ü–µ–Ω–∫–∏":a.valuationDate||"","–î–∞—Ç–∞ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏":a.expirationDate||"","–†—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞":a.marketForwardPrice||0,"–†–∞–∑–º–µ—Ä –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞":a.contractSize||1e6};return"fx"===t||"fx"===tr.value?(r["–í–∞–ª—é—Ç–∞ –ø—Ä–æ–¥–∞–∂–∏"]=a.fxSellCurrency||"",r["–í–∞–ª—é—Ç–∞ –ø–æ–∫—É–ø–∫–∏"]=a.fxBuyCurrency||"",r["–°—É–º–º–∞ –ø—Ä–æ–¥–∞–∂–∏"]=a.fxSellAmount||0,r["–°—É–º–º–∞ –ø–æ–∫—É–ø–∫–∏"]=a.fxBuyAmount||0,r["–°–ø–æ—Ç –∫—É—Ä—Å"]=a.spotPrice||0,r["–°—Ç–∞–≤–∫–∞ –ø–æ–∫—É–ø–∫–∏ (%)"]=a.fxInternalRate||0,r["–°—Ç–∞–≤–∫–∞ –ø—Ä–æ–¥–∞–∂–∏ (%)"]=a.fxExternalRate||0):(r["–°–ø–æ—Ç —Ü–µ–Ω–∞"]=a.spotPrice||0,r["–í—Ä–µ–º—è –¥–æ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏ (–ª–µ—Ç)"]=a.timeToMaturity||0,r["–ë–µ–∑—Ä–∏—Å–∫–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ (%)"]=a.riskFreeRate||0,"bond"===t||"bond"===tr.value?(r["–ö—É–ø–æ–Ω–Ω–∞—è —Å—Ç–∞–≤–∫–∞ (%)"]=a.couponRate||0,r["–ù–æ–º–∏–Ω–∞–ª"]=a.faceValue||0,r["–†–µ–ø–æ —Å—Ç–∞–≤–∫–∞ (%)"]=a.repoRate||0,r["–ß–∞—Å—Ç–æ—Ç–∞ –∫—É–ø–æ–Ω–æ–≤"]=a.couponFrequency||2,r["–ù–ö–î"]=a.accruedInterest||0):"equity"===t?r["–î–∏–≤–∏–¥–µ–Ω–¥—ã (%)"]=a.dividendYield||0:"commodity"===t&&(r["–°—Ç–æ–∏–º–æ—Å—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏—è (%)"]=a.carryingCost||0,r["–£–¥–æ–±—Å—Ç–≤–æ –≤–ª–∞–¥–µ–Ω–∏—è (%)"]=a.convenienceYield||0)),l?(r["–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Ü–µ–Ω–∞"]=null!==l.fairForwardPrice&&void 0!==l.fairForwardPrice?l.fairForwardPrice.toFixed(6):"",r["–°—Ç–æ–∏–º–æ—Å—Ç—å (–Ω–∞ –µ–¥–∏–Ω–∏—Ü—É)"]=null!==l.forwardValue&&void 0!==l.forwardValue?l.forwardValue.toFixed(6):"",r["–°—Ç–æ–∏–º–æ—Å—Ç—å (–Ω–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç)"]=null!==l.forwardValue&&void 0!==l.forwardValue?(l.forwardValue*(a.contractSize||1e6)).toFixed(2):"",r["–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å"]=null!==l.intrinsicValue&&void 0!==l.intrinsicValue?l.intrinsicValue.toFixed(6):"",r["–í—Ä–µ–º–µ–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å"]=null!==l.timeValue&&void 0!==l.timeValue?l.timeValue.toFixed(6):"",r["–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å"]=null!==l.totalValue&&void 0!==l.totalValue?l.totalValue.toFixed(6):"",r["Delta (Œî)"]=null!==l.delta&&void 0!==l.delta?l.delta.toFixed(6):"",r["Rho (œÅ)"]=null!==l.rho&&void 0!==l.rho?l.rho.toFixed(6):"",r["Net Carry"]=null!==l.netCarry&&void 0!==l.netCarry?(100*l.netCarry).toFixed(4)+"%":"","fx"!==t&&"fx"!==tr.value||(r["–í–∞–ª—é—Ç–Ω–∞—è –ø–∞—Ä–∞"]=l.currencyPair||"",r["–§–æ—Ä–≤–∞—Ä–¥–Ω—ã–π –∫—É—Ä—Å (–º–∏–Ω)"]=null!==l.forwardRateMin&&void 0!==l.forwardRateMin?l.forwardRateMin.toFixed(6):"",r["–§–æ—Ä–≤–∞—Ä–¥–Ω—ã–π –∫—É—Ä—Å (–º–∞–∫—Å)"]=null!==l.forwardRateMax&&void 0!==l.forwardRateMax?l.forwardRateMax.toFixed(6):"",r["–î–∏—Å–∫–æ–Ω—Ç-—Ñ–∞–∫—Ç–æ—Ä (–≤–Ω—É—Ç—Ä.)"]=null!==l.discountFactorInternal&&void 0!==l.discountFactorInternal?l.discountFactorInternal.toFixed(6):"",r["–î–∏—Å–∫–æ–Ω—Ç-—Ñ–∞–∫—Ç–æ—Ä (–≤–Ω–µ—à–Ω.)"]=null!==l.discountFactorExternal&&void 0!==l.discountFactorExternal?l.discountFactorExternal.toFixed(6):"",r["–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å (–º–∏–Ω)"]=null!==l.fairValueMin&&void 0!==l.fairValueMin?l.fairValueMin.toFixed(2):"",r["–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å (–º–∞–∫—Å)"]=null!==l.fairValueMax&&void 0!==l.fairValueMax?l.fairValueMax.toFixed(2):"",void 0!==l.forwardDiff&&(r["–†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ —Å –∫—É—Ä—Å–æ–º —Å–¥–µ–ª–∫–∏"]="string"==typeof l.forwardDiff?l.forwardDiff:l.forwardDiff.toFixed(6))),"bond"!==t&&"bond"!==tr.value||(r.DV01=null!==l.dv01&&void 0!==l.dv01?l.dv01.toFixed(6):"",r.Convexity=null!==l.convexity&&void 0!==l.convexity?l.convexity.toFixed(4):"",r["Repo Sensitivity"]=null!==l.repoSensitivity&&void 0!==l.repoSensitivity?l.repoSensitivity.toFixed(6):"",r["PV –∫—É–ø–æ–Ω–æ–≤"]=null!==l.pvCoupons&&void 0!==l.pvCoupons?l.pvCoupons.toFixed(2):"",r["–°–ø–æ—Ç —Ü–µ–Ω–∞ (dirty)"]=null!==l.spotDirtyPrice&&void 0!==l.spotDirtyPrice?l.spotDirtyPrice.toFixed(6):"",r["–§–æ—Ä–≤–∞—Ä–¥ —Ü–µ–Ω–∞ (dirty)"]=null!==l.forwardDirtyPrice&&void 0!==l.forwardDirtyPrice?l.forwardDirtyPrice.toFixed(6):"",r["–ù–ö–î –Ω–∞ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏—é"]=null!==l.aiForward&&void 0!==l.aiForward?l.aiForward.toFixed(6):"",l.formulaBreakdown&&(r["–°–ø–æ—Ç —Ü–µ–Ω–∞ (clean)"]=l.formulaBreakdown.spotCleanPrice.toFixed(6),r["–ù–ö–î –Ω–∞ –¥–∞—Ç—É –æ—Ü–µ–Ω–∫–∏"]=l.formulaBreakdown.accruedInterestSpot.toFixed(6),r["–°—Ç–æ–∏–º–æ—Å—Ç—å —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è"]=l.formulaBreakdown.financingCost.toFixed(6),r["PV –∫—É–ø–æ–Ω–æ–≤ (–¥–µ—Ç–∞–ª—å–Ω–æ)"]=l.formulaBreakdown.totalCouponsPV.toFixed(6))),r["–°—Ç–∞—Ç—É—Å —Ä–∞—Å—á–µ—Ç–∞"]="–†–∞—Å—Å—á–∏—Ç–∞–Ω"):r["–°—Ç–∞—Ç—É—Å —Ä–∞—Å—á–µ—Ç–∞"]="–ù–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω",r}),l=C.book_new(),t=C.json_to_sheet(e),r=[],n=Math.max(...e.map(a=>Object.keys(a).length));for(let i=0;i<n;i++)r.push({wch:18});if(t["!cols"]=r,C.book_append_sheet(l,t,"–†–µ–µ—Å—Ç—Ä —Ñ–æ—Ä–≤–∞—Ä–¥–æ–≤"),a){const a=[];if(cr.value.forEach((e,l)=>{const t=dr.value[l];t&&t.scenarios&&t.scenarios.length>0&&t.scenarios.forEach((t,r)=>{a.push({"‚Ññ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞":l+1,"–¢–∏–ø":e.forwardType||tr.value,"‚Ññ —Å—Ü–µ–Ω–∞—Ä–∏—è":r+1,"–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è":t.name,"–°–ø–æ—Ç —Ü–µ–Ω–∞":t.spotPrice.toFixed(6),"% –ò–∑–º–µ–Ω–µ–Ω–∏–µ":(t.change>=0?"+":"")+t.change.toFixed(2)+"%","–°—Ç–æ–∏–º–æ—Å—Ç—å —Ñ–æ—Ä–≤–∞—Ä–¥–∞":t.forwardValue.toFixed(6),"P&L (–õ–æ–Ω–≥)":t.pnlLong.toFixed(2),"P&L (–®–æ—Ä—Ç)":t.pnlShort.toFixed(2),"–ë–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π":t.isBase?"–î–∞":"–ù–µ—Ç"})})}),a.length>0){const e=C.json_to_sheet(a),t=[{wch:10},{wch:10},{wch:10},{wch:20},{wch:15},{wch:15},{wch:18},{wch:15},{wch:15},{wch:15}];e["!cols"]=t,C.book_append_sheet(l,e,"–°—Ü–µ–Ω–∞—Ä–∏–∏")}}if(a){const a=[];if(V.registryForwards.forEach((e,l)=>{const t=V.getResultByIndex(l);t&&t.couponSchedule&&t.couponSchedule.length>0&&t.couponSchedule.forEach(t=>{a.push({"‚Ññ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞":l+1,"–¢–∏–ø":e.forwardType||tr.value,"‚Ññ –∫—É–ø–æ–Ω–∞":t.couponNumber,"–î–∞—Ç–∞ –∫—É–ø–æ–Ω–∞":gr(t.couponDate),"–î–Ω–µ–π –¥–æ –ø–ª–∞—Ç–µ–∂–∞":t.daysToPayment,"–õ–µ—Ç –¥–æ –ø–ª–∞—Ç–µ–∂–∞":t.yearsToPayment.toFixed(4),"–°—É–º–º–∞ –∫—É–ø–æ–Ω–∞":t.couponAmount.toFixed(2),"–°—Ç–∞–≤–∫–∞ –¥–∏—Å–∫–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (%)":t.discountRate.toFixed(3),"–î–∏—Å–∫–æ–Ω—Ç-—Ñ–∞–∫—Ç–æ—Ä":t.discountFactor.toFixed(6),"–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å":t.presentValue.toFixed(2)})})}),a.length>0){const e=C.json_to_sheet(a),t=[{wch:10},{wch:10},{wch:10},{wch:12},{wch:15},{wch:15},{wch:15},{wch:20},{wch:15},{wch:18}];e["!cols"]=t,C.book_append_sheet(l,e,"–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∫—É–ø–æ–Ω–æ–≤")}}const o=new Date,s=`—Ä–µ–µ—Å—Ç—Ä_—Ñ–æ—Ä–≤–∞—Ä–¥–æ–≤_${o.toISOString().split("T")[0]}_${o.toTimeString().split(" ")[0].replace(/:/g,"-")}.xlsx`;try{k(l,s),alert(`–†–µ–µ—Å—Ç—Ä —É—Å–ø–µ—à–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω: ${s}\n${a?"–í–∫–ª—é—á–∞—è –≤—Å–µ —Ä–∞—Å—á–µ—Ç—ã, —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∫—É–ø–æ–Ω–æ–≤.":"–¢–æ–ª—å–∫–æ –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –Ω–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã)."}`)}catch(u){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ:",u),alert(`–û—à–∏–±–∫–∞ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ —Ñ–∞–π–ª–∞: ${u.message}`)}},Sr=async()=>{if(0!==V.registryForwards.length){ir.value=!0,or.value="";try{const a=await(async a=>{try{const e=await fetch(`${D}/api/database/export/registry/parquet`,{method:"POST",headers:R(),body:JSON.stringify({registry_type:"forward",data:a})});if(!e.ok){const a=await e.json().catch(()=>({detail:"Unknown error"}));throw new Error(a.detail||`HTTP error! status: ${e.status}`)}return await e.json()}catch(or){throw console.error("Save Registry to Parquet Failed:",or),or}})(V.registryForwards);a.success&&(or.value=`–†–µ–µ—Å—Ç—Ä —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω: ${a.data.file_name}`,setTimeout(()=>{or.value=""},5e3))}catch(a){console.error("Error saving registry to parquet:",a),or.value=`–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ä–µ–µ—Å—Ç—Ä–∞: ${a.message}`}finally{ir.value=!1}}},Tr=()=>{V.clearRegistry(),ur.value=null,sr.value&&(sr.value.value="")},Br=()=>{const a={forwardType:tr.value,spotPrice:vr.value.spotPrice,timeToMaturity:vr.value.timeToMaturity,marketForwardPrice:vr.value.marketForwardPrice,contractSize:vr.value.contractSize,riskFreeRate:vr.value.riskFreeRate,valuationDate:"fx"===tr.value?vr.value.fxValuationDate:vr.value.bondValuationDate,expirationDate:"fx"===tr.value?vr.value.fxExpirationDate:vr.value.bondExpirationDate};"fx"===tr.value?(a.fxBuyCurrency=vr.value.fxBuyCurrency,a.fxSellCurrency=vr.value.fxSellCurrency,a.fxBuyAmount=vr.value.fxBuyAmount,a.fxSellAmount=vr.value.fxSellAmount,a.fxInternalRate=vr.value.fxInternalRate,a.fxExternalRate=vr.value.fxExternalRate):"bond"===tr.value?(a.couponRate=vr.value.couponRate,a.faceValue=vr.value.faceValue,a.repoRate=vr.value.repoRate,a.accruedInterest=vr.value.accruedInterest,a.couponFrequency=vr.value.couponFrequency):(a.dividendYield=vr.value.dividendYield,a.carryingCost=vr.value.carryingCost,a.convenienceYield=vr.value.convenienceYield),V.addForward(a)};return r(()=>{Cr()}),n(()=>{Rr&&clearTimeout(Rr),xr&&xr.destroy(),br&&br.destroy()}),(a,e)=>(w(),o("div",T,[s("div",B,[e[40]||(e[40]=s("div",{class:"header-left"},[s("h1",{class:"page-title"},"–û—Ü–µ–Ω–∫–∞ —Ñ–æ—Ä–≤–∞—Ä–¥–æ–≤"),s("p",{class:"page-subtitle"},"–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏ –∞–Ω–∞–ª–∏–∑ —Ñ–æ—Ä–≤–∞—Ä–¥–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤")],-1)),s("div",A,[s("div",U,[e[37]||(e[37]=s("label",{class:"control-label"},"–†–µ–µ—Å—Ç—Ä:",-1)),s("input",{type:"file",ref_key:"fileInputRef",ref:sr,onChange:Vr,accept:".xlsx,.xls",style:{display:"none"},id:"excel-upload"},null,544),s("button",{onClick:e[0]||(e[0]=()=>{sr.value&&sr.value.click()}),class:"btn-secondary",title:"–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ–µ—Å—Ç—Ä –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –∏–∑ Excel"}," –ó–∞–≥—Ä—É–∑–∏—Ç—å Excel ")]),s("div",I,[e[39]||(e[39]=s("label",{class:"control-label"},"–¢–∏–ø —Ñ–æ—Ä–≤–∞—Ä–¥–∞:",-1)),i(s("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>tr.value=a),class:"forward-type-select",onChange:Fr},[...e[38]||(e[38]=[d('<option value="bond" data-v-b51d3d57>–§–æ—Ä–≤–∞—Ä–¥ –Ω–∞ –æ–±–ª–∏–≥–∞—Ü–∏—é</option><option value="fx" data-v-b51d3d57>–í–∞–ª—é—Ç–Ω—ã–π —Ñ–æ—Ä–≤–∞—Ä–¥</option><option value="commodity" data-v-b51d3d57>–§–æ—Ä–≤–∞—Ä–¥ –Ω–∞ —Ç–æ–≤–∞—Ä</option><option value="equity" data-v-b51d3d57>–§–æ—Ä–≤–∞—Ä–¥ –Ω–∞ –∞–∫—Ü–∏—é</option><option value="rate" data-v-b51d3d57>–§–æ—Ä–≤–∞—Ä–¥ –Ω–∞ —Å—Ç–∞–≤–∫—É</option>',5)])],544),[[c,tr.value]])]),s("button",{onClick:Br,class:"btn-secondary",title:"–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ñ–æ—Ä–≤–∞—Ä–¥ –≤ —Ä–µ–µ—Å—Ç—Ä"}," ‚ûï –î–æ–±–∞–≤–∏—Ç—å –≤ —Ä–µ–µ—Å—Ç—Ä "),s("button",{onClick:Cr,class:"btn-primary",disabled:rr.value},[rr.value?(w(),o("span",M,"‚Ü∫ –°—á–∏—Ç–∞—é...")):(w(),o("span",_,"–ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å"))],8,E)])]),or.value?(w(),o("div",Y," ‚ö†Ô∏è "+v(or.value),1)):u("",!0),cr.value.length>0?(w(),o("div",z,[s("div",N,[s("div",null,[e[41]||(e[41]=s("h3",null,"–†–µ–µ—Å—Ç—Ä –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤",-1)),s("span",j,"–ó–∞–≥—Ä—É–∂–µ–Ω–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤: "+v(cr.value.length),1)]),s("div",q,[s("button",{onClick:Dr,class:"btn-secondary",disabled:0===cr.value.length,style:{"font-size":"11px",padding:"6px 12px"},title:"–í—ã–≥—Ä—É–∑–∏—Ç—å —Ä–µ–µ—Å—Ç—Ä –≤ Excel"}," üì• –í—ã–≥—Ä—É–∑–∏—Ç—å Excel ",8,$),s("button",{onClick:Sr,class:"btn-secondary",disabled:0===cr.value.length||ir.value,style:{"font-size":"11px",padding:"6px 12px"},title:"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–µ—Å—Ç—Ä –≤ Supabase (parquet)"},[ir.value?(w(),o("span",J,"‚Ü∫ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...")):(w(),o("span",L,"üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ë–î"))],8,O),s("button",{onClick:Pr,class:"btn-secondary",disabled:nr.value,style:{"font-size":"11px",padding:"6px 12px"}},[nr.value?(w(),o("span",H,"‚Ü∫ –°—á–∏—Ç–∞—é...")):(w(),o("span",W,"–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –≤—Å–µ"))],8,G),s("button",{onClick:Tr,class:"btn-secondary",style:{"font-size":"11px",padding:"6px 12px",background:"rgba(239, 68, 68, 0.2)","border-color":"rgba(239, 68, 68, 0.3)"}}," ‚úï –û—á–∏—Å—Ç–∏—Ç—å ")])]),s("div",K,[s("table",X,[s("thead",null,[s("tr",null,[e[42]||(e[42]=s("th",null,"‚Ññ",-1)),e[43]||(e[43]=s("th",null,"–¢–∏–ø",-1)),"fx"===tr.value?(w(),o("th",Q,"–í–∞–ª—é—Ç–∞ –ø—Ä–æ–¥–∞–∂–∏")):u("",!0),"fx"===tr.value?(w(),o("th",Z,"–í–∞–ª—é—Ç–∞ –ø–æ–∫—É–ø–∫–∏")):u("",!0),"fx"===tr.value?(w(),o("th",aa,"–°—É–º–º–∞ –ø—Ä–æ–¥–∞–∂–∏")):u("",!0),"fx"===tr.value?(w(),o("th",ea,"–°—É–º–º–∞ –ø–æ–∫—É–ø–∫–∏")):u("",!0),"fx"!==tr.value?(w(),o("th",la,"–°–ø–æ—Ç —Ü–µ–Ω–∞")):u("",!0),e[44]||(e[44]=s("th",null,"–î–∞—Ç–∞ –æ—Ü–µ–Ω–∫–∏",-1)),e[45]||(e[45]=s("th",null,"–î–∞—Ç–∞ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏",-1)),e[46]||(e[46]=s("th",null,"–†—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞",-1)),dr.value.length>0?(w(),o("th",ta,"–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Ü–µ–Ω–∞")):u("",!0),dr.value.length>0?(w(),o("th",ra,"–°—Ç–æ–∏–º–æ—Å—Ç—å")):u("",!0),e[47]||(e[47]=s("th",null,"–î–µ–π—Å—Ç–≤–∏–µ",-1))])]),s("tbody",null,[(w(!0),o(p,null,m(cr.value,(a,e)=>(w(),o("tr",{key:e,class:y({selected:ur.value===e}),onClick:a=>{return l=e,void(ur.value=l);var l}},[s("td",null,v(e+1),1),s("td",null,v(a.forwardType||tr.value),1),"fx"===tr.value?(w(),o("td",oa,v(a.fxSellCurrency||"-"),1)):u("",!0),"fx"===tr.value?(w(),o("td",sa,v(a.fxBuyCurrency||"-"),1)):u("",!0),"fx"===tr.value?(w(),o("td",ua,v(a.fxSellAmount?wr(a.fxSellAmount):"-"),1)):u("",!0),"fx"===tr.value?(w(),o("td",ia,v(a.fxBuyAmount?wr(a.fxBuyAmount):"-"),1)):u("",!0),"fx"!==tr.value?(w(),o("td",ca,v(a.spotPrice?hr(a.spotPrice):"-"),1)):u("",!0),s("td",da,v(a.valuationDate||"-"),1),s("td",va,v(a.expirationDate||"-"),1),s("td",pa,v(a.marketForwardPrice?hr(a.marketForwardPrice):"-"),1),dr.value.length>0&&dr.value[e]?(w(),o("td",ma,v(dr.value[e]?.fairForwardPrice?hr(dr.value[e].fairForwardPrice):"-"),1)):u("",!0),dr.value.length>0&&dr.value[e]?(w(),o("td",{key:6,class:y(["mono",(dr.value[e]?.forwardValue||0)>=0?"positive":"negative"])},v(dr.value[e]?.forwardValue?wr(dr.value[e].forwardValue):"-"),3)):u("",!0),s("td",null,[s("button",{onClick:f(a=>(a=>{const e=V.getForwardByIndex(a);e&&(tr.value=e.forwardType||tr.value,"fx"===e.forwardType||"fx"===tr.value?(vr.value.fxSellCurrency=e.fxSellCurrency||vr.value.fxSellCurrency,vr.value.fxBuyCurrency=e.fxBuyCurrency||vr.value.fxBuyCurrency,vr.value.fxSellAmount=e.fxSellAmount||vr.value.fxSellAmount,vr.value.fxBuyAmount=e.fxBuyAmount||vr.value.fxBuyAmount,vr.value.fxInternalRate=e.fxInternalRate||vr.value.fxInternalRate,vr.value.fxExternalRate=e.fxExternalRate||vr.value.fxExternalRate,vr.value.spotPrice=e.spotPrice||vr.value.spotPrice,vr.value.fxValuationDate=e.valuationDate||vr.value.fxValuationDate,vr.value.fxExpirationDate=e.expirationDate||vr.value.fxExpirationDate):(vr.value.spotPrice=e.spotPrice||vr.value.spotPrice,vr.value.marketForwardPrice=e.marketForwardPrice||vr.value.marketForwardPrice,vr.value.riskFreeRate=e.riskFreeRate||vr.value.riskFreeRate,vr.value.timeToMaturity=e.timeToMaturity||vr.value.timeToMaturity,"bond"!==e.forwardType&&"bond"!==tr.value||(vr.value.couponRate=e.couponRate||vr.value.couponRate,vr.value.faceValue=e.faceValue||vr.value.faceValue,vr.value.repoRate=e.repoRate||vr.value.repoRate,vr.value.bondValuationDate=e.valuationDate||vr.value.bondValuationDate,vr.value.bondExpirationDate=e.expirationDate||vr.value.bondExpirationDate)),vr.value.contractSize=e.contractSize||vr.value.contractSize,setTimeout(()=>{Cr()},100))})(e),["stop"]),class:"btn-small",title:"–ó–∞–≥—Ä—É–∑–∏—Ç—å –≤ —Ñ–æ—Ä–º—É"}," üìù ",8,ya)])],10,na))),128))])])])])):u("",!0),s("div",fa,["fx"===tr.value?(w(),o(p,{key:0},[s("div",xa,[e[51]||(e[51]=s("div",{class:"card-header"},[s("h3",null,"–ü—Ä–æ–¥–∞–≤–∞–µ–º–∞—è –≤–∞–ª—é—Ç–∞")],-1)),s("div",ba,[s("div",ha,[e[49]||(e[49]=s("label",null,"–í–∞–ª—é—Ç–∞",-1)),i(s("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>vr.value.fxSellCurrency=a),class:"param-input",onChange:Fr},[...e[48]||(e[48]=[d('<option value="CNY" data-v-b51d3d57>CNY</option><option value="RUB" data-v-b51d3d57>RUB</option><option value="EUR" data-v-b51d3d57>EUR</option><option value="GBP" data-v-b51d3d57>GBP</option><option value="JPY" data-v-b51d3d57>JPY</option>',5)])],544),[[c,vr.value.fxSellCurrency]])]),s("div",wa,[e[50]||(e[50]=s("label",null,"–°—É–º–º–∞ –ø—Ä–æ–¥–∞–∂–∏",-1)),i(s("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>vr.value.fxSellAmount=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.fxSellAmount,void 0,{number:!0}]])]),s("div",ga,[s("label",null,"–°—Ç–∞–≤–∫–∞ –¥–ª—è "+v(vr.value.fxSellCurrency)+" (%)",1),i(s("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>vr.value.fxExternalRate=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.fxExternalRate,void 0,{number:!0}]])])])]),s("div",Fa,[e[55]||(e[55]=s("div",{class:"card-header"},[s("h3",null,"–ü–æ–∫—É–ø–∞–µ–º–∞—è –≤–∞–ª—é—Ç–∞")],-1)),s("div",Ca,[s("div",ka,[e[53]||(e[53]=s("label",null,"–í–∞–ª—é—Ç–∞",-1)),i(s("select",{"onUpdate:modelValue":e[5]||(e[5]=a=>vr.value.fxBuyCurrency=a),class:"param-input",onChange:Fr},[...e[52]||(e[52]=[d('<option value="RUB" data-v-b51d3d57>RUB</option><option value="EUR" data-v-b51d3d57>EUR</option><option value="CNY" data-v-b51d3d57>CNY</option><option value="GBP" data-v-b51d3d57>GBP</option><option value="JPY" data-v-b51d3d57>JPY</option>',5)])],544),[[c,vr.value.fxBuyCurrency]])]),s("div",Ra,[e[54]||(e[54]=s("label",null,"–°—É–º–º–∞ –ø–æ–∫—É–ø–∫–∏",-1)),i(s("input",{"onUpdate:modelValue":e[6]||(e[6]=a=>vr.value.fxBuyAmount=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.fxBuyAmount,void 0,{number:!0}]])]),s("div",Va,[s("label",null,"–°—Ç–∞–≤–∫–∞ –¥–ª—è "+v(vr.value.fxBuyCurrency)+" (%)",1),i(s("input",{"onUpdate:modelValue":e[7]||(e[7]=a=>vr.value.fxInternalRate=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.fxInternalRate,void 0,{number:!0}]])])])]),s("div",Pa,[e[61]||(e[61]=s("div",{class:"card-header"},[s("h3",null,"–î–∞—Ç—ã –∏ –∫—É—Ä—Å—ã")],-1)),s("div",Da,[s("div",Sa,[e[56]||(e[56]=s("label",null,"–î–∞—Ç–∞ —Å–¥–µ–ª–∫–∏",-1)),i(s("input",{"onUpdate:modelValue":e[8]||(e[8]=a=>vr.value.fxDealDate=a),type:"date",class:"param-input",onChange:Fr},null,544),[[x,vr.value.fxDealDate]])]),s("div",Ta,[e[57]||(e[57]=s("label",null,"–î–∞—Ç–∞ –æ—Ü–µ–Ω–∫–∏",-1)),i(s("input",{"onUpdate:modelValue":e[9]||(e[9]=a=>vr.value.fxValuationDate=a),type:"date",class:"param-input",onChange:Fr},null,544),[[x,vr.value.fxValuationDate]])]),s("div",Ba,[e[58]||(e[58]=s("label",null,"–î–∞—Ç–∞ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏",-1)),i(s("input",{"onUpdate:modelValue":e[10]||(e[10]=a=>vr.value.fxExpirationDate=a),type:"date",class:"param-input",onChange:Fr},null,544),[[x,vr.value.fxExpirationDate]])]),s("div",Aa,[e[59]||(e[59]=s("label",null,"–°–ø–æ—Ç –∫—É—Ä—Å",-1)),i(s("input",{"onUpdate:modelValue":e[11]||(e[11]=a=>vr.value.spotPrice=a),type:"number",class:"param-input",step:"0.0001",onChange:Fr},null,544),[[x,vr.value.spotPrice,void 0,{number:!0}]])]),s("div",Ua,[e[60]||(e[60]=s("label",null,"–ö—É—Ä—Å —Å–¥–µ–ª–∫–∏ (—Ñ–æ—Ä–≤–∞—Ä–¥)",-1)),i(s("input",{"onUpdate:modelValue":e[12]||(e[12]=a=>vr.value.marketForwardPrice=a),type:"number",class:"param-input",step:"0.0001",onChange:Fr},null,544),[[x,vr.value.marketForwardPrice,void 0,{number:!0}]])])])])],64)):u("",!0),"bond"===tr.value?(w(),o(p,{key:1},[s("div",Ia,[e[73]||(e[73]=s("div",{class:"card-header"},[s("h3",null,"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±–ª–∏–≥–∞—Ü–∏–∏")],-1)),s("div",Ea,[s("div",_a,[e[62]||(e[62]=s("label",null,"–°–ø–æ—Ç —Ü–µ–Ω–∞ (clean, %)",-1)),i(s("input",{"onUpdate:modelValue":e[13]||(e[13]=a=>vr.value.spotPrice=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.spotPrice,void 0,{number:!0}]])]),s("div",Ma,[e[63]||(e[63]=s("label",null,"–ù–æ–º–∏–Ω–∞–ª",-1)),i(s("input",{"onUpdate:modelValue":e[14]||(e[14]=a=>vr.value.faceValue=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.faceValue,void 0,{number:!0}]])]),s("div",Ya,[e[64]||(e[64]=s("label",null,"–ö—É–ø–æ–Ω–Ω–∞—è —Å—Ç–∞–≤–∫–∞ (%)",-1)),i(s("input",{"onUpdate:modelValue":e[15]||(e[15]=a=>vr.value.couponRate=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.couponRate,void 0,{number:!0}]])]),s("div",za,[e[66]||(e[66]=s("label",null,"–ß–∞—Å—Ç–æ—Ç–∞ –∫—É–ø–æ–Ω–æ–≤ (—Ä–∞–∑/–≥–æ–¥)",-1)),i(s("select",{"onUpdate:modelValue":e[16]||(e[16]=a=>vr.value.couponFrequency=a),class:"param-input",onChange:Fr},[...e[65]||(e[65]=[s("option",{value:1},"1 (–µ–∂–µ–≥–æ–¥–Ω–æ)",-1),s("option",{value:2},"2 (—Ä–∞–∑ –≤ –ø–æ–ª–≥–æ–¥–∞)",-1),s("option",{value:4},"4 (–µ–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω–æ)",-1),s("option",{value:12},"12 (–µ–∂–µ–º–µ—Å—è—á–Ω–æ)",-1)])],544),[[c,vr.value.couponFrequency,void 0,{number:!0}]])]),s("div",Na,[e[67]||(e[67]=s("label",null,"–ù–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–π –∫—É–ø–æ–Ω–Ω—ã–π –¥–æ—Ö–æ–¥ (–ù–ö–î)",-1)),i(s("input",{"onUpdate:modelValue":e[17]||(e[17]=a=>vr.value.accruedInterest=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.accruedInterest,void 0,{number:!0}]])]),s("div",ja,[e[68]||(e[68]=s("label",null,"–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫—É–ø–æ–Ω–∞",-1)),i(s("input",{"onUpdate:modelValue":e[18]||(e[18]=a=>vr.value.lastCouponDate=a),type:"date",class:"param-input",onChange:Fr},null,544),[[x,vr.value.lastCouponDate]])]),s("div",qa,[e[69]||(e[69]=s("label",null,"–î–∞—Ç–∞ –ø–æ–≥–∞—à–µ–Ω–∏—è",-1)),i(s("input",{"onUpdate:modelValue":e[19]||(e[19]=a=>vr.value.maturityDate=a),type:"date",class:"param-input",onChange:Fr},null,544),[[x,vr.value.maturityDate]])]),s("div",$a,[e[71]||(e[71]=s("label",null,"–ö–æ–Ω–≤–µ–Ω—Ü–∏—è –ø–æ–¥—Å—á–µ—Ç–∞ –¥–Ω–µ–π",-1)),i(s("select",{"onUpdate:modelValue":e[20]||(e[20]=a=>vr.value.dayCountConvention=a),class:"param-input",onChange:Fr},[...e[70]||(e[70]=[s("option",{value:"ACT/ACT"},"ACT/ACT (ISDA)",-1),s("option",{value:"ACT/365"},"ACT/365",-1),s("option",{value:"ACT/360"},"ACT/360",-1),s("option",{value:"30/360"},"30/360",-1)])],544),[[c,vr.value.dayCountConvention]])]),s("div",Oa,[s("label",null,[i(s("input",{type:"checkbox","onUpdate:modelValue":e[21]||(e[21]=a=>vr.value.autoCalculateAI=a),onChange:Fr},null,544),[[h,vr.value.autoCalculateAI]]),e[72]||(e[72]=b(" –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –ù–ö–î ",-1))])])])]),s("div",La,[e[81]||(e[81]=s("div",{class:"card-header"},[s("h3",null,"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–æ—Ä–≤–∞—Ä–¥–∞")],-1)),s("div",Ja,[s("div",Ga,[e[74]||(e[74]=s("label",null,"–î–∞—Ç–∞ –æ—Ü–µ–Ω–∫–∏",-1)),i(s("input",{"onUpdate:modelValue":e[22]||(e[22]=a=>vr.value.bondValuationDate=a),type:"date",class:"param-input",onChange:Fr},null,544),[[x,vr.value.bondValuationDate]])]),s("div",Wa,[e[75]||(e[75]=s("label",null,"–î–∞—Ç–∞ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏",-1)),i(s("input",{"onUpdate:modelValue":e[23]||(e[23]=a=>vr.value.bondExpirationDate=a),type:"date",class:"param-input",onChange:Fr},null,544),[[x,vr.value.bondExpirationDate]])]),s("div",Ha,[e[76]||(e[76]=s("label",null,"–í—Ä–µ–º—è –¥–æ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏ (–ª–µ—Ç)",-1)),i(s("input",{"onUpdate:modelValue":e[24]||(e[24]=a=>vr.value.timeToMaturity=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.timeToMaturity,void 0,{number:!0}]])]),s("div",Ka,[e[77]||(e[77]=s("label",null,"–†–µ–ø–æ —Å—Ç–∞–≤–∫–∞ (%)",-1)),i(s("input",{"onUpdate:modelValue":e[25]||(e[25]=a=>vr.value.repoRate=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.repoRate,void 0,{number:!0}]])]),s("div",Xa,[e[78]||(e[78]=s("label",null,"–ë–µ–∑—Ä–∏—Å–∫–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ (%)",-1)),i(s("input",{"onUpdate:modelValue":e[26]||(e[26]=a=>vr.value.riskFreeRate=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.riskFreeRate,void 0,{number:!0}]])]),s("div",Qa,[e[79]||(e[79]=s("label",null,"–†—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞ —Ñ–æ—Ä–≤–∞—Ä–¥–∞ (clean, %)",-1)),i(s("input",{"onUpdate:modelValue":e[27]||(e[27]=a=>vr.value.marketForwardPrice=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.marketForwardPrice,void 0,{number:!0}]])]),s("div",Za,[e[80]||(e[80]=s("label",null,"–†–∞–∑–º–µ—Ä –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ (—à—Ç.)",-1)),i(s("input",{"onUpdate:modelValue":e[28]||(e[28]=a=>vr.value.contractSize=a),type:"number",class:"param-input",step:"1",onChange:Fr},null,544),[[x,vr.value.contractSize,void 0,{number:!0}]])])])]),s("div",ae,[e[84]||(e[84]=s("div",{class:"card-header"},[s("h3",null,"–ö—Ä–∏–≤–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏"),s("span",{class:"card-subtitle"},"–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—Ä–∏–≤—É—é –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∏–ª–∏ –ø–ª–æ—Å–∫—É—é —Å—Ç–∞–≤–∫—É (—Ä–µ–ø–æ)")],-1)),s("div",ee,[s("div",le,[s("label",null,[i(s("input",{type:"checkbox","onUpdate:modelValue":e[29]||(e[29]=a=>vr.value.useYieldCurve=a),onChange:Fr},null,544),[[h,vr.value.useYieldCurve]]),e[82]||(e[82]=b(" –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—Ä–∏–≤—É—é –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ ",-1))])]),vr.value.useYieldCurve?(w(),o("div",te,[(w(!0),o(p,null,m(vr.value.yieldCurvePoints,(a,l)=>(w(),o("div",{class:"param-row",key:l},[s("label",null,v(a.tenor)+" –º–µ—Å.",1),i(s("input",{"onUpdate:modelValue":e=>a.rate=e,type:"number",class:"param-input",step:"0.01",onChange:Fr},null,40,re),[[x,a.rate,void 0,{number:!0}]]),e[83]||(e[83]=s("span",{style:{color:"rgba(255,255,255,0.5)","margin-left":"8px"}},"%",-1))]))),128))])):u("",!0)])])],64)):"fx"!==tr.value?(w(),o(p,{key:2},[s("div",ne,[e[89]||(e[89]=s("div",{class:"card-header"},[s("h3",null,"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±–∞–∑–æ–≤–æ–≥–æ –∞–∫—Ç–∏–≤–∞")],-1)),s("div",oe,[s("div",se,[e[85]||(e[85]=s("label",null,"–°–ø–æ—Ç —Ü–µ–Ω–∞ (S‚ÇÄ)",-1)),i(s("input",{"onUpdate:modelValue":e[30]||(e[30]=a=>vr.value.spotPrice=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.spotPrice,void 0,{number:!0}]])]),"equity"===tr.value?(w(),o("div",ue,[e[86]||(e[86]=s("label",null,"–î–∏–≤–∏–¥–µ–Ω–¥—ã (%)",-1)),i(s("input",{"onUpdate:modelValue":e[31]||(e[31]=a=>vr.value.dividendYield=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.dividendYield,void 0,{number:!0}]])])):u("",!0),"commodity"===tr.value?(w(),o("div",ie,[e[87]||(e[87]=s("label",null,"–°—Ç–æ–∏–º–æ—Å—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏—è (%)",-1)),i(s("input",{"onUpdate:modelValue":e[32]||(e[32]=a=>vr.value.carryingCost=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.carryingCost,void 0,{number:!0}]])])):u("",!0),"commodity"===tr.value?(w(),o("div",ce,[e[88]||(e[88]=s("label",null,"–£–¥–æ–±—Å—Ç–≤–æ –≤–ª–∞–¥–µ–Ω–∏—è (Convenience Yield, %)",-1)),i(s("input",{"onUpdate:modelValue":e[33]||(e[33]=a=>vr.value.convenienceYield=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.convenienceYield,void 0,{number:!0}]])])):u("",!0)])]),s("div",de,[e[93]||(e[93]=s("div",{class:"card-header"},[s("h3",null,"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–æ—Ä–≤–∞—Ä–¥–∞")],-1)),s("div",ve,[s("div",pe,[e[90]||(e[90]=s("label",null,"–í—Ä–µ–º—è –¥–æ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏ (–ª–µ—Ç)",-1)),i(s("input",{"onUpdate:modelValue":e[34]||(e[34]=a=>vr.value.timeToMaturity=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.timeToMaturity,void 0,{number:!0}]])]),s("div",me,[e[91]||(e[91]=s("label",null,"–ë–µ–∑—Ä–∏—Å–∫–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ (%)",-1)),i(s("input",{"onUpdate:modelValue":e[35]||(e[35]=a=>vr.value.riskFreeRate=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.riskFreeRate,void 0,{number:!0}]])]),s("div",ye,[e[92]||(e[92]=s("label",null,"–†—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞ —Ñ–æ—Ä–≤–∞—Ä–¥–∞",-1)),i(s("input",{"onUpdate:modelValue":e[36]||(e[36]=a=>vr.value.marketForwardPrice=a),type:"number",class:"param-input",step:"0.01",onChange:Fr},null,544),[[x,vr.value.marketForwardPrice,void 0,{number:!0}]])])])])],64)):u("",!0)]),s("div",fe,[s("div",xe,[e[95]||(e[95]=s("div",{class:"metric-header"},[s("h3",null,"–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ñ–æ—Ä–≤–∞—Ä–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞"),s("span",{class:"metric-unit"},"–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Ü–µ–Ω–∞")],-1)),s("div",be,v(hr(pr.value.fairForwardPrice)),1),s("div",he,[e[94]||(e[94]=s("span",{class:"detail-label"},"–ú–æ–¥–µ–ª—å:",-1)),s("span",we,v("fx"===tr.value?"–í–∞–ª—é—Ç–Ω—ã–π —Ñ–æ—Ä–≤–∞—Ä–¥":"Cost-of-Carry"),1)])]),s("div",ge,[e[96]||(e[96]=s("div",{class:"metric-header"},[s("h3",null,"–†—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞ —Ñ–æ—Ä–≤–∞—Ä–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞"),s("span",{class:"metric-unit"},"–†—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞")],-1)),s("div",Fe,v(hr(vr.value.marketForwardPrice)),1),e[97]||(e[97]=s("div",{class:"metric-detail"},[s("span",{class:"detail-label"},"–ò—Å—Ç–æ—á–Ω–∏–∫:"),s("span",{class:"detail-value"},"–†—ã–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ")],-1))]),s("div",Ce,[e[99]||(e[99]=s("div",{class:"metric-header"},[s("h3",null,"–°—Ç–æ–∏–º–æ—Å—Ç—å —Ñ–æ—Ä–≤–∞—Ä–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞"),s("span",{class:"metric-unit"},"–ü–æ –µ–¥–∏–Ω–∏—Ü–µ")],-1)),s("div",{class:y(["metric-value",pr.value.forwardValue>=0?"positive":"negative"])},v(hr(pr.value.forwardValue)),3),s("div",ke,[e[98]||(e[98]=s("span",{class:"detail-label"},"–ó–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç:",-1)),"fx"===tr.value?(w(),o("span",Re,v(wr(pr.value.forwardValue)),1)):(w(),o("span",Ve,v(wr(pr.value.forwardValue*vr.value.contractSize)),1))])])]),"fx"===tr.value&&pr.value.currencyPair?(w(),o("div",Pe,[e[106]||(e[106]=s("div",{class:"card-header"},[s("h3",null,"–î–µ—Ç–∞–ª–∏ –≤–∞–ª—é—Ç–Ω–æ–≥–æ —Ñ–æ—Ä–≤–∞—Ä–¥–∞")],-1)),s("div",De,[s("div",Se,[e[100]||(e[100]=s("div",{class:"metric-header"},[s("h3",null,"–í–∞–ª—é—Ç–Ω–∞—è –ø–∞—Ä–∞")],-1)),s("div",Te,v(pr.value.currencyPair),1)]),s("div",Be,[e[101]||(e[101]=s("div",{class:"metric-header"},[s("h3",null,"–§–æ—Ä–≤–∞—Ä–¥–Ω—ã–π –∫—É—Ä—Å (–º–∏–Ω)")],-1)),s("div",Ae,v(pr.value.forwardRateMin?.toFixed(3)||"N/A"),1)]),s("div",Ue,[e[102]||(e[102]=s("div",{class:"metric-header"},[s("h3",null,"–§–æ—Ä–≤–∞—Ä–¥–Ω—ã–π –∫—É—Ä—Å (–º–∞–∫—Å)")],-1)),s("div",Ie,v(pr.value.forwardRateMax?.toFixed(3)||"N/A"),1)])]),s("div",Ee,[s("div",_e,[e[103]||(e[103]=s("div",{class:"card-header"},[s("h3",null,"–î–∏—Å–∫–æ–Ω—Ç-—Ñ–∞–∫—Ç–æ—Ä—ã")],-1)),s("div",Me,[s("div",Ye,[s("label",null,"–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –≤–∞–ª—é—Ç–∞ ("+v(vr.value.fxBuyCurrency)+")",1),s("span",ze,v(pr.value.discountFactorInternal?.toFixed(3)||"N/A"),1)]),s("div",Ne,[s("label",null,"–í–Ω–µ—à–Ω—è—è –≤–∞–ª—é—Ç–∞ ("+v(vr.value.fxSellCurrency)+")",1),s("span",je,v(pr.value.discountFactorExternal?.toFixed(3)||"N/A"),1)])])]),s("div",qe,[e[105]||(e[105]=s("div",{class:"card-header"},[s("h3",null,"–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å")],-1)),s("div",$e,[s("div",Oe,[s("label",null,"–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è (—Ç—ã—Å. "+v(vr.value.settlementCurrency||"RUB")+")",1),s("span",Le,v(pr.value.fairValueMin?.toFixed(3)||"N/A"),1)]),s("div",Je,[s("label",null,"–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è (—Ç—ã—Å. "+v(vr.value.settlementCurrency||"RUB")+")",1),s("span",Ge,v(pr.value.fairValueMax?.toFixed(3)||"N/A"),1)]),void 0!==pr.value.forwardDiff?(w(),o("div",We,[e[104]||(e[104]=s("label",null,"–†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ —Å –∫—É—Ä—Å–æ–º —Å–¥–µ–ª–∫–∏",-1)),s("span",{class:y(["param-value","string"==typeof pr.value.forwardDiff?"":pr.value.forwardDiff>=0?"positive":"negative"])},v("string"==typeof pr.value.forwardDiff?pr.value.forwardDiff:pr.value.forwardDiff.toFixed(3)),3)])):u("",!0)])])])])):u("",!0),"fx"!==tr.value?(w(),o("div",He,[e[114]||(e[114]=s("div",{class:"card-header"},[s("h3",null,"–ú–æ–¥–µ–ª—å Cost-of-Carry")],-1)),s("div",Ke,[s("div",Xe,[e[107]||(e[107]=s("span",{class:"carry-label"},"–°–ø–æ—Ç —Ü–µ–Ω–∞ –∞–∫—Ç–∏–≤–∞ (S‚ÇÄ)",-1)),s("span",Qe,v(hr(vr.value.spotPrice)),1)]),s("div",Ze,[e[108]||(e[108]=s("span",{class:"carry-label"},"+ –ë–µ–∑—Ä–∏—Å–∫–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ (r)",-1)),s("span",al,v(vr.value.riskFreeRate.toFixed(3))+"%",1)]),s("div",el,[e[109]||(e[109]=s("span",{class:"carry-label"},"+ –°—Ç–æ–∏–º–æ—Å—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏—è (c)",-1)),s("span",ll,v(vr.value.carryingCost.toFixed(3))+"%",1)]),s("div",tl,[e[110]||(e[110]=s("span",{class:"carry-label"},"- –î–∏–≤–∏–¥–µ–Ω–¥—ã/–ö—É–ø–æ–Ω—ã (d)",-1)),s("span",rl,v(vr.value.dividendYield.toFixed(3))+"%",1)]),s("div",nl,[e[111]||(e[111]=s("span",{class:"carry-label"},"- –£–¥–æ–±—Å—Ç–≤–æ –≤–ª–∞–¥–µ–Ω–∏—è (y)",-1)),s("span",ol,v(vr.value.convenienceYield.toFixed(3))+"%",1)]),s("div",sl,[e[112]||(e[112]=s("span",{class:"carry-label"},"= –ß–∏—Å—Ç—ã–π Carry",-1)),s("span",ul,v((vr.value.riskFreeRate+vr.value.carryingCost-vr.value.dividendYield-vr.value.convenienceYield).toFixed(3))+"% ",1)]),s("div",il,[e[113]||(e[113]=s("span",{class:"carry-label"},"= –°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ñ–æ—Ä–≤–∞—Ä–¥–∞ F",-1)),s("span",{class:y(["carry-value",pr.value.fairForwardPrice>=vr.value.spotPrice?"positive":"negative"])},v(hr(pr.value.fairForwardPrice)),3)])])])):u("",!0),"fx"!==tr.value?(w(),o("div",cl,[s("div",dl,[e[118]||(e[118]=s("div",{class:"card-header"},[s("h3",null,"–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å"),s("span",{class:"card-subtitle"},"–¢–µ–∫—É—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–∑–∏—Ü–∏–∏")],-1)),s("div",vl,[s("div",pl,[e[115]||(e[115]=s("span",{class:"label"},"–°–ø–æ—Ç —Ü–µ–Ω–∞",-1)),s("span",ml,v(hr(vr.value.spotPrice)),1)]),s("div",yl,[e[116]||(e[116]=s("span",{class:"label"},"–¶–µ–Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è",-1)),s("span",fl,v(hr(vr.value.marketForwardPrice)),1)]),s("div",xl,[e[117]||(e[117]=s("span",{class:"label"},"–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å",-1)),s("span",{class:y(["value",pr.value.intrinsicValue>=0?"positive":"negative"])},v(pr.value.intrinsicValue>=0?"+":"")+v(hr(pr.value.intrinsicValue)),3)])])]),s("div",bl,[e[122]||(e[122]=s("div",{class:"card-header"},[s("h3",null,"–í—Ä–µ–º–µ–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å"),s("span",{class:"card-subtitle"},"–í—Ä–µ–º–µ–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å")],-1)),s("div",hl,[s("div",wl,[e[119]||(e[119]=s("span",{class:"label"},"–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Ñ–æ—Ä–≤–∞—Ä–¥–Ω–∞—è —Ü–µ–Ω–∞",-1)),s("span",gl,v(hr(pr.value.fairForwardPrice)),1)]),s("div",Fl,[e[120]||(e[120]=s("span",{class:"label"},"–¶–µ–Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è",-1)),s("span",Cl,v(hr(vr.value.marketForwardPrice)),1)]),s("div",kl,[e[121]||(e[121]=s("span",{class:"label"},"–í—Ä–µ–º–µ–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å",-1)),s("span",{class:y(["value",pr.value.timeValue>=0?"positive":"negative"])},v(pr.value.timeValue>=0?"+":"")+v(hr(pr.value.timeValue)),3)])])]),s("div",Rl,[e[126]||(e[126]=s("div",{class:"card-header"},[s("h3",null,"–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ñ–æ—Ä–≤–∞—Ä–¥–∞"),s("span",{class:"card-subtitle"},"–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–∑–∏—Ü–∏–∏")],-1)),s("div",Vl,[s("div",Pl,[e[123]||(e[123]=s("span",{class:"label"},"–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å",-1)),s("span",{class:y(["value",pr.value.intrinsicValue>=0?"positive":"negative"])},v(pr.value.intrinsicValue>=0?"+":"")+v(hr(pr.value.intrinsicValue)),3)]),s("div",Dl,[e[124]||(e[124]=s("span",{class:"label"},"–í—Ä–µ–º–µ–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å",-1)),s("span",{class:y(["value",pr.value.timeValue>=0?"positive":"negative"])},v(pr.value.timeValue>=0?"+":"")+v(hr(pr.value.timeValue)),3)]),s("div",Sl,[e[125]||(e[125]=s("span",{class:"label"},"–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å",-1)),s("span",Tl,v(pr.value.totalValue>=0?"+":"")+v(hr(pr.value.totalValue)),1)])])])])):u("",!0),"bond"===tr.value&&pr.value.couponSchedule?(w(),o(p,{key:5},[s("div",Bl,[e[129]||(e[129]=s("div",{class:"card-header"},[s("h3",null,"–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∫—É–ø–æ–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π"),s("span",{class:"card-subtitle"},"–ö—É–ø–æ–Ω—ã –º–µ–∂–¥—É –¥–∞—Ç–æ–π –æ—Ü–µ–Ω–∫–∏ –∏ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–µ–π")],-1)),s("div",Al,[s("table",Ul,[e[128]||(e[128]=s("thead",null,[s("tr",null,[s("th",null,"‚Ññ"),s("th",null,"–î–∞—Ç–∞ –∫—É–ø–æ–Ω–∞"),s("th",null,"–î–Ω–µ–π –¥–æ –ø–ª–∞—Ç–µ–∂–∞"),s("th",null,"–õ–µ—Ç –¥–æ –ø–ª–∞—Ç–µ–∂–∞"),s("th",null,"–°—É–º–º–∞ –∫—É–ø–æ–Ω–∞"),s("th",null,"–°—Ç–∞–≤–∫–∞ –¥–∏—Å–∫–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (%)"),s("th",null,"–î–∏—Å–∫–æ–Ω—Ç-—Ñ–∞–∫—Ç–æ—Ä"),s("th",null,"–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å")])],-1)),s("tbody",null,[(w(!0),o(p,null,m(pr.value.couponSchedule,a=>(w(),o("tr",{key:a.couponNumber},[s("td",null,v(a.couponNumber),1),s("td",null,v(gr(a.couponDate)),1),s("td",Il,v(a.daysToPayment),1),s("td",El,v(a.yearsToPayment.toFixed(4)),1),s("td",_l,v(hr(a.couponAmount)),1),s("td",Ml,v(a.discountRate.toFixed(3))+"%",1),s("td",Yl,v(a.discountFactor.toFixed(6)),1),s("td",zl,v(hr(a.presentValue)),1)]))),128)),s("tr",Nl,[e[127]||(e[127]=s("td",{colspan:"7",style:{"text-align":"right","font-weight":"600"}},"–ò—Ç–æ–≥–æ PV –∫—É–ø–æ–Ω–æ–≤:",-1)),s("td",jl,v(hr(pr.value.pvCoupons||0)),1)])])])])]),pr.value.formulaBreakdown?(w(),o("div",ql,[e[140]||(e[140]=s("div",{class:"card-header"},[s("h3",null,"–î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä —Ñ–æ—Ä–º—É–ª—ã"),s("span",{class:"card-subtitle"},"F = [(S‚ÇÄ + AI‚ÇÄ) √ó (1 + r_repo √ó T) - Œ£(C·µ¢ √ó DF·µ¢)] / DF(T) - AI_T")],-1)),s("div",$l,[s("div",Ol,[e[130]||(e[130]=s("label",null,"–°–ø–æ—Ç —Ü–µ–Ω–∞ (clean, S‚ÇÄ)",-1)),s("span",Ll,v(hr(pr.value.formulaBreakdown.spotCleanPrice)),1)]),s("div",Jl,[e[131]||(e[131]=s("label",null,"–ù–ö–î –Ω–∞ –¥–∞—Ç—É –æ—Ü–µ–Ω–∫–∏ (AI‚ÇÄ)",-1)),s("span",Gl,v(hr(pr.value.formulaBreakdown.accruedInterestSpot)),1)]),s("div",Wl,[e[132]||(e[132]=s("label",null,"–°–ø–æ—Ç —Ü–µ–Ω–∞ (dirty, S‚ÇÄ + AI‚ÇÄ)",-1)),s("span",Hl,v(hr(pr.value.formulaBreakdown.spotDirtyPrice)),1)]),s("div",Kl,[e[133]||(e[133]=s("label",null,"–†–µ–ø–æ —Å—Ç–∞–≤–∫–∞ (r_repo)",-1)),s("span",Xl,v(pr.value.formulaBreakdown.repoRate.toFixed(3))+"%",1)]),s("div",Ql,[e[134]||(e[134]=s("label",null,"–í—Ä–µ–º—è –¥–æ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏ (T)",-1)),s("span",Zl,v(pr.value.formulaBreakdown.timeToMaturity.toFixed(4))+" –ª–µ—Ç",1)]),s("div",at,[e[135]||(e[135]=s("label",null,"–°—Ç–æ–∏–º–æ—Å—Ç—å —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è (S √ó r √ó T)",-1)),s("span",et,v(hr(pr.value.formulaBreakdown.financingCost)),1)]),s("div",lt,[e[136]||(e[136]=s("label",null,"PV –∫—É–ø–æ–Ω–æ–≤ (Œ£(C·µ¢ √ó DF·µ¢))",-1)),s("span",tt,"-"+v(hr(pr.value.formulaBreakdown.totalCouponsPV)),1)]),s("div",rt,[e[137]||(e[137]=s("label",null,"–§–æ—Ä–≤–∞—Ä–¥ —Ü–µ–Ω–∞ (dirty, –¥–æ –≤—ã—á–µ—Ç–∞ –ù–ö–î)",-1)),s("span",nt,v(hr(pr.value.formulaBreakdown.forwardDirtyPriceBeforeAI)),1)]),s("div",ot,[e[138]||(e[138]=s("label",null,"–ù–ö–î –Ω–∞ –¥–∞—Ç—É —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏ (AI_T)",-1)),s("span",st,"-"+v(hr(pr.value.formulaBreakdown.accruedInterestForward)),1)]),s("div",ut,[e[139]||(e[139]=s("label",null,"–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Ñ–æ—Ä–≤–∞—Ä–¥–Ω–∞—è —Ü–µ–Ω–∞ (clean, F)",-1)),s("span",it,v(hr(pr.value.formulaBreakdown.forwardCleanPrice)),1)])])])):u("",!0),void 0!==pr.value.dv01?(w(),o("div",ct,[s("div",dt,[e[142]||(e[142]=s("div",{class:"card-header"},[s("h3",null,"DV01"),s("span",{class:"card-subtitle"},"–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã –Ω–∞ 1 bp")],-1)),s("div",vt,v(pr.value.dv01.toFixed(6)),1),s("div",pt,[e[141]||(e[141]=s("span",{class:"detail-label"},"–ù–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç:",-1)),s("span",mt,v(wr(pr.value.dv01*vr.value.contractSize*vr.value.faceValue/100)),1)])]),s("div",yt,[e[144]||(e[144]=s("div",{class:"card-header"},[s("h3",null,"Convexity"),s("span",{class:"card-subtitle"},"–í—Ç–æ—Ä–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è")],-1)),s("div",ft,v(pr.value.convexity?.toFixed(2)||"N/A"),1),s("div",xt,[e[143]||(e[143]=s("span",{class:"detail-label"},"–ù–µ–ª–∏–Ω–µ–π–Ω–æ—Å—Ç—å:",-1)),s("span",bt,v((pr.value.convexity||0)>0?"–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è":"–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è"),1)])]),s("div",ht,[e[146]||(e[146]=s("div",{class:"card-header"},[s("h3",null,"Repo Sensitivity"),s("span",{class:"card-subtitle"},"–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ —Ä–µ–ø–æ (1 bp)")],-1)),s("div",{class:y(["metric-value",(pr.value.repoSensitivity||0)>=0?"positive":"negative"])},v(pr.value.repoSensitivity?.toFixed(6)||"N/A"),3),s("div",wt,[e[145]||(e[145]=s("span",{class:"detail-label"},"–ù–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç:",-1)),s("span",gt,v(wr((pr.value.repoSensitivity||0)*vr.value.contractSize*vr.value.faceValue/100)),1)])])])):u("",!0)],64)):u("",!0),s("div",Ft,[s("div",Ct,[s("div",kt,[s("h3",null,v("fx"===tr.value?"–ü—Ä–æ—Ñ–∏–ª—å —Ñ–æ—Ä–≤–∞—Ä–¥–Ω–æ–≥–æ –∫—É—Ä—Å–∞":"–ü—Ä–æ—Ñ–∏–ª—å —Ñ–æ—Ä–≤–∞—Ä–¥–Ω–æ–π —Ü–µ–Ω—ã"),1),s("span",Rt,v("fx"===tr.value?"–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Ñ–æ—Ä–≤–∞—Ä–¥–Ω–æ–≥–æ –∫—É—Ä—Å–∞ –æ—Ç —Å–ø–æ—Ç –∫—É—Ä—Å–∞":"F(S) –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Å–ø–æ—Ç —Ü–µ–Ω—ã"),1)]),s("div",Vt,[s("canvas",{ref_key:"priceProfileRef",ref:yr},null,512)])]),s("div",Pt,[s("div",Dt,[s("h3",null,v("fx"===tr.value?"NPV –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ vs –í—Ä–µ–º—è":"–°—Ç–æ–∏–º–æ—Å—Ç—å —Ñ–æ—Ä–≤–∞—Ä–¥–∞ vs –í—Ä–µ–º—è"),1),s("span",St,v("fx"===tr.value?"–≠–≤–æ–ª—é—Ü–∏—è NPV –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–æ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏":"–≠–≤–æ–ª—é—Ü–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏"),1)]),s("div",Tt,[s("canvas",{ref_key:"valueVsTimeRef",ref:fr},null,512)])])]),s("div",Bt,[e[148]||(e[148]=s("div",{class:"card-header"},[s("h3",null,"–ê–Ω–∞–ª–∏–∑ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤"),s("span",{class:"card-subtitle"},"–°—Ç–æ–∏–º–æ—Å—Ç—å —Ñ–æ—Ä–≤–∞—Ä–¥–∞ –ø—Ä–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –¥–≤–∏–∂–µ–Ω–∏—è—Ö —Å–ø–æ—Ç–∞")],-1)),s("div",At,[s("table",Ut,[e[147]||(e[147]=s("thead",null,[s("tr",null,[s("th",null,"–°—Ü–µ–Ω–∞—Ä–∏–π"),s("th",null,"–°–ø–æ—Ç —Ü–µ–Ω–∞"),s("th",null,"% –ò–∑–º–µ–Ω–µ–Ω–∏–µ"),s("th",null,"–°—Ç–æ–∏–º–æ—Å—Ç—å —Ñ–æ—Ä–≤–∞—Ä–¥–∞"),s("th",null,"P&L (–õ–æ–Ω–≥)"),s("th",null,"P&L (–®–æ—Ä—Ç)")])],-1)),s("tbody",null,[(w(!0),o(p,null,m(mr.value,a=>(w(),o("tr",{key:a.id,class:y(a.isBase?"base":"")},[s("td",It,v(a.name),1),s("td",Et,v(hr(a.spotPrice)),1),s("td",{class:y(["change mono",a.change>=0?"positive":"negative"])},v(a.change>=0?"+":"")+v(a.change.toFixed(1))+"% ",3),s("td",{class:y(["forward-value mono",a.forwardValue>=0?"positive":"negative"])},v(a.forwardValue>=0?"+":"")+v(hr(a.forwardValue)),3),s("td",{class:y(["pnl mono",a.pnlLong>=0?"positive":"negative"])},v(a.pnlLong>=0?"+":"")+v(wr(a.pnlLong)),3),s("td",{class:y(["pnl mono",a.pnlShort>=0?"positive":"negative"])},v(a.pnlShort>=0?"+":"")+v(wr(a.pnlShort)),3)],2))),128))])])])]),"fx"!==tr.value?(w(),o("div",_t,[s("div",Mt,[e[152]||(e[152]=s("div",{class:"chart-header"},[s("h3",null,"Delta (‚àÇF/‚àÇS)"),s("span",{class:"chart-subtitle"},"–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ —Å–ø–æ—Ç —Ü–µ–Ω–µ")],-1)),s("div",Yt,[s("div",zt,[e[149]||(e[149]=s("span",{class:"label"},"–î–µ–ª—å—Ç–∞ (Delta)",-1)),s("span",Nt,v(pr.value.delta.toFixed(3)),1)]),s("div",jt,[e[150]||(e[150]=s("span",{class:"label"},"P&L –Ω–∞ 1% —Å–ø–æ—Ç–∞",-1)),s("span",qt,v(wr(vr.value.spotPrice*vr.value.contractSize*.01*pr.value.delta)),1)]),s("div",$t,[e[151]||(e[151]=s("span",{class:"label"},"–¶–µ–Ω–∞ –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏",-1)),s("span",Ot,v(hr(vr.value.marketForwardPrice)),1)])])]),s("div",Lt,[e[156]||(e[156]=s("div",{class:"chart-header"},[s("h3",null,"Rho (‚àÇF/‚àÇr)"),s("span",{class:"chart-subtitle"},"–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ —Å—Ç–∞–≤–∫–∞–º")],-1)),s("div",Jt,[s("div",Gt,[e[153]||(e[153]=s("span",{class:"label"},"Rho (Rho)",-1)),s("span",Wt,v(pr.value.rho.toFixed(3)),1)]),s("div",Ht,[e[154]||(e[154]=s("span",{class:"label"},"P&L –Ω–∞ 1% —Å—Ç–∞–≤–∫–∏",-1)),s("span",Kt,v(wr(pr.value.rho*vr.value.contractSize*.01)),1)]),s("div",Xt,[e[155]||(e[155]=s("span",{class:"label"},"–¢–µ–∫—É—â–∞—è —Å—Ç–∞–≤–∫–∞",-1)),s("span",Qt,v(vr.value.riskFreeRate.toFixed(3))+"%",1)])])])])):u("",!0),s("div",Zt,["fx"===tr.value?(w(),o("span",ar,"‚Ä¢ –ú–æ–¥–µ–ª—å: –í–∞–ª—é—Ç–Ω—ã–π —Ñ–æ—Ä–≤–∞—Ä–¥ (–¥–∏—Å–∫–æ–Ω—Ç-—Ñ–∞–∫—Ç–æ—Ä—ã)")):"bond"===tr.value?(w(),o("span",er,"‚Ä¢ –ú–æ–¥–µ–ª—å: –§–æ—Ä–≤–∞—Ä–¥ –Ω–∞ –æ–±–ª–∏–≥–∞—Ü–∏—é (—Ä–µ–ø–æ —Å—Ç–∞–≤–∫–∞)")):(w(),o("span",lr,"‚Ä¢ –ú–æ–¥–µ–ª—å: Cost-of-Carry (–±–µ–∑ –∞—Ä–±–∏—Ç—Ä–∞–∂–∞)")),s("span",null,"‚Ä¢ –ú–µ—Ç–æ–¥: "+v("fx"===tr.value?"–î–∏—Å–∫–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–Ω–µ–∂–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤":"bond"===tr.value?"–†–µ–ø–æ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ":"–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ"),1),e[157]||(e[157]=s("span",null,"‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –í —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏",-1))])]))}}),[["__scopeId","data-v-b51d3d57"]]);export{tr as default};
