import{s as e,r as a,v as t}from"./vendor-DLyKmMu8.js";const l=e("swapRegistry",()=>{const e=a([]),l=a([]),u=a((new Date).toISOString().split("T")[0]),n=t(()=>e.value.length),s=t(()=>e.value.filter((e,a)=>null!==l.value[a]&&void 0!==l.value[a])),v=t(()=>l.value.reduce((e,a)=>e+(a?.dv01||0),0)),o=t(()=>l.value.reduce((e,a)=>e+(a?.swapValue||0),0)),i=t(()=>l.value.reduce((e,a)=>e+(a?.convexity||0),0)),r=t(()=>l.value.reduce((e,a)=>e+(a?.spreadDv01||0),0));return{registrySwaps:e,swapResults:l,valuationDate:u,totalSwaps:n,calculatedSwaps:s,totalDv01:v,totalSwapValue:o,totalConvexity:i,totalSpreadDv01:r,addSwap:function(a){const t={...a,id:a.id||`swap_${Date.now()}_${Math.random().toString(36).substr(2,9)}`};return e.value.push(t),l.value.push(null),t.id},updateSwap:function(a,t){const l=e.value.findIndex(e=>e.id===a);-1!==l&&(e.value[l]={...e.value[l],...t})},removeSwap:function(a){const t=e.value.findIndex(e=>e.id===a);-1!==t&&(e.value.splice(t,1),l.value.splice(t,1))},loadRegistry:function(a){e.value=a.map((e,a)=>({...e,id:e.id||`swap_${Date.now()}_${a}_${Math.random().toString(36).substr(2,9)}`})),l.value=new Array(a.length).fill(null)},clearRegistry:function(){e.value=[],l.value=[]},setSwapResult:function(a,t){a>=0&&a<l.value.length&&(l.value[a]=t,a<e.value.length&&(e.value[a].valuationResult=t||void 0))},setAllResults:function(a){l.value=[...a],a.forEach((a,t)=>{t<e.value.length&&(e.value[t].valuationResult=a||void 0)})},setValuationDate:function(e){u.value=e},getSwapByIndex:function(a){return e.value[a]||null},getResultByIndex:function(e){return l.value[e]||null},getSwapsByType:function(a){return e.value.filter(e=>e.swapType===a)}}});export{l as u};
